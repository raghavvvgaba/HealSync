import{r as a,f as y,G as v,j as e,L as n,a3 as j,a4 as N}from"./vendor-B8hWb8lf.js";import{u as k}from"./index-CTefgPQJ.js";import{m as r,A as L}from"./framer-CjQtnr63.js";const S="/assets/HealSyncLogo-Bq37opN5.png",R=()=>{var m;const[o,d]=a.useState(localStorage.getItem("theme")||"light"),[x,i]=a.useState(!1),[l,u]=a.useState(!1),c=a.useRef(null),{user:t,userRole:p,logout:h}=k(),g=y(),{register:E,handleSubmit:H,reset:M}=v();a.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(o),localStorage.setItem("theme",o)},[o]),a.useEffect(()=>{const s=w=>{c.current&&!c.current.contains(w.target)&&u(!1)};return l?document.addEventListener("mousedown",s):document.removeEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[l]);const b=()=>{d(s=>s==="light"?"dark":"light")},f=async()=>{try{await h(),console.log("Logged out"),g("/login")}catch(s){console.log("Logout failed",s)}};return e.jsx("nav",{className:"w-full px-2 sm:px-4 text-text sticky top-3 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:`relative flex flex-row justify-between items-center gap-2 rounded-2xl 
          bg-white/70 dark:bg-black/70 
          supports-[backdrop-filter]:bg-white/50 dark:supports-[backdrop-filter]:bg-black/60 
          backdrop-blur border border-primary shadow-xl overflow-visible px-3 sm:px-4 py-2`,children:[e.jsx(n,{to:"/",children:e.jsxs(r.div,{className:"flex items-center gap-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[e.jsx("img",{src:S,alt:"HealSync Logo",className:"h-8 w-8 object-contain"}),e.jsx("span",{className:"text-xl font-bold text-primary hidden sm:block",children:"HealSync"})]})}),e.jsxs(r.div,{className:"flex flex-row items-center gap-2 sm:gap-6 w-auto",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[t?e.jsx("div",{className:"flex flex-row items-center gap-2 relative w-auto",children:e.jsxs("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary text-background font-bold text-lg cursor-pointer",children:(m=t==null?void 0:t.displayName)==null?void 0:m.charAt(0).toUpperCase()}),e.jsx(L,{children:x&&e.jsxs(r.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-40 max-w-[80vw] sm:w-56 sm:max-w-xs rounded-xl shadow-2xl z-[100] p-2 sm:p-4 text-sm pointer-events-auto 
                        bg-white dark:bg-black border border-secondary/60`,style:{minWidth:"140px"},children:[e.jsx("div",{className:"font-semibold text-text mb-1 truncate",children:t==null?void 0:t.displayName}),e.jsx("div",{className:"text-xs text-gray-500 mb-3 capitalize truncate",children:p||"Loading..."}),e.jsx("button",{onClick:f,className:"w-full text-left px-3 py-2 rounded-md bg-accent text-background hover:opacity-90 transition",children:"Logout"})]})})]})}):e.jsxs("div",{className:"flex flex-row items-center gap-2 w-auto",children:[e.jsx(n,{to:"/signup",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-primary text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Sign Up"}),e.jsx(n,{to:"/login",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-accent text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Login"})]}),e.jsx("button",{onClick:b,className:"p-2 sm:p-2 rounded-full border border-gray-300 dark:border-gray-600 hover:scale-110 transition","aria-label":"Toggle Theme",children:o==="light"?e.jsx(j,{}):e.jsx(N,{})})]})]})})})};export{S as H,R as N};
