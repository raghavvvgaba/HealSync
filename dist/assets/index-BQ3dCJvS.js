function GI(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function KI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a0={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function YI(){if(M_)return Yu;M_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:o}}return Yu.Fragment=e,Yu.jsx=n,Yu.jsxs=n,Yu}var O_;function WI(){return O_||(O_=1,a0.exports=YI()),a0.exports}var f=WI(),o0={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function XI(){if(k_)return Ye;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function I(z,le,he){this.props=z,this.context=le,this.refs=N,this.updater=he||_}I.prototype.isReactComponent={},I.prototype.setState=function(z,le){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,le,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=I.prototype;function P(z,le,he){this.props=z,this.context=le,this.refs=N,this.updater=he||_}var R=P.prototype=new O;R.constructor=P,T(R,I.prototype),R.isPureReactComponent=!0;var $=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function D(z,le,he,fe,De,He){return he=He.ref,{$$typeof:t,type:z,key:le,ref:he!==void 0?he:null,props:He}}function C(z,le){return D(z.type,le,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function V(z){var le={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return le[he]})}var U=/\/+/g;function F(z,le){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):le.toString(36)}function L(){}function xe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(le){z.status==="pending"&&(z.status="fulfilled",z.value=le)},function(le){z.status==="pending"&&(z.status="rejected",z.reason=le)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function pe(z,le,he,fe,De){var He=typeof z;(He==="undefined"||He==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(He){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case y:return Re=z._init,pe(Re(z._payload),le,he,fe,De)}}if(Re)return De=De(z),Re=fe===""?"."+F(z,0):fe,$(De)?(he="",Re!=null&&(he=Re.replace(U,"$&/")+"/"),pe(De,le,he,"",function(jt){return jt})):De!=null&&(M(De)&&(De=C(De,he+(De.key==null||z&&z.key===De.key?"":(""+De.key).replace(U,"$&/")+"/")+Re)),le.push(De)),1;Re=0;var Ee=fe===""?".":fe+":";if($(z))for(var Me=0;Me<z.length;Me++)fe=z[Me],He=Ee+F(fe,Me),Re+=pe(fe,le,he,He,De);else if(Me=b(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(fe=z.next()).done;)fe=fe.value,He=Ee+F(fe,Me++),Re+=pe(fe,le,he,He,De);else if(He==="object"){if(typeof z.then=="function")return pe(xe(z),le,he,fe,De);throw le=String(z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Y(z,le,he){if(z==null)return z;var fe=[],De=0;return pe(z,fe,"","",function(He){return le.call(he,He,De++)}),fe}function Z(z){if(z._status===-1){var le=z._result;le=le(),le.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=le)}if(z._status===1)return z._result.default;throw z._result}var se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function we(){}return Ye.Children={map:Y,forEach:function(z,le,he){Y(z,function(){le.apply(this,arguments)},he)},count:function(z){var le=0;return Y(z,function(){le++}),le},toArray:function(z){return Y(z,function(le){return le})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ye.Component=I,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=P,Ye.StrictMode=s,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(z){return B.H.useMemoCache(z)}},Ye.cache=function(z){return function(){return z.apply(null,arguments)}},Ye.cloneElement=function(z,le,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=T({},z.props),De=z.key,He=void 0;if(le!=null)for(Re in le.ref!==void 0&&(He=void 0),le.key!==void 0&&(De=""+le.key),le)!q.call(le,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&le.ref===void 0||(fe[Re]=le[Re]);var Re=arguments.length-2;if(Re===1)fe.children=he;else if(1<Re){for(var Ee=Array(Re),Me=0;Me<Re;Me++)Ee[Me]=arguments[Me+2];fe.children=Ee}return D(z.type,De,void 0,void 0,He,fe)},Ye.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ye.createElement=function(z,le,he){var fe,De={},He=null;if(le!=null)for(fe in le.key!==void 0&&(He=""+le.key),le)q.call(le,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(De[fe]=le[fe]);var Re=arguments.length-2;if(Re===1)De.children=he;else if(1<Re){for(var Ee=Array(Re),Me=0;Me<Re;Me++)Ee[Me]=arguments[Me+2];De.children=Ee}if(z&&z.defaultProps)for(fe in Re=z.defaultProps,Re)De[fe]===void 0&&(De[fe]=Re[fe]);return D(z,He,void 0,void 0,null,De)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(z){return{$$typeof:u,render:z}},Ye.isValidElement=M,Ye.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:Z}},Ye.memo=function(z,le){return{$$typeof:m,type:z,compare:le===void 0?null:le}},Ye.startTransition=function(z){var le=B.T,he={};B.T=he;try{var fe=z(),De=B.S;De!==null&&De(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(we,se)}catch(He){se(He)}finally{B.T=le}},Ye.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ye.use=function(z){return B.H.use(z)},Ye.useActionState=function(z,le,he){return B.H.useActionState(z,le,he)},Ye.useCallback=function(z,le){return B.H.useCallback(z,le)},Ye.useContext=function(z){return B.H.useContext(z)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(z,le){return B.H.useDeferredValue(z,le)},Ye.useEffect=function(z,le,he){var fe=B.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(z,le)},Ye.useId=function(){return B.H.useId()},Ye.useImperativeHandle=function(z,le,he){return B.H.useImperativeHandle(z,le,he)},Ye.useInsertionEffect=function(z,le){return B.H.useInsertionEffect(z,le)},Ye.useLayoutEffect=function(z,le){return B.H.useLayoutEffect(z,le)},Ye.useMemo=function(z,le){return B.H.useMemo(z,le)},Ye.useOptimistic=function(z,le){return B.H.useOptimistic(z,le)},Ye.useReducer=function(z,le,he){return B.H.useReducer(z,le,he)},Ye.useRef=function(z){return B.H.useRef(z)},Ye.useState=function(z){return B.H.useState(z)},Ye.useSyncExternalStore=function(z,le,he){return B.H.useSyncExternalStore(z,le,he)},Ye.useTransition=function(){return B.H.useTransition()},Ye.version="19.1.0",Ye}var P_;function Ep(){return P_||(P_=1,o0.exports=XI()),o0.exports}var E=Ep();const Pe=KI(E),ev=GI({__proto__:null,default:Pe},[E]);var l0={exports:{}},Wu={},c0={exports:{}},u0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function QI(){return V_||(V_=1,function(t){function e(Y,Z){var se=Y.length;Y.push(Z);e:for(;0<se;){var we=se-1>>>1,z=Y[we];if(0<i(z,Z))Y[we]=Z,Y[se]=z,se=we;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],se=Y.pop();if(se!==Z){Y[0]=se;e:for(var we=0,z=Y.length,le=z>>>1;we<le;){var he=2*(we+1)-1,fe=Y[he],De=he+1,He=Y[De];if(0>i(fe,se))De<z&&0>i(He,fe)?(Y[we]=He,Y[De]=se,we=De):(Y[we]=fe,Y[he]=se,we=he);else if(De<z&&0>i(He,se))Y[we]=He,Y[De]=se,we=De;else break e}}return Z}function i(Y,Z){var se=Y.sortIndex-Z.sortIndex;return se!==0?se:Y.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],y=1,v=null,b=3,_=!1,T=!1,N=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function $(Y){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=Y)s(m),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(m)}}function B(Y){if(N=!1,$(Y),!T)if(n(h)!==null)T=!0,q||(q=!0,F());else{var Z=n(m);Z!==null&&pe(B,Z.startTime-Y)}}var q=!1,D=-1,C=5,M=-1;function V(){return I?!0:!(t.unstable_now()-M<C)}function U(){if(I=!1,q){var Y=t.unstable_now();M=Y;var Z=!0;try{e:{T=!1,N&&(N=!1,P(D),D=-1),_=!0;var se=b;try{t:{for($(Y),v=n(h);v!==null&&!(v.expirationTime>Y&&V());){var we=v.callback;if(typeof we=="function"){v.callback=null,b=v.priorityLevel;var z=we(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof z=="function"){v.callback=z,$(Y),Z=!0;break t}v===n(h)&&s(h),$(Y)}else s(h);v=n(h)}if(v!==null)Z=!0;else{var le=n(m);le!==null&&pe(B,le.startTime-Y),Z=!1}}break e}finally{v=null,b=se,_=!1}Z=void 0}}finally{Z?F():q=!1}}}var F;if(typeof R=="function")F=function(){R(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,xe=L.port2;L.port1.onmessage=U,F=function(){xe.postMessage(null)}}else F=function(){O(U,0)};function pe(Y,Z){D=O(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var se=b;b=Z;try{return Y()}finally{b=se}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=b;b=Y;try{return Z()}finally{b=se}},t.unstable_scheduleCallback=function(Y,Z,se){var we=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?we+se:we):se=we,Y){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=se+z,Y={id:y++,callback:Z,priorityLevel:Y,startTime:se,expirationTime:z,sortIndex:-1},se>we?(Y.sortIndex=se,e(m,Y),n(h)===null&&Y===n(m)&&(N?(P(D),D=-1):N=!0,pe(B,se-we))):(Y.sortIndex=z,e(h,Y),T||_||(T=!0,q||(q=!0,F()))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var Z=b;return function(){var se=b;b=Z;try{return Y.apply(this,arguments)}finally{b=se}}}}(u0)),u0}var L_;function ZI(){return L_||(L_=1,c0.exports=QI()),c0.exports}var d0={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function JI(){if(U_)return Mn;U_=1;var t=Ep();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,y)},Mn.flushSync=function(h){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=y,s.d.f()}},Mn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Mn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Mn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,v=u(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):y==="script"&&s.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Mn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=u(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Mn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=u(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Mn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=u(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Mn.requestFormReset=function(h){s.d.r(h)},Mn.unstable_batchedUpdates=function(h,m){return h(m)},Mn.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},Mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var F_;function cA(){if(F_)return d0.exports;F_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=JI(),d0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function e8(){if(B_)return Wu;B_=1;var t=ZI(),e=Ep(),n=cA();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(s(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(s(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return u(g),r;if(x===d)return u(g),a;x=x.sibling}throw Error(s(188))}if(l.return!==d.return)l=g,d=x;else{for(var A=!1,j=g.child;j;){if(j===l){A=!0,l=g,d=x;break}if(j===d){A=!0,d=g,l=x;break}j=j.sibling}if(!A){for(j=x.child;j;){if(j===l){A=!0,l=x,d=g;break}if(j===d){A=!0,d=x,l=g;break}j=j.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case R:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:xe(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return xe(r(a))}catch{}}return null}var pe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},we=[],z=-1;function le(r){return{current:r}}function he(r){0>z||(r.current=we[z],we[z]=null,z--)}function fe(r,a){z++,we[z]=r.current,r.current=a}var De=le(null),He=le(null),Re=le(null),Ee=le(null);function Me(r,a){switch(fe(Re,a),fe(He,r),fe(De,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?o_(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=o_(a),r=l_(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(De),fe(De,r)}function jt(){he(De),he(He),he(Re)}function Yt(r){r.memoizedState!==null&&fe(Ee,r);var a=De.current,l=l_(a,r.type);a!==l&&(fe(He,r),fe(De,l))}function ts(r){He.current===r&&(he(De),he(He)),Ee.current===r&&(he(Ee),Hu._currentValue=se)}var us=Object.prototype.hasOwnProperty,Es=t.unstable_scheduleCallback,ds=t.unstable_cancelCallback,Qs=t.unstable_shouldYield,ri=t.unstable_requestPaint,bn=t.unstable_now,Ja=t.unstable_getCurrentPriorityLevel,Zs=t.unstable_ImmediatePriority,G=t.unstable_UserBlockingPriority,ee=t.unstable_NormalPriority,ie=t.unstable_LowPriority,_e=t.unstable_IdlePriority,ge=t.log,me=t.unstable_setDisableYieldValue,be=null,Ne=null;function Ge(r){if(typeof ge=="function"&&me(r),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(be,r)}catch{}}var ut=Math.clz32?Math.clz32:Ss,Ts=Math.log,qn=Math.LN2;function Ss(r){return r>>>=0,r===0?32:31-(Ts(r)/qn|0)|0}var ns=256,ss=4194304;function Dn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function As(r,a,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,x=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var j=d&134217727;return j!==0?(d=j&~x,d!==0?g=Dn(d):(A&=j,A!==0?g=Dn(A):l||(l=j&~r,l!==0&&(g=Dn(l))))):(j=d&~x,j!==0?g=Dn(j):A!==0?g=Dn(A):l||(l=d&~r,l!==0&&(g=Dn(l)))),g===0?0:a!==0&&a!==g&&(a&x)===0&&(x=g&-g,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:g}function Cs(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Js(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(){var r=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),r}function Ki(){var r=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),r}function Ns(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Rs(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yi(r,a,l,d,g,x){var A=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var j=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(l=A&~l;0<l;){var ae=31-ut(l),ce=1<<ae;j[ae]=0,H[ae]=-1;var te=J[ae];if(te!==null)for(J[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}l&=~ce}d!==0&&ve(r,d,0),x!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=x&~(A&~a))}function ve(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-ut(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function ze(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-ut(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}function ft(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function et(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vt(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:C_(r.type))}function tn(r,a){var l=Z.p;try{return Z.p=r,a()}finally{Z.p=l}}var Ke=Math.random().toString(36).slice(2),tt="__reactFiber$"+Ke,rt="__reactProps$"+Ke,Is="__reactContainer$"+Ke,Yc="__reactEvents$"+Ke,cg="__reactListeners$"+Ke,Wi="__reactHandles$"+Ke,Df="__reactResources$"+Ke,eo="__reactMarker$"+Ke;function Xi(r){delete r[tt],delete r[rt],delete r[Yc],delete r[cg],delete r[Wi]}function ii(r){var a=r[tt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Is]||l[tt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=f_(r);r!==null;){if(l=r[tt])return l;r=f_(r)}return a}r=l,l=r.parentNode}return null}function xr(r){if(r=r[tt]||r[Is]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function br(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function Gn(r){var a=r[Df];return a||(a=r[Df]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(r){r[eo]=!0}var Wc=new Set,rl={};function er(r,a){ai(r,a),ai(r+"Capture",a)}function ai(r,a){for(rl[r]=a,r=0;r<a.length;r++)Wc.add(a[r])}var jf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},to={};function Of(r){return us.call(to,r)?!0:us.call(Mf,r)?!1:jf.test(r)?to[r]=!0:(Mf[r]=!0,!1)}function Qi(r,a,l){if(Of(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function wr(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function wn(r,a,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+d)}}var no,kf;function oi(r){if(no===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);no=a&&a[1]||"",kf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+no+r+kf}var il=!1;function al(r,a){if(!r||il)return"";il=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){te=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),A=x[0],j=x[1];if(A&&j){var H=A.split(`
`),J=j.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===J.length)for(d=H.length-1,g=J.length-1;1<=d&&0<=g&&H[d]!==J[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==J[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==J[g]){var ae=`
`+H[d].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=d&&0<=g);break}}}finally{il=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?oi(l):""}function Xc(r){switch(r.tag){case 26:case 27:case 5:return oi(r.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return al(r.type,!1);case 11:return al(r.type.render,!1);case 1:return al(r.type,!0);case 31:return oi("Activity");default:return""}}function ol(r){try{var a="";do a+=Xc(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ug(r){var a=Qc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){d=""+A,x.call(this,A)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ll(r){r._valueTracker||(r._valueTracker=ug(r))}function Zc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=Qc(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function so(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var dg=/[\n"\\]/g;function Wt(r){return r.replace(dg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function fs(r,a,l,d,g,x,A,j){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),a!=null?A==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Kn(a)):r.value!==""+Kn(a)&&(r.value=""+Kn(a)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),a!=null?Zi(r,A,Kn(a)):l!=null?Zi(r,A,Kn(l)):d!=null&&r.removeAttribute("value"),g==null&&x!=null&&(r.defaultChecked=!!x),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+Kn(j):r.removeAttribute("name")}function ro(r,a,l,d,g,x,A,j){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+Kn(l):"",a=a!=null?""+Kn(a):l,j||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=j?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Zi(r,a,l){a==="number"&&so(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function li(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Kn(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function xt(r,a,l){if(a!=null&&(a=""+Kn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Kn(l):""}function io(r,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(s(92));if(pe(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=Kn(a),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function Ds(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pf(r,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,l):typeof l!="number"||l===0||ao.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Jc(r,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&l[g]!==d&&Pf(r,g,d)}else for(var x in a)a.hasOwnProperty(x)&&Pf(r,x,a[x])}function eu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(r){return hg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ci=null;function js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,di=null;function tu(r){var a=xr(r);if(a&&(r=a.stateNode)){var l=r[rt]||null;e:switch(r=a.stateNode,a.type){case"input":if(fs(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=d[rt]||null;if(!g)throw Error(s(90));fs(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===r.form&&Zc(d)}break e;case"textarea":xt(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&li(r,!!l.multiple,a,!1)}}}var _r=!1;function Vf(r,a,l){if(_r)return r(a,l);_r=!0;try{var d=r(a);return d}finally{if(_r=!1,(ui!==null||di!==null)&&(Ih(),ui&&(a=ui,r=di,di=ui=null,tu(a),r)))for(a=0;a<r.length;a++)tu(r[a])}}function oo(r,a){var l=r.stateNode;if(l===null)return null;var d=l[rt]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(tr)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Ms=!1}var Er=null,Ji=null,fi=null;function nu(){if(fi)return fi;var r,a=Ji,l=a.length,d,g="value"in Er?Er.value:Er.textContent,x=g.length;for(r=0;r<l&&a[r]===g[r];r++);var A=l-r;for(d=1;d<=A&&a[l-d]===g[x-d];d++);return fi=g.slice(r,1<d?1-d:void 0)}function Tr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Sr(){return!0}function su(){return!1}function dn(r){function a(l,d,g,x,A){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(l=r[j],this[j]=l?l(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sr:su,this.isPropagationStopped=su,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),a}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=dn(mt),co=y({},mt,{view:0,detail:0}),Lf=dn(co),dl,fl,Ar,uo=y({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ar&&(Ar&&r.type==="mousemove"?(dl=r.screenX-Ar.screenX,fl=r.screenY-Ar.screenY):fl=dl=0,Ar=r),dl)},movementY:function(r){return"movementY"in r?r.movementY:fl}}),Os=dn(uo),Uf=y({},uo,{dataTransfer:0}),mg=dn(Uf),fo=y({},co,{relatedTarget:0}),hl=dn(fo),ru=y({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),ml=dn(ru),Ff=y({},mt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pl=dn(Ff),pg=y({},mt,{data:0}),iu=dn(pg),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=zf[r])?!!a[r]:!1}function mo(){return au}var Hf=y({},co,{key:function(r){if(r.key){var a=ho[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Tr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(r){return r.type==="keypress"?Tr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),gl=dn(Hf),$f=y({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=dn($f),hi=y({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),qf=dn(hi),Gf=y({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=dn(Gf),Yf=y({},uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=dn(Yf),Yn=y({},mt,{newState:0,oldState:0}),Wf=dn(Yn),Xf=[9,13,27,32],Cr=tr&&"CompositionEvent"in window,p=null;tr&&"documentMode"in document&&(p=document.documentMode);var w=tr&&"TextEvent"in window&&!p,S=tr&&(!Cr||p&&8<p&&11>=p),k=" ",X=!1;function re(r,a){switch(r){case"keyup":return Xf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var it=!1;function nn(r,a){switch(r){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(X=!0,k);case"textInput":return r=a.data,r===k&&X?null:r;default:return null}}function at(r,a){if(it)return r==="compositionend"||!Cr&&re(r,a)?(r=nu(),fi=Ji=Er=null,it=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!fn[r.type]:a==="textarea"}function mi(r,a,l,d){ui?di?di.push(d):di=[d]:ui=d,a=Ph(a,"onChange"),0<a.length&&(l=new ul("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var _n=null,Nr=null;function lu(r){n_(r,0)}function Qf(r){var a=br(r);if(Zc(a))return r}function Eb(r,a){if(r==="change")return a}var Tb=!1;if(tr){var gg;if(tr){var yg="oninput"in document;if(!yg){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),yg=typeof Sb.oninput=="function"}gg=yg}else gg=!1;Tb=gg&&(!document.documentMode||9<document.documentMode)}function Ab(){_n&&(_n.detachEvent("onpropertychange",Cb),Nr=_n=null)}function Cb(r){if(r.propertyName==="value"&&Qf(Nr)){var a=[];mi(a,Nr,r,js(r)),Vf(lu,a)}}function _5(r,a,l){r==="focusin"?(Ab(),_n=a,Nr=l,_n.attachEvent("onpropertychange",Cb)):r==="focusout"&&Ab()}function E5(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qf(Nr)}function T5(r,a){if(r==="click")return Qf(a)}function S5(r,a){if(r==="input"||r==="change")return Qf(a)}function A5(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var hs=typeof Object.is=="function"?Object.is:A5;function cu(r,a){if(hs(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!us.call(a,g)||!hs(r[g],a[g]))return!1}return!0}function Nb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rb(r,a){var l=Nb(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nb(l)}}function Ib(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Ib(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Db(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=so(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=so(r.document)}return a}function vg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var C5=tr&&"documentMode"in document&&11>=document.documentMode,vl=null,xg=null,uu=null,bg=!1;function jb(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bg||vl==null||vl!==so(d)||(d=vl,"selectionStart"in d&&vg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),uu&&cu(uu,d)||(uu=d,d=Ph(xg,"onSelect"),0<d.length&&(a=new ul("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=vl)))}function po(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var xl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},wg={},Mb={};tr&&(Mb=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function go(r){if(wg[r])return wg[r];if(!xl[r])return r;var a=xl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Mb)return wg[r]=a[l];return r}var Ob=go("animationend"),kb=go("animationiteration"),Pb=go("animationstart"),N5=go("transitionrun"),R5=go("transitionstart"),I5=go("transitioncancel"),Vb=go("transitionend"),Lb=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function nr(r,a){Lb.set(r,a),er(a,[r])}var Ub=new WeakMap;function ks(r,a){if(typeof r=="object"&&r!==null){var l=Ub.get(r);return l!==void 0?l:(a={value:r,source:a,stack:ol(a)},Ub.set(r,a),a)}return{value:r,source:a,stack:ol(a)}}var Ps=[],bl=0,Eg=0;function Zf(){for(var r=bl,a=Eg=bl=0;a<r;){var l=Ps[a];Ps[a++]=null;var d=Ps[a];Ps[a++]=null;var g=Ps[a];Ps[a++]=null;var x=Ps[a];if(Ps[a++]=null,d!==null&&g!==null){var A=d.pending;A===null?g.next=g:(g.next=A.next,A.next=g),d.pending=g}x!==0&&Fb(l,g,x)}}function Jf(r,a,l,d){Ps[bl++]=r,Ps[bl++]=a,Ps[bl++]=l,Ps[bl++]=d,Eg|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Tg(r,a,l,d){return Jf(r,a,l,d),eh(r)}function wl(r,a){return Jf(r,null,null,a),eh(r)}function Fb(r,a,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,x=r.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(g=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,g&&a!==null&&(g=31-ut(l),r=x.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=l|536870912),x):null}function eh(r){if(50<ku)throw ku=0,Iy=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var _l={};function D5(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(r,a,l,d){return new D5(r,a,l,d)}function Sg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pi(r,a){var l=r.alternate;return l===null?(l=ms(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Bb(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function th(r,a,l,d,g,x){var A=0;if(d=r,typeof r=="function")Sg(r)&&(A=1);else if(typeof r=="string")A=MI(r,l,De.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=ms(31,l,a,g),r.elementType=M,r.lanes=x,r;case T:return yo(l.children,g,x,a);case N:A=8,g|=24;break;case I:return r=ms(12,l,a,g|2),r.elementType=I,r.lanes=x,r;case B:return r=ms(13,l,a,g),r.elementType=B,r.lanes=x,r;case q:return r=ms(19,l,a,g),r.elementType=q,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case R:A=10;break e;case P:A=9;break e;case $:A=11;break e;case D:A=14;break e;case C:A=16,d=null;break e}A=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return a=ms(A,l,a,g),a.elementType=r,a.type=d,a.lanes=x,a}function yo(r,a,l,d){return r=ms(7,r,d,a),r.lanes=l,r}function Ag(r,a,l){return r=ms(6,r,null,a),r.lanes=l,r}function Cg(r,a,l){return a=ms(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var El=[],Tl=0,nh=null,sh=0,Vs=[],Ls=0,vo=null,gi=1,yi="";function xo(r,a){El[Tl++]=sh,El[Tl++]=nh,nh=r,sh=a}function zb(r,a,l){Vs[Ls++]=gi,Vs[Ls++]=yi,Vs[Ls++]=vo,vo=r;var d=gi;r=yi;var g=32-ut(d)-1;d&=~(1<<g),l+=1;var x=32-ut(a)+g;if(30<x){var A=g-g%5;x=(d&(1<<A)-1).toString(32),d>>=A,g-=A,gi=1<<32-ut(a)+g|l<<g|d,yi=x+r}else gi=1<<x|l<<g|d,yi=r}function Ng(r){r.return!==null&&(xo(r,1),zb(r,1,0))}function Rg(r){for(;r===nh;)nh=El[--Tl],El[Tl]=null,sh=El[--Tl],El[Tl]=null;for(;r===vo;)vo=Vs[--Ls],Vs[Ls]=null,yi=Vs[--Ls],Vs[Ls]=null,gi=Vs[--Ls],Vs[Ls]=null}var Wn=null,Lt=null,ht=!1,bo=null,Rr=!1,Ig=Error(s(519));function wo(r){var a=Error(s(418,""));throw hu(ks(a,r)),Ig}function Hb(r){var a=r.stateNode,l=r.type,d=r.memoizedProps;switch(a[tt]=r,a[rt]=d,l){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(l=0;l<Vu.length;l++)Je(Vu[l],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),ro(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ll(a);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),io(a,d.value,d.defaultValue,d.children),ll(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||a_(a.textContent,l)?(d.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),d.onScroll!=null&&Je("scroll",a),d.onScrollEnd!=null&&Je("scrollend",a),d.onClick!=null&&(a.onclick=Vh),a=!0):a=!1,a||wo(r)}function $b(r){for(Wn=r.return;Wn;)switch(Wn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Wn=Wn.return}}function du(r){if(r!==Wn)return!1;if(!ht)return $b(r),ht=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Gy(r.type,r.memoizedProps)),l=!l),l&&Lt&&wo(r),$b(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Lt=rr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Lt=null}}else a===27?(a=Lt,pa(r.type)?(r=Xy,Xy=null,Lt=r):Lt=a):Lt=Wn?rr(r.stateNode.nextSibling):null;return!0}function fu(){Lt=Wn=null,ht=!1}function qb(){var r=bo;return r!==null&&(as===null?as=r:as.push.apply(as,r),bo=null),r}function hu(r){bo===null?bo=[r]:bo.push(r)}var Dg=le(null),_o=null,vi=null;function ea(r,a,l){fe(Dg,a._currentValue),a._currentValue=l}function xi(r){r._currentValue=Dg.current,he(Dg)}function jg(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function Mg(r,a,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var x=g.dependencies;if(x!==null){var A=g.child;x=x.firstContext;e:for(;x!==null;){var j=x;x=g;for(var H=0;H<a.length;H++)if(j.context===a[H]){x.lanes|=l,j=x.alternate,j!==null&&(j.lanes|=l),jg(x.return,l,r),d||(A=null);break e}x=j.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=l,x=A.alternate,x!==null&&(x.lanes|=l),jg(A,l,r),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===r){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function mu(r,a,l,d){r=null;for(var g=a,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var j=g.type;hs(g.pendingProps.value,A.value)||(r!==null?r.push(j):r=[j])}}else if(g===Ee.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Hu):r=[Hu])}g=g.return}r!==null&&Mg(a,r,l,d),a.flags|=262144}function rh(r){for(r=r.firstContext;r!==null;){if(!hs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Eo(r){_o=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return Gb(_o,r)}function ih(r,a){return _o===null&&Eo(r),Gb(r,a)}function Gb(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},vi===null){if(r===null)throw Error(s(308));vi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else vi=vi.next=a;return l}var j5=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},M5=t.unstable_scheduleCallback,O5=t.unstable_NormalPriority,rn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Og(){return{controller:new j5,data:new Map,refCount:0}}function pu(r){r.refCount--,r.refCount===0&&M5(O5,function(){r.controller.abort()})}var gu=null,kg=0,Sl=0,Al=null;function k5(r,a){if(gu===null){var l=gu=[];kg=0,Sl=Vy(),Al={status:"pending",value:void 0,then:function(d){l.push(d)}}}return kg++,a.then(Kb,Kb),a}function Kb(){if(--kg===0&&gu!==null){Al!==null&&(Al.status="fulfilled");var r=gu;gu=null,Sl=0,Al=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function P5(r,a){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var Yb=Y.S;Y.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&k5(r,a),Yb!==null&&Yb(r,a)};var To=le(null);function Pg(){var r=To.current;return r!==null?r:Ct.pooledCache}function ah(r,a){a===null?fe(To,To.current):fe(To,a.pool)}function Wb(){var r=Pg();return r===null?null:{parent:rn._currentValue,pool:r}}var yu=Error(s(460)),Xb=Error(s(474)),oh=Error(s(542)),Vg={then:function(){}};function Qb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function lh(){}function Zb(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(lh,lh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,e2(r),r;default:if(typeof a.status=="string")a.then(lh,lh);else{if(r=Ct,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,e2(r),r}throw vu=a,yu}}var vu=null;function Jb(){if(vu===null)throw Error(s(459));var r=vu;return vu=null,r}function e2(r){if(r===yu||r===oh)throw Error(s(483))}var ta=!1;function Lg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ug(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function na(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function sa(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(gt&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=eh(r),Fb(r,null,l),a}return Jf(r,d,a,l),eh(r)}function xu(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ze(r,l)}}function Fg(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=A:x=x.next=A,l=l.next}while(l!==null);x===null?g=x=a:x=x.next=a}else g=x=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Bg=!1;function bu(){if(Bg){var r=Al;if(r!==null)throw r}}function wu(r,a,l,d){Bg=!1;var g=r.updateQueue;ta=!1;var x=g.firstBaseUpdate,A=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var H=j,J=H.next;H.next=null,A===null?x=J:A.next=J,A=H;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==A&&(j===null?ae.firstBaseUpdate=J:j.next=J,ae.lastBaseUpdate=H))}if(x!==null){var ce=g.baseState;A=0,ae=J=H=null,j=x;do{var te=j.lane&-536870913,ne=te!==j.lane;if(ne?(ot&te)===te:(d&te)===te){te!==0&&te===Sl&&(Bg=!0),ae!==null&&(ae=ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Fe=r,ke=j;te=a;var _t=l;switch(ke.tag){case 1:if(Fe=ke.payload,typeof Fe=="function"){ce=Fe.call(_t,ce,te);break e}ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ke.payload,te=typeof Fe=="function"?Fe.call(_t,ce,te):Fe,te==null)break e;ce=y({},ce,te);break e;case 2:ta=!0}}te=j.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(J=ae=ne,H=ce):ae=ae.next=ne,A|=te;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);ae===null&&(H=ce),g.baseState=H,g.firstBaseUpdate=J,g.lastBaseUpdate=ae,x===null&&(g.shared.lanes=0),da|=A,r.lanes=A,r.memoizedState=ce}}function t2(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function n2(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)t2(l[r],a)}var Cl=le(null),ch=le(0);function s2(r,a){r=Ai,fe(ch,r),fe(Cl,a),Ai=r|a.baseLanes}function zg(){fe(ch,Ai),fe(Cl,Cl.current)}function Hg(){Ai=ch.current,he(Cl),he(ch)}var ra=0,We=null,bt=null,Xt=null,uh=!1,Nl=!1,So=!1,dh=0,_u=0,Rl=null,V5=0;function Ht(){throw Error(s(321))}function $g(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!hs(r[l],a[l]))return!1;return!0}function qg(r,a,l,d,g,x){return ra=x,We=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=r===null||r.memoizedState===null?F2:B2,So=!1,x=l(d,g),So=!1,Nl&&(x=i2(a,l,d,g)),r2(r),x}function r2(r){Y.H=yh;var a=bt!==null&&bt.next!==null;if(ra=0,Xt=bt=We=null,uh=!1,_u=0,Rl=null,a)throw Error(s(300));r===null||hn||(r=r.dependencies,r!==null&&rh(r)&&(hn=!0))}function i2(r,a,l,d){We=r;var g=0;do{if(Nl&&(Rl=null),_u=0,Nl=!1,25<=g)throw Error(s(301));if(g+=1,Xt=bt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=$5,x=a(l,d)}while(Nl);return x}function L5(){var r=Y.H,a=r.useState()[0];return a=typeof a.then=="function"?Eu(a):a,r=r.useState()[0],(bt!==null?bt.memoizedState:null)!==r&&(We.flags|=1024),a}function Gg(){var r=dh!==0;return dh=0,r}function Kg(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Yg(r){if(uh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}uh=!1}ra=0,Xt=bt=We=null,Nl=!1,_u=dh=0,Rl=null}function rs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?We.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function Qt(){if(bt===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var a=Xt===null?We.memoizedState:Xt.next;if(a!==null)Xt=a,bt=r;else{if(r===null)throw We.alternate===null?Error(s(467)):Error(s(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Xt===null?We.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(r){var a=_u;return _u+=1,Rl===null&&(Rl=[]),r=Zb(Rl,r,a),a=We,(Xt===null?a.memoizedState:Xt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?F2:B2),r}function fh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eu(r);if(r.$$typeof===R)return jn(r)}throw Error(s(438,String(r)))}function Xg(r){var a=null,l=We.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=We.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wg(),We.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),d=0;d<r;d++)l[d]=V;return a.index++,l}function bi(r,a){return typeof a=="function"?a(r):a}function hh(r){var a=Qt();return Qg(a,bt,r)}function Qg(r,a,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=r.baseQueue,x=d.pending;if(x!==null){if(g!==null){var A=g.next;g.next=x.next,x.next=A}a.baseQueue=g=x,d.pending=null}if(x=r.baseState,g===null)r.memoizedState=x;else{a=g.next;var j=A=null,H=null,J=a,ae=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(ot&ce)===ce:(ra&ce)===ce){var te=J.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Sl&&(ae=!0);else if((ra&te)===te){J=J.next,te===Sl&&(ae=!0);continue}else ce={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(j=H=ce,A=x):H=H.next=ce,We.lanes|=te,da|=te;ce=J.action,So&&l(x,ce),x=J.hasEagerState?J.eagerState:l(x,ce)}else te={lane:ce,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(j=H=te,A=x):H=H.next=te,We.lanes|=ce,da|=ce;J=J.next}while(J!==null&&J!==a);if(H===null?A=x:H.next=j,!hs(x,r.memoizedState)&&(hn=!0,ae&&(l=Al,l!==null)))throw l;r.memoizedState=x,r.baseState=A,r.baseQueue=H,d.lastRenderedState=x}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Zg(r){var a=Qt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,x=a.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do x=r(x,A.action),A=A.next;while(A!==g);hs(x,a.memoizedState)||(hn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,d]}function a2(r,a,l){var d=We,g=Qt(),x=ht;if(x){if(l===void 0)throw Error(s(407));l=l()}else l=a();var A=!hs((bt||g).memoizedState,l);A&&(g.memoizedState=l,hn=!0),g=g.queue;var j=c2.bind(null,d,g,r);if(Tu(2048,8,j,[r]),g.getSnapshot!==a||A||Xt!==null&&Xt.memoizedState.tag&1){if(d.flags|=2048,Il(9,mh(),l2.bind(null,d,g,l,a),null),Ct===null)throw Error(s(349));x||(ra&124)!==0||o2(d,a,l)}return l}function o2(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=We.updateQueue,a===null?(a=Wg(),We.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function l2(r,a,l,d){a.value=l,a.getSnapshot=d,u2(a)&&d2(r)}function c2(r,a,l){return l(function(){u2(a)&&d2(r)})}function u2(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!hs(r,l)}catch{return!0}}function d2(r){var a=wl(r,2);a!==null&&xs(a,r,2)}function Jg(r){var a=rs();if(typeof r=="function"){var l=r;if(r=l(),So){Ge(!0);try{l()}finally{Ge(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},a}function f2(r,a,l,d){return r.baseState=l,Qg(r,bt,typeof d=="function"?d:bi)}function U5(r,a,l,d,g){if(gh(r))throw Error(s(485));if(r=a.action,r!==null){var x={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};Y.T!==null?l(!0):x.isTransition=!1,d(x),l=a.pending,l===null?(x.next=a.pending=x,h2(a,x)):(x.next=l.next,a.pending=l.next=x)}}function h2(r,a){var l=a.action,d=a.payload,g=r.state;if(a.isTransition){var x=Y.T,A={};Y.T=A;try{var j=l(g,d),H=Y.S;H!==null&&H(A,j),m2(r,a,j)}catch(J){ey(r,a,J)}finally{Y.T=x}}else try{x=l(g,d),m2(r,a,x)}catch(J){ey(r,a,J)}}function m2(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){p2(r,a,d)},function(d){return ey(r,a,d)}):p2(r,a,l)}function p2(r,a,l){a.status="fulfilled",a.value=l,g2(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,h2(r,l)))}function ey(r,a,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,g2(a),a=a.next;while(a!==d)}r.action=null}function g2(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function y2(r,a){return a}function v2(r,a){if(ht){var l=Ct.formState;if(l!==null){e:{var d=We;if(ht){if(Lt){t:{for(var g=Lt,x=Rr;g.nodeType!==8;){if(!x){g=null;break t}if(g=rr(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Lt=rr(g.nextSibling),d=g.data==="F!";break e}}wo(d)}d=!1}d&&(a=l[0])}}return l=rs(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y2,lastRenderedState:a},l.queue=d,l=V2.bind(null,We,d),d.dispatch=l,d=Jg(!1),x=iy.bind(null,We,!1,d.queue),d=rs(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,l=U5.bind(null,We,g,x,l),g.dispatch=l,d.memoizedState=r,[a,l,!1]}function x2(r){var a=Qt();return b2(a,bt,r)}function b2(r,a,l){if(a=Qg(r,a,y2)[0],r=hh(bi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Eu(a)}catch(A){throw A===yu?oh:A}else d=a;a=Qt();var g=a.queue,x=g.dispatch;return l!==a.memoizedState&&(We.flags|=2048,Il(9,mh(),F5.bind(null,g,l),null)),[d,x,r]}function F5(r,a){r.action=a}function w2(r){var a=Qt(),l=bt;if(l!==null)return b2(a,l,r);Qt(),a=a.memoizedState,l=Qt();var d=l.queue.dispatch;return l.memoizedState=r,[a,d,!1]}function Il(r,a,l,d){return r={tag:r,create:l,deps:d,inst:a,next:null},a=We.updateQueue,a===null&&(a=Wg(),We.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r),r}function mh(){return{destroy:void 0,resource:void 0}}function _2(){return Qt().memoizedState}function ph(r,a,l,d){var g=rs();d=d===void 0?null:d,We.flags|=r,g.memoizedState=Il(1|a,mh(),l,d)}function Tu(r,a,l,d){var g=Qt();d=d===void 0?null:d;var x=g.memoizedState.inst;bt!==null&&d!==null&&$g(d,bt.memoizedState.deps)?g.memoizedState=Il(a,x,l,d):(We.flags|=r,g.memoizedState=Il(1|a,x,l,d))}function E2(r,a){ph(8390656,8,r,a)}function T2(r,a){Tu(2048,8,r,a)}function S2(r,a){return Tu(4,2,r,a)}function A2(r,a){return Tu(4,4,r,a)}function C2(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function N2(r,a,l){l=l!=null?l.concat([r]):null,Tu(4,4,C2.bind(null,a,r),l)}function ty(){}function R2(r,a){var l=Qt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&$g(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function I2(r,a){var l=Qt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&$g(a,d[1]))return d[0];if(d=r(),So){Ge(!0);try{r()}finally{Ge(!1)}}return l.memoizedState=[d,a],d}function ny(r,a,l){return l===void 0||(ra&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=Mw(),We.lanes|=r,da|=r,l)}function D2(r,a,l,d){return hs(l,a)?l:Cl.current!==null?(r=ny(r,l,d),hs(r,a)||(hn=!0),r):(ra&42)===0?(hn=!0,r.memoizedState=l):(r=Mw(),We.lanes|=r,da|=r,a)}function j2(r,a,l,d,g){var x=Z.p;Z.p=x!==0&&8>x?x:8;var A=Y.T,j={};Y.T=j,iy(r,!1,a,l);try{var H=g(),J=Y.S;if(J!==null&&J(j,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=P5(H,d);Su(r,a,ae,vs(r))}else Su(r,a,d,vs(r))}catch(ce){Su(r,a,{then:function(){},status:"rejected",reason:ce},vs())}finally{Z.p=x,Y.T=A}}function B5(){}function sy(r,a,l,d){if(r.tag!==5)throw Error(s(476));var g=M2(r).queue;j2(r,g,a,se,l===null?B5:function(){return O2(r),l(d)})}function M2(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:se},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function O2(r){var a=M2(r).next.queue;Su(r,a,{},vs())}function ry(){return jn(Hu)}function k2(){return Qt().memoizedState}function P2(){return Qt().memoizedState}function z5(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=vs();r=na(l);var d=sa(a,r,l);d!==null&&(xs(d,a,l),xu(d,a,l)),a={cache:Og()},r.payload=a;return}a=a.return}}function H5(r,a,l){var d=vs();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},gh(r)?L2(a,l):(l=Tg(r,a,l,d),l!==null&&(xs(l,r,d),U2(l,a,d)))}function V2(r,a,l){var d=vs();Su(r,a,l,d)}function Su(r,a,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(gh(r))L2(a,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var A=a.lastRenderedState,j=x(A,l);if(g.hasEagerState=!0,g.eagerState=j,hs(j,A))return Jf(r,a,g,0),Ct===null&&Zf(),!1}catch{}finally{}if(l=Tg(r,a,g,d),l!==null)return xs(l,r,d),U2(l,a,d),!0}return!1}function iy(r,a,l,d){if(d={lane:2,revertLane:Vy(),action:d,hasEagerState:!1,eagerState:null,next:null},gh(r)){if(a)throw Error(s(479))}else a=Tg(r,l,d,2),a!==null&&xs(a,r,2)}function gh(r){var a=r.alternate;return r===We||a!==null&&a===We}function L2(r,a){Nl=uh=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function U2(r,a,l){if((l&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ze(r,l)}}var yh={readContext:jn,use:fh,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},F2={readContext:jn,use:fh,useCallback:function(r,a){return rs().memoizedState=[r,a===void 0?null:a],r},useContext:jn,useEffect:E2,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,ph(4194308,4,C2.bind(null,a,r),l)},useLayoutEffect:function(r,a){return ph(4194308,4,r,a)},useInsertionEffect:function(r,a){ph(4,2,r,a)},useMemo:function(r,a){var l=rs();a=a===void 0?null:a;var d=r();if(So){Ge(!0);try{r()}finally{Ge(!1)}}return l.memoizedState=[d,a],d},useReducer:function(r,a,l){var d=rs();if(l!==void 0){var g=l(a);if(So){Ge(!0);try{l(a)}finally{Ge(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=H5.bind(null,We,r),[d.memoizedState,r]},useRef:function(r){var a=rs();return r={current:r},a.memoizedState=r},useState:function(r){r=Jg(r);var a=r.queue,l=V2.bind(null,We,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:ty,useDeferredValue:function(r,a){var l=rs();return ny(l,r,a)},useTransition:function(){var r=Jg(!1);return r=j2.bind(null,We,r.queue,!0,!1),rs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var d=We,g=rs();if(ht){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Ct===null)throw Error(s(349));(ot&124)!==0||o2(d,a,l)}g.memoizedState=l;var x={value:l,getSnapshot:a};return g.queue=x,E2(c2.bind(null,d,x,r),[r]),d.flags|=2048,Il(9,mh(),l2.bind(null,d,x,l,a),null),l},useId:function(){var r=rs(),a=Ct.identifierPrefix;if(ht){var l=yi,d=gi;l=(d&~(1<<32-ut(d)-1)).toString(32)+l,a="«"+a+"R"+l,l=dh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=V5++,a="«"+a+"r"+l.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:ry,useFormState:v2,useActionState:v2,useOptimistic:function(r){var a=rs();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=iy.bind(null,We,!0,l),l.dispatch=a,[r,a]},useMemoCache:Xg,useCacheRefresh:function(){return rs().memoizedState=z5.bind(null,We)}},B2={readContext:jn,use:fh,useCallback:R2,useContext:jn,useEffect:T2,useImperativeHandle:N2,useInsertionEffect:S2,useLayoutEffect:A2,useMemo:I2,useReducer:hh,useRef:_2,useState:function(){return hh(bi)},useDebugValue:ty,useDeferredValue:function(r,a){var l=Qt();return D2(l,bt.memoizedState,r,a)},useTransition:function(){var r=hh(bi)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Eu(r),a]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:ry,useFormState:x2,useActionState:x2,useOptimistic:function(r,a){var l=Qt();return f2(l,bt,r,a)},useMemoCache:Xg,useCacheRefresh:P2},$5={readContext:jn,use:fh,useCallback:R2,useContext:jn,useEffect:T2,useImperativeHandle:N2,useInsertionEffect:S2,useLayoutEffect:A2,useMemo:I2,useReducer:Zg,useRef:_2,useState:function(){return Zg(bi)},useDebugValue:ty,useDeferredValue:function(r,a){var l=Qt();return bt===null?ny(l,r,a):D2(l,bt.memoizedState,r,a)},useTransition:function(){var r=Zg(bi)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Eu(r),a]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:ry,useFormState:w2,useActionState:w2,useOptimistic:function(r,a){var l=Qt();return bt!==null?f2(l,bt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Xg,useCacheRefresh:P2},Dl=null,Au=0;function vh(r){var a=Au;return Au+=1,Dl===null&&(Dl=[]),Zb(Dl,r,a)}function Cu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function xh(r,a){throw a.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function z2(r){var a=r._init;return a(r._payload)}function H2(r){function a(W,K){if(r){var Q=W.deletions;Q===null?(W.deletions=[K],W.flags|=16):Q.push(K)}}function l(W,K){if(!r)return null;for(;K!==null;)a(W,K),K=K.sibling;return null}function d(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function g(W,K){return W=pi(W,K),W.index=0,W.sibling=null,W}function x(W,K,Q){return W.index=Q,r?(Q=W.alternate,Q!==null?(Q=Q.index,Q<K?(W.flags|=67108866,K):Q):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function A(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function j(W,K,Q,oe){return K===null||K.tag!==6?(K=Ag(Q,W.mode,oe),K.return=W,K):(K=g(K,Q),K.return=W,K)}function H(W,K,Q,oe){var Ce=Q.type;return Ce===T?ae(W,K,Q.props.children,oe,Q.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&z2(Ce)===K.type)?(K=g(K,Q.props),Cu(K,Q),K.return=W,K):(K=th(Q.type,Q.key,Q.props,null,W.mode,oe),Cu(K,Q),K.return=W,K)}function J(W,K,Q,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Cg(Q,W.mode,oe),K.return=W,K):(K=g(K,Q.children||[]),K.return=W,K)}function ae(W,K,Q,oe,Ce){return K===null||K.tag!==7?(K=yo(Q,W.mode,oe,Ce),K.return=W,K):(K=g(K,Q),K.return=W,K)}function ce(W,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ag(""+K,W.mode,Q),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Q=th(K.type,K.key,K.props,null,W.mode,Q),Cu(Q,K),Q.return=W,Q;case _:return K=Cg(K,W.mode,Q),K.return=W,K;case C:var oe=K._init;return K=oe(K._payload),ce(W,K,Q)}if(pe(K)||F(K))return K=yo(K,W.mode,Q,null),K.return=W,K;if(typeof K.then=="function")return ce(W,vh(K),Q);if(K.$$typeof===R)return ce(W,ih(W,K),Q);xh(W,K)}return null}function te(W,K,Q,oe){var Ce=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:j(W,K,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ce?H(W,K,Q,oe):null;case _:return Q.key===Ce?J(W,K,Q,oe):null;case C:return Ce=Q._init,Q=Ce(Q._payload),te(W,K,Q,oe)}if(pe(Q)||F(Q))return Ce!==null?null:ae(W,K,Q,oe,null);if(typeof Q.then=="function")return te(W,K,vh(Q),oe);if(Q.$$typeof===R)return te(W,K,ih(W,Q),oe);xh(W,Q)}return null}function ne(W,K,Q,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(Q)||null,j(K,W,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return W=W.get(oe.key===null?Q:oe.key)||null,H(K,W,oe,Ce);case _:return W=W.get(oe.key===null?Q:oe.key)||null,J(K,W,oe,Ce);case C:var Qe=oe._init;return oe=Qe(oe._payload),ne(W,K,Q,oe,Ce)}if(pe(oe)||F(oe))return W=W.get(Q)||null,ae(K,W,oe,Ce,null);if(typeof oe.then=="function")return ne(W,K,Q,vh(oe),Ce);if(oe.$$typeof===R)return ne(W,K,Q,ih(K,oe),Ce);xh(K,oe)}return null}function Fe(W,K,Q,oe){for(var Ce=null,Qe=null,je=K,Ve=K=0,pn=null;je!==null&&Ve<Q.length;Ve++){je.index>Ve?(pn=je,je=null):pn=je.sibling;var dt=te(W,je,Q[Ve],oe);if(dt===null){je===null&&(je=pn);break}r&&je&&dt.alternate===null&&a(W,je),K=x(dt,K,Ve),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt,je=pn}if(Ve===Q.length)return l(W,je),ht&&xo(W,Ve),Ce;if(je===null){for(;Ve<Q.length;Ve++)je=ce(W,Q[Ve],oe),je!==null&&(K=x(je,K,Ve),Qe===null?Ce=je:Qe.sibling=je,Qe=je);return ht&&xo(W,Ve),Ce}for(je=d(je);Ve<Q.length;Ve++)pn=ne(je,W,Ve,Q[Ve],oe),pn!==null&&(r&&pn.alternate!==null&&je.delete(pn.key===null?Ve:pn.key),K=x(pn,K,Ve),Qe===null?Ce=pn:Qe.sibling=pn,Qe=pn);return r&&je.forEach(function(ba){return a(W,ba)}),ht&&xo(W,Ve),Ce}function ke(W,K,Q,oe){if(Q==null)throw Error(s(151));for(var Ce=null,Qe=null,je=K,Ve=K=0,pn=null,dt=Q.next();je!==null&&!dt.done;Ve++,dt=Q.next()){je.index>Ve?(pn=je,je=null):pn=je.sibling;var ba=te(W,je,dt.value,oe);if(ba===null){je===null&&(je=pn);break}r&&je&&ba.alternate===null&&a(W,je),K=x(ba,K,Ve),Qe===null?Ce=ba:Qe.sibling=ba,Qe=ba,je=pn}if(dt.done)return l(W,je),ht&&xo(W,Ve),Ce;if(je===null){for(;!dt.done;Ve++,dt=Q.next())dt=ce(W,dt.value,oe),dt!==null&&(K=x(dt,K,Ve),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt);return ht&&xo(W,Ve),Ce}for(je=d(je);!dt.done;Ve++,dt=Q.next())dt=ne(je,W,Ve,dt.value,oe),dt!==null&&(r&&dt.alternate!==null&&je.delete(dt.key===null?Ve:dt.key),K=x(dt,K,Ve),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt);return r&&je.forEach(function(qI){return a(W,qI)}),ht&&xo(W,Ve),Ce}function _t(W,K,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ce=Q.key;K!==null;){if(K.key===Ce){if(Ce=Q.type,Ce===T){if(K.tag===7){l(W,K.sibling),oe=g(K,Q.props.children),oe.return=W,W=oe;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&z2(Ce)===K.type){l(W,K.sibling),oe=g(K,Q.props),Cu(oe,Q),oe.return=W,W=oe;break e}l(W,K);break}else a(W,K);K=K.sibling}Q.type===T?(oe=yo(Q.props.children,W.mode,oe,Q.key),oe.return=W,W=oe):(oe=th(Q.type,Q.key,Q.props,null,W.mode,oe),Cu(oe,Q),oe.return=W,W=oe)}return A(W);case _:e:{for(Ce=Q.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){l(W,K.sibling),oe=g(K,Q.children||[]),oe.return=W,W=oe;break e}else{l(W,K);break}else a(W,K);K=K.sibling}oe=Cg(Q,W.mode,oe),oe.return=W,W=oe}return A(W);case C:return Ce=Q._init,Q=Ce(Q._payload),_t(W,K,Q,oe)}if(pe(Q))return Fe(W,K,Q,oe);if(F(Q)){if(Ce=F(Q),typeof Ce!="function")throw Error(s(150));return Q=Ce.call(Q),ke(W,K,Q,oe)}if(typeof Q.then=="function")return _t(W,K,vh(Q),oe);if(Q.$$typeof===R)return _t(W,K,ih(W,Q),oe);xh(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(l(W,K.sibling),oe=g(K,Q),oe.return=W,W=oe):(l(W,K),oe=Ag(Q,W.mode,oe),oe.return=W,W=oe),A(W)):l(W,K)}return function(W,K,Q,oe){try{Au=0;var Ce=_t(W,K,Q,oe);return Dl=null,Ce}catch(je){if(je===yu||je===oh)throw je;var Qe=ms(29,je,null,W.mode);return Qe.lanes=oe,Qe.return=W,Qe}finally{}}}var jl=H2(!0),$2=H2(!1),Us=le(null),Ir=null;function ia(r){var a=r.alternate;fe(an,an.current&1),fe(Us,r),Ir===null&&(a===null||Cl.current!==null||a.memoizedState!==null)&&(Ir=r)}function q2(r){if(r.tag===22){if(fe(an,an.current),fe(Us,r),Ir===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ir=r)}}else aa()}function aa(){fe(an,an.current),fe(Us,Us.current)}function wi(r){he(Us),Ir===r&&(Ir=null),he(an)}var an=le(0);function bh(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Wy(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ay(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:y({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var oy={enqueueSetState:function(r,a,l){r=r._reactInternals;var d=vs(),g=na(d);g.payload=a,l!=null&&(g.callback=l),a=sa(r,g,d),a!==null&&(xs(a,r,d),xu(a,r,d))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=vs(),g=na(d);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=sa(r,g,d),a!==null&&(xs(a,r,d),xu(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=vs(),d=na(l);d.tag=2,a!=null&&(d.callback=a),a=sa(r,d,l),a!==null&&(xs(a,r,l),xu(a,r,l))}};function G2(r,a,l,d,g,x,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,A):a.prototype&&a.prototype.isPureReactComponent?!cu(l,d)||!cu(g,x):!0}function K2(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&oy.enqueueReplaceState(a,a.state,null)}function Ao(r,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(r=r.defaultProps){l===a&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var wh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Y2(r){wh(r)}function W2(r){console.error(r)}function X2(r){wh(r)}function _h(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Q2(r,a,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ly(r,a,l){return l=na(l),l.tag=3,l.payload={element:null},l.callback=function(){_h(r,a)},l}function Z2(r){return r=na(r),r.tag=3,r}function J2(r,a,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=d.value;r.payload=function(){return g(x)},r.callback=function(){Q2(a,l,d)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Q2(a,l,d),typeof g!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function q5(r,a,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&mu(a,l,g,!0),l=Us.current,l!==null){switch(l.tag){case 13:return Ir===null?jy():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Vg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Oy(r,d,g)),!1;case 22:return l.flags|=65536,d===Vg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Oy(r,d,g)),!1}throw Error(s(435,l.tag))}return Oy(r,d,g),jy(),!1}if(ht)return a=Us.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Ig&&(r=Error(s(422),{cause:d}),hu(ks(r,l)))):(d!==Ig&&(a=Error(s(423),{cause:d}),hu(ks(a,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=ks(d,l),g=ly(r.stateNode,d,g),Fg(r,g),Ut!==4&&(Ut=2)),!1;var x=Error(s(520),{cause:d});if(x=ks(x,l),Ou===null?Ou=[x]:Ou.push(x),Ut!==4&&(Ut=2),a===null)return!0;d=ks(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=ly(l.stateNode,d,r),Fg(l,r),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fa===null||!fa.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Z2(g),J2(g,r,l,d),Fg(l,g),!1}l=l.return}while(l!==null);return!1}var ew=Error(s(461)),hn=!1;function En(r,a,l,d){a.child=r===null?$2(a,null,l,d):jl(a,r.child,l,d)}function tw(r,a,l,d,g){l=l.render;var x=a.ref;if("ref"in d){var A={};for(var j in d)j!=="ref"&&(A[j]=d[j])}else A=d;return Eo(a),d=qg(r,a,l,A,x,g),j=Gg(),r!==null&&!hn?(Kg(r,a,g),_i(r,a,g)):(ht&&j&&Ng(a),a.flags|=1,En(r,a,d,g),a.child)}function nw(r,a,l,d,g){if(r===null){var x=l.type;return typeof x=="function"&&!Sg(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,sw(r,a,x,d,g)):(r=th(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,!gy(r,g)){var A=x.memoizedProps;if(l=l.compare,l=l!==null?l:cu,l(A,d)&&r.ref===a.ref)return _i(r,a,g)}return a.flags|=1,r=pi(x,d),r.ref=a.ref,r.return=a,a.child=r}function sw(r,a,l,d,g){if(r!==null){var x=r.memoizedProps;if(cu(x,d)&&r.ref===a.ref)if(hn=!1,a.pendingProps=d=x,gy(r,g))(r.flags&131072)!==0&&(hn=!0);else return a.lanes=r.lanes,_i(r,a,g)}return cy(r,a,l,d,g)}function rw(r,a,l){var d=a.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=x!==null?x.baseLanes|l:l,r!==null){for(g=a.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;a.childLanes=x&~d}else a.childLanes=0,a.child=null;return iw(r,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(a,x!==null?x.cachePool:null),x!==null?s2(a,x):zg(),q2(a);else return a.lanes=a.childLanes=536870912,iw(r,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(ah(a,x.cachePool),s2(a,x),aa(),a.memoizedState=null):(r!==null&&ah(a,null),zg(),aa());return En(r,a,g,l),a.child}function iw(r,a,l,d){var g=Pg();return g=g===null?null:{parent:rn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&ah(a,null),zg(),q2(a),r!==null&&mu(r,a,d,!0),null}function Eh(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function cy(r,a,l,d,g){return Eo(a),l=qg(r,a,l,d,void 0,g),d=Gg(),r!==null&&!hn?(Kg(r,a,g),_i(r,a,g)):(ht&&d&&Ng(a),a.flags|=1,En(r,a,l,g),a.child)}function aw(r,a,l,d,g,x){return Eo(a),a.updateQueue=null,l=i2(a,d,l,g),r2(r),d=Gg(),r!==null&&!hn?(Kg(r,a,x),_i(r,a,x)):(ht&&d&&Ng(a),a.flags|=1,En(r,a,l,x),a.child)}function ow(r,a,l,d,g){if(Eo(a),a.stateNode===null){var x=_l,A=l.contextType;typeof A=="object"&&A!==null&&(x=jn(A)),x=new l(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=oy,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},Lg(a),A=l.contextType,x.context=typeof A=="object"&&A!==null?jn(A):_l,x.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(ay(a,l,A,d),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&oy.enqueueReplaceState(x,x.state,null),wu(a,d,x,g),bu(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){x=a.stateNode;var j=a.memoizedProps,H=Ao(l,j);x.props=H;var J=x.context,ae=l.contextType;A=_l,typeof ae=="object"&&ae!==null&&(A=jn(ae));var ce=l.getDerivedStateFromProps;ae=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j||J!==A)&&K2(a,x,d,A),ta=!1;var te=a.memoizedState;x.state=te,wu(a,d,x,g),bu(),J=a.memoizedState,j||te!==J||ta?(typeof ce=="function"&&(ay(a,l,ce,d),J=a.memoizedState),(H=ta||G2(a,l,H,d,te,J,A))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=J),x.props=d,x.state=J,x.context=A,d=H):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,Ug(r,a),A=a.memoizedProps,ae=Ao(l,A),x.props=ae,ce=a.pendingProps,te=x.context,J=l.contextType,H=_l,typeof J=="object"&&J!==null&&(H=jn(J)),j=l.getDerivedStateFromProps,(J=typeof j=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==ce||te!==H)&&K2(a,x,d,H),ta=!1,te=a.memoizedState,x.state=te,wu(a,d,x,g),bu();var ne=a.memoizedState;A!==ce||te!==ne||ta||r!==null&&r.dependencies!==null&&rh(r.dependencies)?(typeof j=="function"&&(ay(a,l,j,d),ne=a.memoizedState),(ae=ta||G2(a,l,ae,d,te,ne,H)||r!==null&&r.dependencies!==null&&rh(r.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ne,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ne,H)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ne),x.props=d,x.state=ne,x.context=H,d=ae):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),d=!1)}return x=d,Eh(r,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,r!==null&&d?(a.child=jl(a,r.child,null,g),a.child=jl(a,null,l,g)):En(r,a,l,g),a.memoizedState=x.state,r=a.child):r=_i(r,a,g),r}function lw(r,a,l,d){return fu(),a.flags|=256,En(r,a,l,d),a.child}var uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(r){return{baseLanes:r,cachePool:Wb()}}function fy(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Fs),r}function cw(r,a,l){var d=a.pendingProps,g=!1,x=(a.flags&128)!==0,A;if((A=x)||(A=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),A&&(g=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,r===null){if(ht){if(g?ia(a):aa(),ht){var j=Lt,H;if(H=j){e:{for(H=j,j=Rr;H.nodeType!==8;){if(!j){j=null;break e}if(H=rr(H.nextSibling),H===null){j=null;break e}}j=H}j!==null?(a.memoizedState={dehydrated:j,treeContext:vo!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},H=ms(18,null,null,0),H.stateNode=j,H.return=a,a.child=H,Wn=a,Lt=null,H=!0):H=!1}H||wo(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Wy(j)?a.lanes=32:a.lanes=536870912,null;wi(a)}return j=d.children,d=d.fallback,g?(aa(),g=a.mode,j=Th({mode:"hidden",children:j},g),d=yo(d,g,l,null),j.return=a,d.return=a,j.sibling=d,a.child=j,g=a.child,g.memoizedState=dy(l),g.childLanes=fy(r,A,l),a.memoizedState=uy,d):(ia(a),hy(a,j))}if(H=r.memoizedState,H!==null&&(j=H.dehydrated,j!==null)){if(x)a.flags&256?(ia(a),a.flags&=-257,a=my(r,a,l)):a.memoizedState!==null?(aa(),a.child=r.child,a.flags|=128,a=null):(aa(),g=d.fallback,j=a.mode,d=Th({mode:"visible",children:d.children},j),g=yo(g,j,l,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,jl(a,r.child,null,l),d=a.child,d.memoizedState=dy(l),d.childLanes=fy(r,A,l),a.memoizedState=uy,a=g);else if(ia(a),Wy(j)){if(A=j.nextSibling&&j.nextSibling.dataset,A)var J=A.dgst;A=J,d=Error(s(419)),d.stack="",d.digest=A,hu({value:d,source:null,stack:null}),a=my(r,a,l)}else if(hn||mu(r,a,l,!1),A=(l&r.childLanes)!==0,hn||A){if(A=Ct,A!==null&&(d=l&-l,d=(d&42)!==0?1:ft(d),d=(d&(A.suspendedLanes|l))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,wl(r,d),xs(A,r,d),ew;j.data==="$?"||jy(),a=my(r,a,l)}else j.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,Lt=rr(j.nextSibling),Wn=a,ht=!0,bo=null,Rr=!1,r!==null&&(Vs[Ls++]=gi,Vs[Ls++]=yi,Vs[Ls++]=vo,gi=r.id,yi=r.overflow,vo=a),a=hy(a,d.children),a.flags|=4096);return a}return g?(aa(),g=d.fallback,j=a.mode,H=r.child,J=H.sibling,d=pi(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,J!==null?g=pi(J,g):(g=yo(g,j,l,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,j=r.child.memoizedState,j===null?j=dy(l):(H=j.cachePool,H!==null?(J=rn._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=Wb(),j={baseLanes:j.baseLanes|l,cachePool:H}),g.memoizedState=j,g.childLanes=fy(r,A,l),a.memoizedState=uy,d):(ia(a),l=r.child,r=l.sibling,l=pi(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,r!==null&&(A=a.deletions,A===null?(a.deletions=[r],a.flags|=16):A.push(r)),a.child=l,a.memoizedState=null,l)}function hy(r,a){return a=Th({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Th(r,a){return r=ms(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function my(r,a,l){return jl(a,r.child,null,l),r=hy(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function uw(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),jg(r.return,a,l)}function py(r,a,l,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=g)}function dw(r,a,l){var d=a.pendingProps,g=d.revealOrder,x=d.tail;if(En(r,a,d.children,l),d=an.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uw(r,l,a);else if(r.tag===19)uw(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(fe(an,d),g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&bh(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),py(a,!1,g,l,x);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&bh(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}py(a,!0,l,null,x);break;case"together":py(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _i(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),da|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(mu(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,l=pi(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=pi(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function gy(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&rh(r)))}function G5(r,a,l){switch(a.tag){case 3:Me(a,a.stateNode.containerInfo),ea(a,rn,r.memoizedState.cache),fu();break;case 27:case 5:Yt(a);break;case 4:Me(a,a.stateNode.containerInfo);break;case 10:ea(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(ia(a),a.flags|=128,null):(l&a.child.childLanes)!==0?cw(r,a,l):(ia(a),r=_i(r,a,l),r!==null?r.sibling:null);ia(a);break;case 19:var g=(r.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(mu(r,a,l,!1),d=(l&a.childLanes)!==0),g){if(d)return dw(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(an,an.current),d)break;return null;case 22:case 23:return a.lanes=0,rw(r,a,l);case 24:ea(a,rn,r.memoizedState.cache)}return _i(r,a,l)}function fw(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)hn=!0;else{if(!gy(r,l)&&(a.flags&128)===0)return hn=!1,G5(r,a,l);hn=(r.flags&131072)!==0}else hn=!1,ht&&(a.flags&1048576)!==0&&zb(a,sh,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")Sg(d)?(r=Ao(d,r),a.tag=1,a=ow(null,a,d,r,l)):(a.tag=0,a=cy(null,a,d,r,l));else{if(d!=null){if(g=d.$$typeof,g===$){a.tag=11,a=tw(null,a,d,r,l);break e}else if(g===D){a.tag=14,a=nw(null,a,d,r,l);break e}}throw a=xe(d)||d,Error(s(306,a,""))}}return a;case 0:return cy(r,a,a.type,a.pendingProps,l);case 1:return d=a.type,g=Ao(d,a.pendingProps),ow(r,a,d,g,l);case 3:e:{if(Me(a,a.stateNode.containerInfo),r===null)throw Error(s(387));d=a.pendingProps;var x=a.memoizedState;g=x.element,Ug(r,a),wu(a,d,null,l);var A=a.memoizedState;if(d=A.cache,ea(a,rn,d),d!==x.cache&&Mg(a,[rn],l,!0),bu(),d=A.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=lw(r,a,d,l);break e}else if(d!==g){g=ks(Error(s(424)),a),hu(g),a=lw(r,a,d,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=rr(r.firstChild),Wn=a,ht=!0,bo=null,Rr=!0,l=$2(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fu(),d===g){a=_i(r,a,l);break e}En(r,a,d,l)}a=a.child}return a;case 26:return Eh(r,a),r===null?(l=g_(a.type,null,a.pendingProps,null))?a.memoizedState=l:ht||(l=a.type,r=a.pendingProps,d=Lh(Re.current).createElement(l),d[tt]=a,d[rt]=r,Sn(d,l,r),zt(d),a.stateNode=d):a.memoizedState=g_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Yt(a),r===null&&ht&&(d=a.stateNode=h_(a.type,a.pendingProps,Re.current),Wn=a,Rr=!0,g=Lt,pa(a.type)?(Xy=g,Lt=rr(d.firstChild)):Lt=g),En(r,a,a.pendingProps.children,l),Eh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ht&&((g=d=Lt)&&(d=bI(d,a.type,a.pendingProps,Rr),d!==null?(a.stateNode=d,Wn=a,Lt=rr(d.firstChild),Rr=!1,g=!0):g=!1),g||wo(a)),Yt(a),g=a.type,x=a.pendingProps,A=r!==null?r.memoizedProps:null,d=x.children,Gy(g,x)?d=null:A!==null&&Gy(g,A)&&(a.flags|=32),a.memoizedState!==null&&(g=qg(r,a,L5,null,null,l),Hu._currentValue=g),Eh(r,a),En(r,a,d,l),a.child;case 6:return r===null&&ht&&((r=l=Lt)&&(l=wI(l,a.pendingProps,Rr),l!==null?(a.stateNode=l,Wn=a,Lt=null,r=!0):r=!1),r||wo(a)),null;case 13:return cw(r,a,l);case 4:return Me(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=jl(a,null,d,l):En(r,a,d,l),a.child;case 11:return tw(r,a,a.type,a.pendingProps,l);case 7:return En(r,a,a.pendingProps,l),a.child;case 8:return En(r,a,a.pendingProps.children,l),a.child;case 12:return En(r,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,ea(a,a.type,d.value),En(r,a,d.children,l),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Eo(a),g=jn(g),d=d(g),a.flags|=1,En(r,a,d,l),a.child;case 14:return nw(r,a,a.type,a.pendingProps,l);case 15:return sw(r,a,a.type,a.pendingProps,l);case 19:return dw(r,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},r===null?(l=Th(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=pi(r.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return rw(r,a,l);case 24:return Eo(a),d=jn(rn),r===null?(g=Pg(),g===null&&(g=Ct,x=Og(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),a.memoizedState={parent:d,cache:g},Lg(a),ea(a,rn,g)):((r.lanes&l)!==0&&(Ug(r,a),wu(a,null,null,l),bu()),g=r.memoizedState,x=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ea(a,rn,d)):(d=x.cache,ea(a,rn,d),d!==g.cache&&Mg(a,[rn],l,!0))),En(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Ei(r){r.flags|=4}function hw(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!w_(a)){if(a=Us.current,a!==null&&((ot&4194048)===ot?Ir!==null:(ot&62914560)!==ot&&(ot&536870912)===0||a!==Ir))throw vu=Vg,Xb;r.flags|=8192}}function Sh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ki():536870912,r.lanes|=a,Pl|=a)}function Nu(r,a){if(!ht)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function K5(r,a,l){var d=a.pendingProps;switch(Rg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),xi(rn),jt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(du(a)?Ei(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qb())),Mt(a),null;case 26:return l=a.memoizedState,r===null?(Ei(a),l!==null?(Mt(a),hw(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Ei(a),Mt(a),hw(a,l)):(Mt(a),a.flags&=-16777217):(r.memoizedProps!==d&&Ei(a),Mt(a),a.flags&=-16777217),null;case 27:ts(a),l=Re.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Ei(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}r=De.current,du(a)?Hb(a):(r=h_(g,d,l),a.stateNode=r,Ei(a))}return Mt(a),null;case 5:if(ts(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Ei(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}if(r=De.current,du(a))Hb(a);else{switch(g=Lh(Re.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}r[tt]=a,r[rt]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;e:switch(Sn(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ei(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Ei(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(r=Re.current,du(a)){if(r=a.stateNode,l=a.memoizedProps,d=null,g=Wn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[tt]=a,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||a_(r.nodeValue,l)),r||wo(a)}else r=Lh(r).createTextNode(d),r[tt]=a,a.stateNode=r}return Mt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=du(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[tt]=a}else fu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),g=!1}else g=qb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(wi(a),a):(wi(a),null)}if(wi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Sh(a,a.updateQueue),Mt(a),null;case 4:return jt(),r===null&&By(a.stateNode.containerInfo),Mt(a),null;case 10:return xi(a.type),Mt(a),null;case 19:if(he(an),g=a.memoizedState,g===null)return Mt(a),null;if(d=(a.flags&128)!==0,x=g.rendering,x===null)if(d)Nu(g,!1);else{if(Ut!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=bh(r),x!==null){for(a.flags|=128,Nu(g,!1),r=x.updateQueue,a.updateQueue=r,Sh(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Bb(l,r),l=l.sibling;return fe(an,an.current&1|2),a.child}r=r.sibling}g.tail!==null&&bn()>Nh&&(a.flags|=128,d=!0,Nu(g,!1),a.lanes=4194304)}else{if(!d)if(r=bh(x),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Sh(a,r),Nu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ht)return Mt(a),null}else 2*bn()-g.renderingStartTime>Nh&&l!==536870912&&(a.flags|=128,d=!0,Nu(g,!1),a.lanes=4194304);g.isBackwards?(x.sibling=a.child,a.child=x):(r=g.last,r!==null?r.sibling=x:a.child=x,g.last=x)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=bn(),a.sibling=null,r=an.current,fe(an,d?r&1|2:r&1),a):(Mt(a),null);case 22:case 23:return wi(a),Hg(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&Sh(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),r!==null&&he(To),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),xi(rn),Mt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Y5(r,a){switch(Rg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return xi(rn),jt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ts(a),null;case 13:if(wi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));fu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return he(an),null;case 4:return jt(),null;case 10:return xi(a.type),null;case 22:case 23:return wi(a),Hg(),r!==null&&he(To),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return xi(rn),null;case 25:return null;default:return null}}function mw(r,a){switch(Rg(a),a.tag){case 3:xi(rn),jt();break;case 26:case 27:case 5:ts(a);break;case 4:jt();break;case 13:wi(a);break;case 19:he(an);break;case 10:xi(a.type);break;case 22:case 23:wi(a),Hg(),r!==null&&he(To);break;case 24:xi(rn)}}function Ru(r,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var x=l.create,A=l.inst;d=x(),A.destroy=d}l=l.next}while(l!==g)}}catch(j){St(a,a.return,j)}}function oa(r,a,l){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&r)===r){var A=d.inst,j=A.destroy;if(j!==void 0){A.destroy=void 0,g=a;var H=l,J=j;try{J()}catch(ae){St(g,H,ae)}}}d=d.next}while(d!==x)}}catch(ae){St(a,a.return,ae)}}function pw(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{n2(a,l)}catch(d){St(r,r.return,d)}}}function gw(r,a,l){l.props=Ao(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){St(r,a,d)}}function Iu(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){St(r,a,g)}}function Dr(r,a){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){St(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){St(r,a,g)}else l.current=null}function yw(r){var a=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){St(r,r.return,g)}}function yy(r,a,l){try{var d=r.stateNode;pI(d,r.type,l,a),d[rt]=a}catch(g){St(r,r.return,g)}}function vw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&pa(r.type)||r.tag===4}function vy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&pa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xy(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Vh));else if(d!==4&&(d===27&&pa(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(xy(r,a,l),r=r.sibling;r!==null;)xy(r,a,l),r=r.sibling}function Ah(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(d===27&&pa(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Ah(r,a,l),r=r.sibling;r!==null;)Ah(r,a,l),r=r.sibling}function xw(r){var a=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Sn(a,d,l),a[tt]=r,a[rt]=l}catch(x){St(r,r.return,x)}}var Ti=!1,$t=!1,by=!1,bw=typeof WeakSet=="function"?WeakSet:Set,mn=null;function W5(r,a){if(r=r.containerInfo,$y=$h,r=Db(r),vg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var A=0,j=-1,H=-1,J=0,ae=0,ce=r,te=null;t:for(;;){for(var ne;ce!==l||g!==0&&ce.nodeType!==3||(j=A+g),ce!==x||d!==0&&ce.nodeType!==3||(H=A+d),ce.nodeType===3&&(A+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===r)break t;if(te===l&&++J===g&&(j=A),te===x&&++ae===d&&(H=A),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}l=j===-1||H===-1?null:{start:j,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(qy={focusedElem:r,selectionRange:l},$h=!1,mn=a;mn!==null;)if(a=mn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,mn=r;else for(;mn!==null;){switch(a=mn,x=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,l=a,g=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Fe=Ao(l.type,g,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(Fe,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(ke){St(l,l.return,ke)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Yy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Yy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,mn=r;break}mn=a.return}}function ww(r,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:la(r,l),d&4&&Ru(5,l);break;case 1:if(la(r,l),d&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(A){St(l,l.return,A)}else{var g=Ao(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(A){St(l,l.return,A)}}d&64&&pw(l),d&512&&Iu(l,l.return);break;case 3:if(la(r,l),d&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{n2(r,a)}catch(A){St(l,l.return,A)}}break;case 27:a===null&&d&4&&xw(l);case 26:case 5:la(r,l),a===null&&d&4&&yw(l),d&512&&Iu(l,l.return);break;case 12:la(r,l);break;case 13:la(r,l),d&4&&Tw(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=rI.bind(null,l),_I(r,l))));break;case 22:if(d=l.memoizedState!==null||Ti,!d){a=a!==null&&a.memoizedState!==null||$t,g=Ti;var x=$t;Ti=d,($t=a)&&!x?ca(r,l,(l.subtreeFlags&8772)!==0):la(r,l),Ti=g,$t=x}break;case 30:break;default:la(r,l)}}function _w(r){var a=r.alternate;a!==null&&(r.alternate=null,_w(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Xi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,is=!1;function Si(r,a,l){for(l=l.child;l!==null;)Ew(r,a,l),l=l.sibling}function Ew(r,a,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(be,l)}catch{}switch(l.tag){case 26:$t||Dr(l,a),Si(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||Dr(l,a);var d=It,g=is;pa(l.type)&&(It=l.stateNode,is=!1),Si(r,a,l),Uu(l.stateNode),It=d,is=g;break;case 5:$t||Dr(l,a);case 6:if(d=It,g=is,It=null,Si(r,a,l),It=d,is=g,It!==null)if(is)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(l.stateNode)}catch(x){St(l,a,x)}else try{It.removeChild(l.stateNode)}catch(x){St(l,a,x)}break;case 18:It!==null&&(is?(r=It,d_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Ku(r)):d_(It,l.stateNode));break;case 4:d=It,g=is,It=l.stateNode.containerInfo,is=!0,Si(r,a,l),It=d,is=g;break;case 0:case 11:case 14:case 15:$t||oa(2,l,a),$t||oa(4,l,a),Si(r,a,l);break;case 1:$t||(Dr(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&gw(l,a,d)),Si(r,a,l);break;case 21:Si(r,a,l);break;case 22:$t=(d=$t)||l.memoizedState!==null,Si(r,a,l),$t=d;break;default:Si(r,a,l)}}function Tw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ku(r)}catch(l){St(a,a.return,l)}}function X5(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new bw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new bw),a;default:throw Error(s(435,r.tag))}}function wy(r,a){var l=X5(r);a.forEach(function(d){var g=iI.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}function ps(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],x=r,A=a,j=A;e:for(;j!==null;){switch(j.tag){case 27:if(pa(j.type)){It=j.stateNode,is=!1;break e}break;case 5:It=j.stateNode,is=!1;break e;case 3:case 4:It=j.stateNode.containerInfo,is=!0;break e}j=j.return}if(It===null)throw Error(s(160));Ew(x,A,g),It=null,is=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Sw(a,r),a=a.sibling}var sr=null;function Sw(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ps(a,r),gs(r),d&4&&(oa(3,r,r.return),Ru(3,r),oa(5,r,r.return));break;case 1:ps(a,r),gs(r),d&512&&($t||l===null||Dr(l,l.return)),d&64&&Ti&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=sr;if(ps(a,r),gs(r),d&512&&($t||l===null||Dr(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":x=g.getElementsByTagName("title")[0],(!x||x[eo]||x[tt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(d),g.head.insertBefore(x,g.querySelector("head > title"))),Sn(x,d,l),x[tt]=r,zt(x),d=x;break e;case"link":var A=x_("link","href",g).get(d+(l.href||""));if(A){for(var j=0;j<A.length;j++)if(x=A[j],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(j,1);break t}}x=g.createElement(d),Sn(x,d,l),g.head.appendChild(x);break;case"meta":if(A=x_("meta","content",g).get(d+(l.content||""))){for(j=0;j<A.length;j++)if(x=A[j],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(j,1);break t}}x=g.createElement(d),Sn(x,d,l),g.head.appendChild(x);break;default:throw Error(s(468,d))}x[tt]=r,zt(x),d=x}r.stateNode=d}else b_(g,r.type,r.stateNode);else r.stateNode=v_(g,d,r.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?b_(g,r.type,r.stateNode):v_(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&yy(r,r.memoizedProps,l.memoizedProps)}break;case 27:ps(a,r),gs(r),d&512&&($t||l===null||Dr(l,l.return)),l!==null&&d&4&&yy(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ps(a,r),gs(r),d&512&&($t||l===null||Dr(l,l.return)),r.flags&32){g=r.stateNode;try{Ds(g,"")}catch(ne){St(r,r.return,ne)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,yy(r,g,l!==null?l.memoizedProps:g)),d&1024&&(by=!0);break;case 6:if(ps(a,r),gs(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(ne){St(r,r.return,ne)}}break;case 3:if(Bh=null,g=sr,sr=Uh(a.containerInfo),ps(a,r),sr=g,gs(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ku(a.containerInfo)}catch(ne){St(r,r.return,ne)}by&&(by=!1,Aw(r));break;case 4:d=sr,sr=Uh(r.stateNode.containerInfo),ps(a,r),gs(r),sr=d;break;case 12:ps(a,r),gs(r);break;case 13:ps(a,r),gs(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Cy=bn()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,wy(r,d)));break;case 22:g=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,J=Ti,ae=$t;if(Ti=J||g,$t=ae||H,ps(a,r),$t=ae,Ti=J,gs(r),d&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||H||Ti||$t||Co(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(x=H.stateNode,g)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{j=H.stateNode;var ce=H.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){St(H,H.return,ne)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(ne){St(H,H.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,wy(r,l))));break;case 19:ps(a,r),gs(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,wy(r,d)));break;case 30:break;case 21:break;default:ps(a,r),gs(r)}}function gs(r){var a=r.flags;if(a&2){try{for(var l,d=r.return;d!==null;){if(vw(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,x=vy(r);Ah(r,x,g);break;case 5:var A=l.stateNode;l.flags&32&&(Ds(A,""),l.flags&=-33);var j=vy(r);Ah(r,j,A);break;case 3:case 4:var H=l.stateNode.containerInfo,J=vy(r);xy(r,J,H);break;default:throw Error(s(161))}}catch(ae){St(r,r.return,ae)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Aw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Aw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function la(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ww(r,a.alternate,a),a=a.sibling}function Co(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:oa(4,a,a.return),Co(a);break;case 1:Dr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&gw(a,a.return,l),Co(a);break;case 27:Uu(a.stateNode);case 26:case 5:Dr(a,a.return),Co(a);break;case 22:a.memoizedState===null&&Co(a);break;case 30:Co(a);break;default:Co(a)}r=r.sibling}}function ca(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,x=a,A=x.flags;switch(x.tag){case 0:case 11:case 15:ca(g,x,l),Ru(4,x);break;case 1:if(ca(g,x,l),d=x,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){St(d,d.return,J)}if(d=x,g=d.updateQueue,g!==null){var j=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)t2(H[g],j)}catch(J){St(d,d.return,J)}}l&&A&64&&pw(x),Iu(x,x.return);break;case 27:xw(x);case 26:case 5:ca(g,x,l),l&&d===null&&A&4&&yw(x),Iu(x,x.return);break;case 12:ca(g,x,l);break;case 13:ca(g,x,l),l&&A&4&&Tw(g,x);break;case 22:x.memoizedState===null&&ca(g,x,l),Iu(x,x.return);break;case 30:break;default:ca(g,x,l)}a=a.sibling}}function _y(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&pu(l))}function Ey(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&pu(r))}function jr(r,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cw(r,a,l,d),a=a.sibling}function Cw(r,a,l,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:jr(r,a,l,d),g&2048&&Ru(9,a);break;case 1:jr(r,a,l,d);break;case 3:jr(r,a,l,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&pu(r)));break;case 12:if(g&2048){jr(r,a,l,d),r=a.stateNode;try{var x=a.memoizedProps,A=x.id,j=x.onPostCommit;typeof j=="function"&&j(A,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){St(a,a.return,H)}}else jr(r,a,l,d);break;case 13:jr(r,a,l,d);break;case 23:break;case 22:x=a.stateNode,A=a.alternate,a.memoizedState!==null?x._visibility&2?jr(r,a,l,d):Du(r,a):x._visibility&2?jr(r,a,l,d):(x._visibility|=2,Ml(r,a,l,d,(a.subtreeFlags&10256)!==0)),g&2048&&_y(A,a);break;case 24:jr(r,a,l,d),g&2048&&Ey(a.alternate,a);break;default:jr(r,a,l,d)}}function Ml(r,a,l,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=r,A=a,j=l,H=d,J=A.flags;switch(A.tag){case 0:case 11:case 15:Ml(x,A,j,H,g),Ru(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?Ml(x,A,j,H,g):Du(x,A):(ae._visibility|=2,Ml(x,A,j,H,g)),g&&J&2048&&_y(A.alternate,A);break;case 24:Ml(x,A,j,H,g),g&&J&2048&&Ey(A.alternate,A);break;default:Ml(x,A,j,H,g)}a=a.sibling}}function Du(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,d=a,g=d.flags;switch(d.tag){case 22:Du(l,d),g&2048&&_y(d.alternate,d);break;case 24:Du(l,d),g&2048&&Ey(d.alternate,d);break;default:Du(l,d)}a=a.sibling}}var ju=8192;function Ol(r){if(r.subtreeFlags&ju)for(r=r.child;r!==null;)Nw(r),r=r.sibling}function Nw(r){switch(r.tag){case 26:Ol(r),r.flags&ju&&r.memoizedState!==null&&kI(sr,r.memoizedState,r.memoizedProps);break;case 5:Ol(r);break;case 3:case 4:var a=sr;sr=Uh(r.stateNode.containerInfo),Ol(r),sr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ju,ju=16777216,Ol(r),ju=a):Ol(r));break;default:Ol(r)}}function Rw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Mu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];mn=d,Dw(d,r)}Rw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Iw(r),r=r.sibling}function Iw(r){switch(r.tag){case 0:case 11:case 15:Mu(r),r.flags&2048&&oa(9,r,r.return);break;case 3:Mu(r);break;case 12:Mu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Ch(r)):Mu(r);break;default:Mu(r)}}function Ch(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];mn=d,Dw(d,r)}Rw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:oa(8,a,a.return),Ch(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ch(a));break;default:Ch(a)}r=r.sibling}}function Dw(r,a){for(;mn!==null;){var l=mn;switch(l.tag){case 0:case 11:case 15:oa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,mn=d;else e:for(l=r;mn!==null;){d=mn;var g=d.sibling,x=d.return;if(_w(d),d===l){mn=null;break e}if(g!==null){g.return=x,mn=g;break e}mn=x}}}var Q5={getCacheForType:function(r){var a=jn(rn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},Z5=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,Ze=null,ot=0,yt=0,ys=null,ua=!1,kl=!1,Ty=!1,Ai=0,Ut=0,da=0,No=0,Sy=0,Fs=0,Pl=0,Ou=null,as=null,Ay=!1,Cy=0,Nh=1/0,Rh=null,fa=null,Tn=0,ha=null,Vl=null,Ll=0,Ny=0,Ry=null,jw=null,ku=0,Iy=null;function vs(){if((gt&2)!==0&&ot!==0)return ot&-ot;if(Y.T!==null){var r=Sl;return r!==0?r:Vy()}return vt()}function Mw(){Fs===0&&(Fs=(ot&536870912)===0||ht?Gi():536870912);var r=Us.current;return r!==null&&(r.flags|=32),Fs}function xs(r,a,l){(r===Ct&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Ul(r,0),ma(r,ot,Fs,!1)),Rs(r,l),((gt&2)===0||r!==Ct)&&(r===Ct&&((gt&2)===0&&(No|=l),Ut===4&&ma(r,ot,Fs,!1)),Mr(r))}function Ow(r,a,l){if((gt&6)!==0)throw Error(s(327));var d=!l&&(a&124)===0&&(a&r.expiredLanes)===0||Cs(r,a),g=d?tI(r,a):My(r,a,!0),x=d;do{if(g===0){kl&&!d&&ma(r,a,0,!1);break}else{if(l=r.current.alternate,x&&!J5(l)){g=My(r,a,!1),x=!1;continue}if(g===2){if(x=a,r.errorRecoveryDisabledLanes&x)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var j=r;g=Ou;var H=j.current.memoizedState.isDehydrated;if(H&&(Ul(j,A).flags|=256),A=My(j,A,!1),A!==2){if(Ty&&!H){j.errorRecoveryDisabledLanes|=x,No|=x,g=4;break e}x=as,as=g,x!==null&&(as===null?as=x:as.push.apply(as,x))}g=A}if(x=!1,g!==2)continue}}if(g===1){Ul(r,0),ma(r,a,0,!0);break}e:{switch(d=r,x=g,x){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ma(d,a,Fs,!ua);break e;case 2:as=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=Cy+300-bn(),10<g)){if(ma(d,a,Fs,!ua),As(d,0,!0)!==0)break e;d.timeoutHandle=c_(kw.bind(null,d,l,as,Rh,Ay,a,Fs,No,Pl,ua,x,2,-0,0),g);break e}kw(d,l,as,Rh,Ay,a,Fs,No,Pl,ua,x,0,-0,0)}}break}while(!0);Mr(r)}function kw(r,a,l,d,g,x,A,j,H,J,ae,ce,te,ne){if(r.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:OI},Nw(a),ce=PI(),ce!==null)){r.cancelPendingCommit=ce(zw.bind(null,r,a,x,l,d,g,A,j,H,ae,1,te,ne)),ma(r,x,A,!J);return}zw(r,a,x,l,d,g,A,j,H)}function J5(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],x=g.getSnapshot;g=g.value;try{if(!hs(x(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ma(r,a,l,d){a&=~Sy,a&=~No,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var x=31-ut(g),A=1<<x;d[x]=-1,g&=~A}l!==0&&ve(r,l,a)}function Ih(){return(gt&6)===0?(Pu(0),!1):!0}function Dy(){if(Ze!==null){if(yt===0)var r=Ze.return;else r=Ze,vi=_o=null,Yg(r),Dl=null,Au=0,r=Ze;for(;r!==null;)mw(r.alternate,r),r=r.return;Ze=null}}function Ul(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,yI(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Dy(),Ct=r,Ze=l=pi(r.current,null),ot=a,yt=0,ys=null,ua=!1,kl=Cs(r,a),Ty=!1,Pl=Fs=Sy=No=da=Ut=0,as=Ou=null,Ay=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-ut(d),x=1<<g;a|=r[g],d&=~x}return Ai=a,Zf(),l}function Pw(r,a){We=null,Y.H=yh,a===yu||a===oh?(a=Jb(),yt=3):a===Xb?(a=Jb(),yt=4):yt=a===ew?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ys=a,Ze===null&&(Ut=1,_h(r,ks(a,r.current)))}function Vw(){var r=Y.H;return Y.H=yh,r===null?yh:r}function Lw(){var r=Y.A;return Y.A=Q5,r}function jy(){Ut=4,ua||(ot&4194048)!==ot&&Us.current!==null||(kl=!0),(da&134217727)===0&&(No&134217727)===0||Ct===null||ma(Ct,ot,Fs,!1)}function My(r,a,l){var d=gt;gt|=2;var g=Vw(),x=Lw();(Ct!==r||ot!==a)&&(Rh=null,Ul(r,a)),a=!1;var A=Ut;e:do try{if(yt!==0&&Ze!==null){var j=Ze,H=ys;switch(yt){case 8:Dy(),A=6;break e;case 3:case 2:case 9:case 6:Us.current===null&&(a=!0);var J=yt;if(yt=0,ys=null,Fl(r,j,H,J),l&&kl){A=0;break e}break;default:J=yt,yt=0,ys=null,Fl(r,j,H,J)}}eI(),A=Ut;break}catch(ae){Pw(r,ae)}while(!0);return a&&r.shellSuspendCounter++,vi=_o=null,gt=d,Y.H=g,Y.A=x,Ze===null&&(Ct=null,ot=0,Zf()),A}function eI(){for(;Ze!==null;)Uw(Ze)}function tI(r,a){var l=gt;gt|=2;var d=Vw(),g=Lw();Ct!==r||ot!==a?(Rh=null,Nh=bn()+500,Ul(r,a)):kl=Cs(r,a);e:do try{if(yt!==0&&Ze!==null){a=Ze;var x=ys;t:switch(yt){case 1:yt=0,ys=null,Fl(r,a,x,1);break;case 2:case 9:if(Qb(x)){yt=0,ys=null,Fw(a);break}a=function(){yt!==2&&yt!==9||Ct!==r||(yt=7),Mr(r)},x.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Qb(x)?(yt=0,ys=null,Fw(a)):(yt=0,ys=null,Fl(r,a,x,7));break;case 5:var A=null;switch(Ze.tag){case 26:A=Ze.memoizedState;case 5:case 27:var j=Ze;if(!A||w_(A)){yt=0,ys=null;var H=j.sibling;if(H!==null)Ze=H;else{var J=j.return;J!==null?(Ze=J,Dh(J)):Ze=null}break t}}yt=0,ys=null,Fl(r,a,x,5);break;case 6:yt=0,ys=null,Fl(r,a,x,6);break;case 8:Dy(),Ut=6;break e;default:throw Error(s(462))}}nI();break}catch(ae){Pw(r,ae)}while(!0);return vi=_o=null,Y.H=d,Y.A=g,gt=l,Ze!==null?0:(Ct=null,ot=0,Zf(),Ut)}function nI(){for(;Ze!==null&&!Qs();)Uw(Ze)}function Uw(r){var a=fw(r.alternate,r,Ai);r.memoizedProps=r.pendingProps,a===null?Dh(r):Ze=a}function Fw(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=aw(l,a,a.pendingProps,a.type,void 0,ot);break;case 11:a=aw(l,a,a.pendingProps,a.type.render,a.ref,ot);break;case 5:Yg(a);default:mw(l,a),a=Ze=Bb(a,Ai),a=fw(l,a,Ai)}r.memoizedProps=r.pendingProps,a===null?Dh(r):Ze=a}function Fl(r,a,l,d){vi=_o=null,Yg(a),Dl=null,Au=0;var g=a.return;try{if(q5(r,g,a,l,ot)){Ut=1,_h(r,ks(l,r.current)),Ze=null;return}}catch(x){if(g!==null)throw Ze=g,x;Ut=1,_h(r,ks(l,r.current)),Ze=null;return}a.flags&32768?(ht||d===1?r=!0:kl||(ot&536870912)!==0?r=!1:(ua=r=!0,(d===2||d===9||d===3||d===6)&&(d=Us.current,d!==null&&d.tag===13&&(d.flags|=16384))),Bw(a,r)):Dh(a)}function Dh(r){var a=r;do{if((a.flags&32768)!==0){Bw(a,ua);return}r=a.return;var l=K5(a.alternate,a,Ai);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=r}while(a!==null);Ut===0&&(Ut=5)}function Bw(r,a){do{var l=Y5(r.alternate,r);if(l!==null){l.flags&=32767,Ze=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=l}while(r!==null);Ut=6,Ze=null}function zw(r,a,l,d,g,x,A,j,H){r.cancelPendingCommit=null;do jh();while(Tn!==0);if((gt&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(x=a.lanes|a.childLanes,x|=Eg,Yi(r,l,x,A,j,H),r===Ct&&(Ze=Ct=null,ot=0),Vl=a,ha=r,Ll=l,Ny=x,Ry=g,jw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,aI(ee,function(){return Kw(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,g=Z.p,Z.p=2,A=gt,gt|=4;try{W5(r,a,l)}finally{gt=A,Z.p=g,Y.T=d}}Tn=1,Hw(),$w(),qw()}}function Hw(){if(Tn===1){Tn=0;var r=ha,a=Vl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var d=Z.p;Z.p=2;var g=gt;gt|=4;try{Sw(a,r);var x=qy,A=Db(r.containerInfo),j=x.focusedElem,H=x.selectionRange;if(A!==j&&j&&j.ownerDocument&&Ib(j.ownerDocument.documentElement,j)){if(H!==null&&vg(j)){var J=H.start,ae=H.end;if(ae===void 0&&(ae=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(ae,j.value.length);else{var ce=j.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Fe=j.textContent.length,ke=Math.min(H.start,Fe),_t=H.end===void 0?ke:Math.min(H.end,Fe);!ne.extend&&ke>_t&&(A=_t,_t=ke,ke=A);var W=Rb(j,ke),K=Rb(j,_t);if(W&&K&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=ce.createRange();Q.setStart(W.node,W.offset),ne.removeAllRanges(),ke>_t?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(ce=[],ne=j;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var oe=ce[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}$h=!!$y,qy=$y=null}finally{gt=g,Z.p=d,Y.T=l}}r.current=a,Tn=2}}function $w(){if(Tn===2){Tn=0;var r=ha,a=Vl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var d=Z.p;Z.p=2;var g=gt;gt|=4;try{ww(r,a.alternate,a)}finally{gt=g,Z.p=d,Y.T=l}}Tn=3}}function qw(){if(Tn===4||Tn===3){Tn=0,ri();var r=ha,a=Vl,l=Ll,d=jw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,Vl=ha=null,Gw(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(fa=null),et(l),a=a.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(be,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=Y.T,g=Z.p,Z.p=2,Y.T=null;try{for(var x=r.onRecoverableError,A=0;A<d.length;A++){var j=d[A];x(j.value,{componentStack:j.stack})}}finally{Y.T=a,Z.p=g}}(Ll&3)!==0&&jh(),Mr(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===Iy?ku++:(ku=0,Iy=r):ku=0,Pu(0)}}function Gw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,pu(a)))}function jh(r){return Hw(),$w(),qw(),Kw()}function Kw(){if(Tn!==5)return!1;var r=ha,a=Ny;Ny=0;var l=et(Ll),d=Y.T,g=Z.p;try{Z.p=32>l?32:l,Y.T=null,l=Ry,Ry=null;var x=ha,A=Ll;if(Tn=0,Vl=ha=null,Ll=0,(gt&6)!==0)throw Error(s(331));var j=gt;if(gt|=4,Iw(x.current),Cw(x,x.current,A,l),gt=j,Pu(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(be,x)}catch{}return!0}finally{Z.p=g,Y.T=d,Gw(r,a)}}function Yw(r,a,l){a=ks(l,a),a=ly(r.stateNode,a,2),r=sa(r,a,2),r!==null&&(Rs(r,2),Mr(r))}function St(r,a,l){if(r.tag===3)Yw(r,r,l);else for(;a!==null;){if(a.tag===3){Yw(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fa===null||!fa.has(d))){r=ks(l,r),l=Z2(2),d=sa(a,l,2),d!==null&&(J2(l,d,a,r),Rs(d,2),Mr(d));break}}a=a.return}}function Oy(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Z5;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(Ty=!0,g.add(l),r=sI.bind(null,r,a,l),a.then(r,r))}function sI(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ct===r&&(ot&l)===l&&(Ut===4||Ut===3&&(ot&62914560)===ot&&300>bn()-Cy?(gt&2)===0&&Ul(r,0):Sy|=l,Pl===ot&&(Pl=0)),Mr(r)}function Ww(r,a){a===0&&(a=Ki()),r=wl(r,a),r!==null&&(Rs(r,a),Mr(r))}function rI(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Ww(r,l)}function iI(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),Ww(r,l)}function aI(r,a){return Es(r,a)}var Mh=null,Bl=null,ky=!1,Oh=!1,Py=!1,Ro=0;function Mr(r){r!==Bl&&r.next===null&&(Bl===null?Mh=Bl=r:Bl=Bl.next=r),Oh=!0,ky||(ky=!0,lI())}function Pu(r,a){if(!Py&&Oh){Py=!0;do for(var l=!1,d=Mh;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var x=0;else{var A=d.suspendedLanes,j=d.pingedLanes;x=(1<<31-ut(42|r)+1)-1,x&=g&~(A&~j),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Jw(d,x))}else x=ot,x=As(d,d===Ct?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Cs(d,x)||(l=!0,Jw(d,x));d=d.next}while(l);Py=!1}}function oI(){Xw()}function Xw(){Oh=ky=!1;var r=0;Ro!==0&&(gI()&&(r=Ro),Ro=0);for(var a=bn(),l=null,d=Mh;d!==null;){var g=d.next,x=Qw(d,a);x===0?(d.next=null,l===null?Mh=g:l.next=g,g===null&&(Bl=l)):(l=d,(r!==0||(x&3)!==0)&&(Oh=!0)),d=g}Pu(r)}function Qw(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var A=31-ut(x),j=1<<A,H=g[A];H===-1?((j&l)===0||(j&d)!==0)&&(g[A]=Js(j,a)):H<=a&&(r.expiredLanes|=j),x&=~j}if(a=Ct,l=ot,l=As(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===a&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ds(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Cs(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(d!==null&&ds(d),et(l)){case 2:case 8:l=G;break;case 32:l=ee;break;case 268435456:l=_e;break;default:l=ee}return d=Zw.bind(null,r),l=Es(l,d),r.callbackPriority=a,r.callbackNode=l,a}return d!==null&&d!==null&&ds(d),r.callbackPriority=2,r.callbackNode=null,2}function Zw(r,a){if(Tn!==0&&Tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(jh()&&r.callbackNode!==l)return null;var d=ot;return d=As(r,r===Ct?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Ow(r,d,a),Qw(r,bn()),r.callbackNode!=null&&r.callbackNode===l?Zw.bind(null,r):null)}function Jw(r,a){if(jh())return null;Ow(r,a,!0)}function lI(){vI(function(){(gt&6)!==0?Es(Zs,oI):Xw()})}function Vy(){return Ro===0&&(Ro=Gi()),Ro}function e_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:cl(""+r)}function t_(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function cI(r,a,l,d,g){if(a==="submit"&&l&&l.stateNode===g){var x=e_((g[rt]||null).action),A=d.submitter;A&&(a=(a=A[rt]||null)?e_(a.formAction):A.getAttribute("formAction"),a!==null&&(x=a,A=null));var j=new ul("action","action",null,d,g);r.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ro!==0){var H=A?t_(g,A):new FormData(g);sy(l,{pending:!0,data:H,method:g.method,action:x},null,H)}}else typeof x=="function"&&(j.preventDefault(),H=A?t_(g,A):new FormData(g),sy(l,{pending:!0,data:H,method:g.method,action:x},x,H))},currentTarget:g}]})}}for(var Ly=0;Ly<_g.length;Ly++){var Uy=_g[Ly],uI=Uy.toLowerCase(),dI=Uy[0].toUpperCase()+Uy.slice(1);nr(uI,"on"+dI)}nr(Ob,"onAnimationEnd"),nr(kb,"onAnimationIteration"),nr(Pb,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(N5,"onTransitionRun"),nr(R5,"onTransitionStart"),nr(I5,"onTransitionCancel"),nr(Vb,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function n_(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var A=d.length-1;0<=A;A--){var j=d[A],H=j.instance,J=j.currentTarget;if(j=j.listener,H!==x&&g.isPropagationStopped())break e;x=j,g.currentTarget=J;try{x(g)}catch(ae){wh(ae)}g.currentTarget=null,x=H}else for(A=0;A<d.length;A++){if(j=d[A],H=j.instance,J=j.currentTarget,j=j.listener,H!==x&&g.isPropagationStopped())break e;x=j,g.currentTarget=J;try{x(g)}catch(ae){wh(ae)}g.currentTarget=null,x=H}}}}function Je(r,a){var l=a[Yc];l===void 0&&(l=a[Yc]=new Set);var d=r+"__bubble";l.has(d)||(s_(a,r,2,!1),l.add(d))}function Fy(r,a,l){var d=0;a&&(d|=4),s_(l,r,d,a)}var kh="_reactListening"+Math.random().toString(36).slice(2);function By(r){if(!r[kh]){r[kh]=!0,Wc.forEach(function(l){l!=="selectionchange"&&(fI.has(l)||Fy(l,!1,r),Fy(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[kh]||(a[kh]=!0,Fy("selectionchange",!1,a))}}function s_(r,a,l,d){switch(C_(a)){case 2:var g=UI;break;case 8:g=FI;break;default:g=t0}l=g.bind(null,a,l,r),g=void 0,!Ms||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function zy(r,a,l,d,g){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var j=d.stateNode.containerInfo;if(j===g)break;if(A===4)for(A=d.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;j!==null;){if(A=ii(j),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){d=x=A;continue e}j=j.parentNode}}d=d.return}Vf(function(){var J=x,ae=js(l),ce=[];e:{var te=Lb.get(r);if(te!==void 0){var ne=ul,Fe=r;switch(r){case"keypress":if(Tr(l)===0)break e;case"keydown":case"keyup":ne=gl;break;case"focusin":Fe="focus",ne=hl;break;case"focusout":Fe="blur",ne=hl;break;case"beforeblur":case"afterblur":ne=hl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=qf;break;case Ob:case kb:case Pb:ne=ml;break;case Vb:ne=Kf;break;case"scroll":case"scrollend":ne=Lf;break;case"wheel":ne=yl;break;case"copy":case"cut":case"paste":ne=pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ou;break;case"toggle":case"beforetoggle":ne=Wf}var ke=(a&4)!==0,_t=!ke&&(r==="scroll"||r==="scrollend"),W=ke?te!==null?te+"Capture":null:te;ke=[];for(var K=J,Q;K!==null;){var oe=K;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||W===null||(oe=oo(K,W),oe!=null&&ke.push(Lu(K,oe,Q))),_t)break;K=K.return}0<ke.length&&(te=new ne(te,Fe,null,l,ae),ce.push({event:te,listeners:ke}))}}if((a&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&l!==ci&&(Fe=l.relatedTarget||l.fromElement)&&(ii(Fe)||Fe[Is]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Fe=l.relatedTarget||l.toElement,ne=J,Fe=Fe?ii(Fe):null,Fe!==null&&(_t=o(Fe),ke=Fe.tag,Fe!==_t||ke!==5&&ke!==27&&ke!==6)&&(Fe=null)):(ne=null,Fe=J),ne!==Fe)){if(ke=Os,oe="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(ke=ou,oe="onPointerLeave",W="onPointerEnter",K="pointer"),_t=ne==null?te:br(ne),Q=Fe==null?te:br(Fe),te=new ke(oe,K+"leave",ne,l,ae),te.target=_t,te.relatedTarget=Q,oe=null,ii(ae)===J&&(ke=new ke(W,K+"enter",Fe,l,ae),ke.target=Q,ke.relatedTarget=_t,oe=ke),_t=oe,ne&&Fe)t:{for(ke=ne,W=Fe,K=0,Q=ke;Q;Q=zl(Q))K++;for(Q=0,oe=W;oe;oe=zl(oe))Q++;for(;0<K-Q;)ke=zl(ke),K--;for(;0<Q-K;)W=zl(W),Q--;for(;K--;){if(ke===W||W!==null&&ke===W.alternate)break t;ke=zl(ke),W=zl(W)}ke=null}else ke=null;ne!==null&&r_(ce,te,ne,ke,!1),Fe!==null&&_t!==null&&r_(ce,_t,Fe,ke,!0)}}e:{if(te=J?br(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ce=Eb;else if(sn(te))if(Tb)Ce=S5;else{Ce=E5;var Qe=_5}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&eu(J.elementType)&&(Ce=Eb):Ce=T5;if(Ce&&(Ce=Ce(r,J))){mi(ce,Ce,l,ae);break e}Qe&&Qe(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Zi(te,"number",te.value)}switch(Qe=J?br(J):window,r){case"focusin":(sn(Qe)||Qe.contentEditable==="true")&&(vl=Qe,xg=J,uu=null);break;case"focusout":uu=xg=vl=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,jb(ce,l,ae);break;case"selectionchange":if(C5)break;case"keydown":case"keyup":jb(ce,l,ae)}var je;if(Cr)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else it?re(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(S&&l.locale!=="ko"&&(it||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&it&&(je=nu()):(Er=ae,Ji="value"in Er?Er.value:Er.textContent,it=!0)),Qe=Ph(J,Ve),0<Qe.length&&(Ve=new iu(Ve,r,null,l,ae),ce.push({event:Ve,listeners:Qe}),je?Ve.data=je:(je=ye(l),je!==null&&(Ve.data=je)))),(je=w?nn(r,l):at(r,l))&&(Ve=Ph(J,"onBeforeInput"),0<Ve.length&&(Qe=new iu("onBeforeInput","beforeinput",null,l,ae),ce.push({event:Qe,listeners:Ve}),Qe.data=je)),cI(ce,r,J,l,ae)}n_(ce,a)})}function Lu(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Ph(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=oo(r,l),g!=null&&d.unshift(Lu(r,g,x)),g=oo(r,a),g!=null&&d.push(Lu(r,g,x))),r.tag===3)return d;r=r.return}return[]}function zl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function r_(r,a,l,d,g){for(var x=a._reactName,A=[];l!==null&&l!==d;){var j=l,H=j.alternate,J=j.stateNode;if(j=j.tag,H!==null&&H===d)break;j!==5&&j!==26&&j!==27||J===null||(H=J,g?(J=oo(l,x),J!=null&&A.unshift(Lu(l,J,H))):g||(J=oo(l,x),J!=null&&A.push(Lu(l,J,H)))),l=l.return}A.length!==0&&r.push({event:a,listeners:A})}var hI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function i_(r){return(typeof r=="string"?r:""+r).replace(hI,`
`).replace(mI,"")}function a_(r,a){return a=i_(a),i_(r)===a}function Vh(){}function wt(r,a,l,d,g,x){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Ds(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Ds(r,""+d);break;case"className":wr(r,"class",d);break;case"tabIndex":wr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(r,l,d);break;case"style":Jc(r,d,x);break;case"data":if(a!=="object"){wr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=cl(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&wt(r,a,"name",g.name,g,null),wt(r,a,"formEncType",g.formEncType,g,null),wt(r,a,"formMethod",g.formMethod,g,null),wt(r,a,"formTarget",g.formTarget,g,null)):(wt(r,a,"encType",g.encType,g,null),wt(r,a,"method",g.method,g,null),wt(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=cl(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=Vh);break;case"onScroll":d!=null&&Je("scroll",r);break;case"onScrollEnd":d!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=cl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Je("beforetoggle",r),Je("toggle",r),Qi(r,"popover",d);break;case"xlinkActuate":wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":wn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":wn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":wn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":wn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Qi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fg.get(l)||l,Qi(r,l,d))}}function Hy(r,a,l,d,g,x){switch(l){case"style":Jc(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?Ds(r,d):(typeof d=="number"||typeof d=="bigint")&&Ds(r,""+d);break;case"onScroll":d!=null&&Je("scroll",r);break;case"onScrollEnd":d!=null&&Je("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),x=r[rt]||null,x=x!=null?x[l]:null,typeof x=="function"&&r.removeEventListener(a,x,g),typeof d=="function")){typeof x!="function"&&x!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):Qi(r,l,d)}}}function Sn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var d=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var A=l[x];if(A!=null)switch(x){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:wt(r,a,x,A,l,null)}}g&&wt(r,a,"srcSet",l.srcSet,l,null),d&&wt(r,a,"src",l.src,l,null);return;case"input":Je("invalid",r);var j=x=A=g=null,H=null,J=null;for(d in l)if(l.hasOwnProperty(d)){var ae=l[d];if(ae!=null)switch(d){case"name":g=ae;break;case"type":A=ae;break;case"checked":H=ae;break;case"defaultChecked":J=ae;break;case"value":x=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,a));break;default:wt(r,a,d,ae,l,null)}}ro(r,x,j,H,J,A,g,!1),ll(r);return;case"select":Je("invalid",r),d=A=x=null;for(g in l)if(l.hasOwnProperty(g)&&(j=l[g],j!=null))switch(g){case"value":x=j;break;case"defaultValue":A=j;break;case"multiple":d=j;default:wt(r,a,g,j,l,null)}a=x,l=A,r.multiple=!!d,a!=null?li(r,!!d,a,!1):l!=null&&li(r,!!d,l,!0);return;case"textarea":Je("invalid",r),x=g=d=null;for(A in l)if(l.hasOwnProperty(A)&&(j=l[A],j!=null))switch(A){case"value":d=j;break;case"defaultValue":g=j;break;case"children":x=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:wt(r,a,A,j,l,null)}io(r,d,g,x),ll(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(d=l[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:wt(r,a,H,d,l,null)}return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(d=0;d<Vu.length;d++)Je(Vu[d],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(d=l[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:wt(r,a,J,d,l,null)}return;default:if(eu(a)){for(ae in l)l.hasOwnProperty(ae)&&(d=l[ae],d!==void 0&&Hy(r,a,ae,d,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(d=l[j],d!=null&&wt(r,a,j,d,l,null))}function pI(r,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,A=null,j=null,H=null,J=null,ae=null;for(ne in l){var ce=l[ne];if(l.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=ce;default:d.hasOwnProperty(ne)||wt(r,a,ne,null,d,ce)}}for(var te in d){var ne=d[te];if(ce=l[te],d.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":x=ne;break;case"name":g=ne;break;case"checked":J=ne;break;case"defaultChecked":ae=ne;break;case"value":A=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,a));break;default:ne!==ce&&wt(r,a,te,ne,d,ce)}}fs(r,A,j,H,J,ae,x,g);return;case"select":ne=A=j=te=null;for(x in l)if(H=l[x],l.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ne=H;default:d.hasOwnProperty(x)||wt(r,a,x,null,d,H)}for(g in d)if(x=d[g],H=l[g],d.hasOwnProperty(g)&&(x!=null||H!=null))switch(g){case"value":te=x;break;case"defaultValue":j=x;break;case"multiple":A=x;default:x!==H&&wt(r,a,g,x,d,H)}a=j,l=A,d=ne,te!=null?li(r,!!l,te,!1):!!d!=!!l&&(a!=null?li(r,!!l,a,!0):li(r,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(j in l)if(g=l[j],l.hasOwnProperty(j)&&g!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:wt(r,a,j,null,d,g)}for(A in d)if(g=d[A],x=l[A],d.hasOwnProperty(A)&&(g!=null||x!=null))switch(A){case"value":te=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==x&&wt(r,a,A,g,d,x)}xt(r,te,ne);return;case"option":for(var Fe in l)if(te=l[Fe],l.hasOwnProperty(Fe)&&te!=null&&!d.hasOwnProperty(Fe))switch(Fe){case"selected":r.selected=!1;break;default:wt(r,a,Fe,null,d,te)}for(H in d)if(te=d[H],ne=l[H],d.hasOwnProperty(H)&&te!==ne&&(te!=null||ne!=null))switch(H){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(r,a,H,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)te=l[ke],l.hasOwnProperty(ke)&&te!=null&&!d.hasOwnProperty(ke)&&wt(r,a,ke,null,d,te);for(J in d)if(te=d[J],ne=l[J],d.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,a));break;default:wt(r,a,J,te,d,ne)}return;default:if(eu(a)){for(var _t in l)te=l[_t],l.hasOwnProperty(_t)&&te!==void 0&&!d.hasOwnProperty(_t)&&Hy(r,a,_t,void 0,d,te);for(ae in d)te=d[ae],ne=l[ae],!d.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||Hy(r,a,ae,te,d,ne);return}}for(var W in l)te=l[W],l.hasOwnProperty(W)&&te!=null&&!d.hasOwnProperty(W)&&wt(r,a,W,null,d,te);for(ce in d)te=d[ce],ne=l[ce],!d.hasOwnProperty(ce)||te===ne||te==null&&ne==null||wt(r,a,ce,te,d,ne)}var $y=null,qy=null;function Lh(r){return r.nodeType===9?r:r.ownerDocument}function o_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Gy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ky=null;function gI(){var r=window.event;return r&&r.type==="popstate"?r===Ky?!1:(Ky=r,!0):(Ky=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,yI=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(r){return u_.resolve(null).then(r).catch(xI)}:c_;function xI(r){setTimeout(function(){throw r})}function pa(r){return r==="head"}function d_(r,a){var l=a,d=0,g=0;do{var x=l.nextSibling;if(r.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<d&&8>d){l=d;var A=r.ownerDocument;if(l&1&&Uu(A.documentElement),l&2&&Uu(A.body),l&4)for(l=A.head,Uu(l),A=l.firstChild;A;){var j=A.nextSibling,H=A.nodeName;A[eo]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=j}}if(g===0){r.removeChild(x),Ku(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=x}while(l);Ku(a)}function Yy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Yy(l),Xi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function bI(r,a,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[eo])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=rr(r.nextSibling),r===null)break}return null}function wI(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=rr(r.nextSibling),r===null))return null;return r}function Wy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _I(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function rr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Xy=null;function f_(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function h_(r,a,l){switch(a=Lh(l),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Uu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Xi(r)}var Bs=new Map,m_=new Set;function Uh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ci=Z.d;Z.d={f:EI,r:TI,D:SI,C:AI,L:CI,m:NI,X:II,S:RI,M:DI};function EI(){var r=Ci.f(),a=Ih();return r||a}function TI(r){var a=xr(r);a!==null&&a.tag===5&&a.type==="form"?O2(a):Ci.r(r)}var Hl=typeof document>"u"?null:document;function p_(r,a,l){var d=Hl;if(d&&typeof a=="string"&&a){var g=Wt(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),m_.has(g)||(m_.add(g),r={rel:r,crossOrigin:l,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Sn(a,"link",r),zt(a),d.head.appendChild(a)))}}function SI(r){Ci.D(r),p_("dns-prefetch",r,null)}function AI(r,a){Ci.C(r,a),p_("preconnect",r,a)}function CI(r,a,l){Ci.L(r,a,l);var d=Hl;if(d&&r&&a){var g='link[rel="preload"][as="'+Wt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Wt(l.imageSizes)+'"]')):g+='[href="'+Wt(r)+'"]';var x=g;switch(a){case"style":x=$l(r);break;case"script":x=ql(r)}Bs.has(x)||(r=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Bs.set(x,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(Fu(x))||a==="script"&&d.querySelector(Bu(x))||(a=d.createElement("link"),Sn(a,"link",r),zt(a),d.head.appendChild(a)))}}function NI(r,a){Ci.m(r,a);var l=Hl;if(l&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Wt(d)+'"][href="'+Wt(r)+'"]',x=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ql(r)}if(!Bs.has(x)&&(r=y({rel:"modulepreload",href:r},a),Bs.set(x,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bu(x)))return}d=l.createElement("link"),Sn(d,"link",r),zt(d),l.head.appendChild(d)}}}function RI(r,a,l){Ci.S(r,a,l);var d=Hl;if(d&&r){var g=Gn(d).hoistableStyles,x=$l(r);a=a||"default";var A=g.get(x);if(!A){var j={loading:0,preload:null};if(A=d.querySelector(Fu(x)))j.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Bs.get(x))&&Qy(r,l);var H=A=d.createElement("link");zt(H),Sn(H,"link",r),H._p=new Promise(function(J,ae){H.onload=J,H.onerror=ae}),H.addEventListener("load",function(){j.loading|=1}),H.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Fh(A,a,d)}A={type:"stylesheet",instance:A,count:1,state:j},g.set(x,A)}}}function II(r,a){Ci.X(r,a);var l=Hl;if(l&&r){var d=Gn(l).hoistableScripts,g=ql(r),x=d.get(g);x||(x=l.querySelector(Bu(g)),x||(r=y({src:r,async:!0},a),(a=Bs.get(g))&&Zy(r,a),x=l.createElement("script"),zt(x),Sn(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function DI(r,a){Ci.M(r,a);var l=Hl;if(l&&r){var d=Gn(l).hoistableScripts,g=ql(r),x=d.get(g);x||(x=l.querySelector(Bu(g)),x||(r=y({src:r,async:!0,type:"module"},a),(a=Bs.get(g))&&Zy(r,a),x=l.createElement("script"),zt(x),Sn(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function g_(r,a,l,d){var g=(g=Re.current)?Uh(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=$l(l.href),l=Gn(g).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=$l(l.href);var x=Gn(g).hoistableStyles,A=x.get(r);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,A),(x=g.querySelector(Fu(r)))&&!x._p&&(A.instance=x,A.state.loading=5),Bs.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bs.set(r,l),x||jI(g,r,l,A.state))),a&&d===null)throw Error(s(528,""));return A}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ql(l),l=Gn(g).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function $l(r){return'href="'+Wt(r)+'"'}function Fu(r){return'link[rel="stylesheet"]['+r+"]"}function y_(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function jI(r,a,l,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Sn(a,"link",l),zt(a),r.head.appendChild(a))}function ql(r){return'[src="'+Wt(r)+'"]'}function Bu(r){return"script[async]"+r}function v_(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+Wt(l.href)+'"]');if(d)return a.instance=d,zt(d),d;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),zt(d),Sn(d,"style",g),Fh(d,l.precedence,r),a.instance=d;case"stylesheet":g=$l(l.href);var x=r.querySelector(Fu(g));if(x)return a.state.loading|=4,a.instance=x,zt(x),x;d=y_(l),(g=Bs.get(g))&&Qy(d,g),x=(r.ownerDocument||r).createElement("link"),zt(x);var A=x;return A._p=new Promise(function(j,H){A.onload=j,A.onerror=H}),Sn(x,"link",d),a.state.loading|=4,Fh(x,l.precedence,r),a.instance=x;case"script":return x=ql(l.src),(g=r.querySelector(Bu(x)))?(a.instance=g,zt(g),g):(d=l,(g=Bs.get(x))&&(d=y({},l),Zy(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),zt(g),Sn(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Fh(d,l.precedence,r));return a.instance}function Fh(r,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,x=g,A=0;A<d.length;A++){var j=d[A];if(j.dataset.precedence===a)x=j;else if(x!==g)break}x?x.parentNode.insertBefore(r,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Qy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Zy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Bh=null;function x_(r,a,l){if(Bh===null){var d=new Map,g=Bh=new Map;g.set(l,d)}else g=Bh,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var x=l[g];if(!(x[eo]||x[tt]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(a)||"";A=r+A;var j=d.get(A);j?j.push(x):d.set(A,[x])}}return d}function b_(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function MI(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function w_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var zu=null;function OI(){}function kI(r,a,l){if(zu===null)throw Error(s(475));var d=zu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=$l(l.href),x=r.querySelector(Fu(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=zh.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=x,zt(x);return}x=r.ownerDocument||r,l=y_(l),(g=Bs.get(g))&&Qy(l,g),x=x.createElement("link"),zt(x);var A=x;A._p=new Promise(function(j,H){A.onload=j,A.onerror=H}),Sn(x,"link",l),a.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=zh.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function PI(){if(zu===null)throw Error(s(475));var r=zu;return r.stylesheets&&r.count===0&&Jy(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Jy(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hh=null;function Jy(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hh=new Map,a.forEach(VI,r),Hh=null,zh.call(r))}function VI(r,a){if(!(a.state.loading&4)){var l=Hh.get(r);if(l)var d=l.get(null);else{l=new Map,Hh.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var A=g[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),d=A)}d&&l.set(null,d)}g=a.instance,A=g.getAttribute("data-precedence"),x=l.get(A)||d,x===d&&l.set(null,g),l.set(A,g),this.count++,d=zh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),x?x.parentNode.insertBefore(g,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var Hu={$$typeof:R,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function LI(r,a,l,d,g,x,A,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function __(r,a,l,d,g,x,A,j,H,J,ae,ce){return r=new LI(r,a,l,A,j,H,J,ce),a=1,x===!0&&(a|=24),x=ms(3,null,null,a),r.current=x,x.stateNode=r,a=Og(),a.refCount++,r.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:a},Lg(x),r}function E_(r){return r?(r=_l,r):_l}function T_(r,a,l,d,g,x){g=E_(g),d.context===null?d.context=g:d.pendingContext=g,d=na(a),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=sa(r,d,a),l!==null&&(xs(l,r,a),xu(l,r,a))}function S_(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function e0(r,a){S_(r,a),(r=r.alternate)&&S_(r,a)}function A_(r){if(r.tag===13){var a=wl(r,67108864);a!==null&&xs(a,r,67108864),e0(r,67108864)}}var $h=!0;function UI(r,a,l,d){var g=Y.T;Y.T=null;var x=Z.p;try{Z.p=2,t0(r,a,l,d)}finally{Z.p=x,Y.T=g}}function FI(r,a,l,d){var g=Y.T;Y.T=null;var x=Z.p;try{Z.p=8,t0(r,a,l,d)}finally{Z.p=x,Y.T=g}}function t0(r,a,l,d){if($h){var g=n0(d);if(g===null)zy(r,a,d,qh,l),N_(r,d);else if(zI(g,r,a,l,d))d.stopPropagation();else if(N_(r,d),a&4&&-1<BI.indexOf(r)){for(;g!==null;){var x=xr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=Dn(x.pendingLanes);if(A!==0){var j=x;for(j.pendingLanes|=2,j.entangledLanes|=2;A;){var H=1<<31-ut(A);j.entanglements[1]|=H,A&=~H}Mr(x),(gt&6)===0&&(Nh=bn()+500,Pu(0))}}break;case 13:j=wl(x,2),j!==null&&xs(j,x,2),Ih(),e0(x,2)}if(x=n0(d),x===null&&zy(r,a,d,qh,l),x===g)break;g=x}g!==null&&d.stopPropagation()}else zy(r,a,d,null,l)}}function n0(r){return r=js(r),s0(r)}var qh=null;function s0(r){if(qh=null,r=ii(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return qh=r,null}function C_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case Zs:return 2;case G:return 8;case ee:case ie:return 32;case _e:return 268435456;default:return 32}default:return 32}}var r0=!1,ga=null,ya=null,va=null,$u=new Map,qu=new Map,xa=[],BI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(r,a){switch(r){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":$u.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(a.pointerId)}}function Gu(r,a,l,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},a!==null&&(a=xr(a),a!==null&&A_(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function zI(r,a,l,d,g){switch(a){case"focusin":return ga=Gu(ga,r,a,l,d,g),!0;case"dragenter":return ya=Gu(ya,r,a,l,d,g),!0;case"mouseover":return va=Gu(va,r,a,l,d,g),!0;case"pointerover":var x=g.pointerId;return $u.set(x,Gu($u.get(x)||null,r,a,l,d,g)),!0;case"gotpointercapture":return x=g.pointerId,qu.set(x,Gu(qu.get(x)||null,r,a,l,d,g)),!0}return!1}function R_(r){var a=ii(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,tn(r.priority,function(){if(l.tag===13){var d=vs();d=ft(d);var g=wl(l,d);g!==null&&xs(g,l,d),e0(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=n0(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ci=d,l.target.dispatchEvent(d),ci=null}else return a=xr(l),a!==null&&A_(a),r.blockedOn=l,!1;a.shift()}return!0}function I_(r,a,l){Gh(r)&&l.delete(a)}function HI(){r0=!1,ga!==null&&Gh(ga)&&(ga=null),ya!==null&&Gh(ya)&&(ya=null),va!==null&&Gh(va)&&(va=null),$u.forEach(I_),qu.forEach(I_)}function Kh(r,a){r.blockedOn===a&&(r.blockedOn=null,r0||(r0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HI)))}var Yh=null;function D_(r){Yh!==r&&(Yh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var a=0;a<r.length;a+=3){var l=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(s0(d||l)===null)continue;break}var x=xr(l);x!==null&&(r.splice(a,3),a-=3,sy(x,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Ku(r){function a(H){return Kh(H,r)}ga!==null&&Kh(ga,r),ya!==null&&Kh(ya,r),va!==null&&Kh(va,r),$u.forEach(a),qu.forEach(a);for(var l=0;l<xa.length;l++){var d=xa[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<xa.length&&(l=xa[0],l.blockedOn===null);)R_(l),l.blockedOn===null&&xa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],x=l[d+1],A=g[rt]||null;if(typeof x=="function")A||D_(l);else if(A){var j=null;if(x&&x.hasAttribute("formAction")){if(g=x,A=x[rt]||null)j=A.formAction;else if(s0(g)!==null)continue}else j=A.action;typeof j=="function"?l[d+1]=j:(l.splice(d,3),d-=3),D_(l)}}}function i0(r){this._internalRoot=r}Wh.prototype.render=i0.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,d=vs();T_(l,d,r,a,null,null)},Wh.prototype.unmount=i0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;T_(r.current,2,null,r,null,null),Ih(),a[Is]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var a=vt();r={blockedOn:null,target:r,priority:a};for(var l=0;l<xa.length&&a!==0&&a<xa[l].priority;l++);xa.splice(l,0,r),l===0&&R_(r)}};var j_=e.version;if(j_!=="19.1.0")throw Error(s(527,j_,"19.1.0"));Z.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var $I={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{be=Xh.inject($I),Ne=Xh}catch{}}return Wu.createRoot=function(r,a){if(!i(r))throw Error(s(299));var l=!1,d="",g=Y2,x=W2,A=X2,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=__(r,1,!1,null,null,l,d,g,x,A,j,null),r[Is]=a.current,By(r),new i0(a)},Wu.hydrateRoot=function(r,a,l){if(!i(r))throw Error(s(299));var d=!1,g="",x=Y2,A=W2,j=X2,H=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=__(r,1,!0,a,l??null,d,g,x,A,j,H,J),a.context=E_(null),l=a.current,d=vs(),d=ft(d),g=na(d),g.callback=null,sa(l,g,d),l=d,a.current.lanes=l,Rs(a,l),Mr(a),r[Is]=a.current,By(r),new Wh(a)},Wu.version="19.1.0",Wu}var z_;function t8(){if(z_)return l0.exports;z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l0.exports=e8(),l0.exports}var n8=t8(),Xu={},H_;function s8(){if(H_)return Xu;H_=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.parse=c,Xu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,_){const T=new o,N=b.length;if(N<2)return T;const I=(_==null?void 0:_.decode)||y;let O=0;do{const P=b.indexOf("=",O);if(P===-1)break;const R=b.indexOf(";",O),$=R===-1?N:R;if(P>$){O=b.lastIndexOf(";",P-1)+1;continue}const B=u(b,O,P),q=h(b,P,B),D=b.slice(B,q);if(T[D]===void 0){let C=u(b,P+1,$),M=h(b,$,C);const V=I(b.slice(C,M));T[D]=V}O=$+1}while(O<N);return T}function u(b,_,T){do{const N=b.charCodeAt(_);if(N!==32&&N!==9)return _}while(++_<T);return T}function h(b,_,T){for(;_>T;){const N=b.charCodeAt(--_);if(N!==32&&N!==9)return _+1}return T}function m(b,_,T){const N=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const I=N(_);if(!e.test(I))throw new TypeError(`argument val is invalid: ${_}`);let O=b+"="+I;if(!T)return O;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);O+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);O+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);O+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);O+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(O+="; HttpOnly"),T.secure&&(O+="; Secure"),T.partitioned&&(O+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return O}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return i.call(b)==="[object Date]"}return Xu}s8();var $_="popstate";function r8(t={}){function e(s,i){let{pathname:o,search:c,hash:u}=s.location;return tv("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Dd(i)}return a8(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i8(){return Math.random().toString(36).substring(2,10)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:n,key:e&&e.key||s||i8()}}function Dd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function a8(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:o=!1}=s,c=i.history,u="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){u="POP";let I=y(),O=I==null?null:I-m;m=I,h&&h({action:u,location:N.location,delta:O})}function b(I,O){u="PUSH";let P=tv(N.location,I,O);m=y()+1;let R=q_(P,m),$=N.createHref(P);try{c.pushState(R,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign($)}o&&h&&h({action:u,location:N.location,delta:1})}function _(I,O){u="REPLACE";let P=tv(N.location,I,O);m=y();let R=q_(P,m),$=N.createHref(P);c.replaceState(R,"",$),o&&h&&h({action:u,location:N.location,delta:0})}function T(I){let O=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof I=="string"?I:Dd(I);return P=P.replace(/ $/,"%20"),Dt(O,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,O)}let N={get action(){return u},get location(){return t(i,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener($_,v),h=I,()=>{i.removeEventListener($_,v),h=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let O=T(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:_,go(I){return c.go(I)}};return N}function uA(t,e,n="/"){return o8(t,e,n,!1)}function o8(t,e,n,s){let i=typeof e=="string"?Nc(e):e,o=ki(i.pathname||"/",n);if(o==null)return null;let c=dA(t);l8(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=x8(o);u=y8(c[h],m,s)}return u}function dA(t,e=[],n=[],s=""){let i=(o,c,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Dt(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=ji([s,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),dA(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:p8(m,o.index),routesMeta:y})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,c);else for(let h of fA(o.path))i(o,c,h)}),e}function fA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let c=fA(s.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function l8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g8(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var c8=/^:[\w-]+$/,u8=3,d8=2,f8=1,h8=10,m8=-2,G_=t=>t==="*";function p8(t,e){let n=t.split("/"),s=n.length;return n.some(G_)&&(s+=m8),e&&(s+=d8),n.filter(i=>!G_(i)).reduce((i,o)=>i+(c8.test(o)?u8:o===""?f8:h8),s)}function g8(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function y8(t,e,n=!1){let{routesMeta:s}=t,i={},o="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],m=u===s.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Vm({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=Vm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ji([o,v.pathname]),pathnameBase:E8(ji([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ji([o,v.pathnameBase]))}return c}function Vm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=v8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let T=u[b]||"";c=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[b];return v&&!_?m[y]=void 0:m[y]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function v8(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function x8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function b8(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:w8(n,e):e,search:T8(s),hash:S8(i)}}function w8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function f0(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hx(t){let e=_8(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mx(t,e,n,s=!1){let i;typeof t=="string"?i=Nc(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),f0("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),f0("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),f0("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}u=v>=0?e[v]:"/"}let h=b8(i,u),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),E8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hA=["POST","PUT","PATCH","DELETE"];new Set(hA);var C8=["GET",...hA];new Set(C8);var Rc=E.createContext(null);Rc.displayName="DataRouter";var Tp=E.createContext(null);Tp.displayName="DataRouterState";var mA=E.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var N8=E.createContext(new Map);N8.displayName="Fetchers";var R8=E.createContext(null);R8.displayName="Await";var pr=E.createContext(null);pr.displayName="Navigation";var sf=E.createContext(null);sf.displayName="Location";var Ws=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ws.displayName="Route";var px=E.createContext(null);px.displayName="RouteError";function I8(t,{relative:e}={}){Dt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=E.useContext(pr),{hash:i,pathname:o,search:c}=rf(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:ji([n,o])),s.createHref({pathname:u,search:c,hash:i})}function Ic(){return E.useContext(sf)!=null}function ti(){return Dt(Ic(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(sf).location}var pA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gA(t){E.useContext(pr).static||E.useLayoutEffect(t)}function Xs(){let{isDataRoute:t}=E.useContext(Ws);return t?G8():D8()}function D8(){Dt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Rc),{basename:e,navigator:n}=E.useContext(pr),{matches:s}=E.useContext(Ws),{pathname:i}=ti(),o=JSON.stringify(hx(s)),c=E.useRef(!1);return gA(()=>{c.current=!0}),E.useCallback((h,m={})=>{if(dr(c.current,pA),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=mx(h,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ji([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,i,t])}var j8=E.createContext(null);function M8(t){let e=E.useContext(Ws).outlet;return e&&E.createElement(j8.Provider,{value:t},e)}function O8(){let{matches:t}=E.useContext(Ws),e=t[t.length-1];return e?e.params:{}}function rf(t,{relative:e}={}){let{matches:n}=E.useContext(Ws),{pathname:s}=ti(),i=JSON.stringify(hx(n));return E.useMemo(()=>mx(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function k8(t,e){return yA(t,e)}function yA(t,e,n,s){var P;Dt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=E.useContext(pr),{matches:c}=E.useContext(Ws),u=c[c.length-1],h=u?u.params:{},m=u?u.pathname:"/",y=u?u.pathnameBase:"/",v=u&&u.route;{let R=v&&v.path||"";vA(m,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=ti(),_;if(e){let R=typeof e=="string"?Nc(e):e;Dt(y==="/"||((P=R.pathname)==null?void 0:P.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=b;let T=_.pathname||"/",N=T;if(y!=="/"){let R=y.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let I=!o&&n&&n.matches&&n.matches.length>0?n.matches:uA(t,{pathname:N});dr(v||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),dr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=F8(I&&I.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:ji([y,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:ji([y,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,s);return e&&O?E.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function P8(){let t=q8(),e=A8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,c)}var V8=E.createElement(P8,null),L8=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Ws.Provider,{value:this.props.routeContext},E.createElement(px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U8({routeContext:t,match:e,children:n}){let s=E.useContext(Rc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ws.Provider,{value:t},n)}function F8(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:v}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,y)=>{let v,b=!1,_=null,T=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||V8,c&&(u<0&&y===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):u===y&&(b=!0,T=m.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,y+1)),I=()=>{let O;return v?O=_:b?O=T:m.route.Component?O=E.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=h,E.createElement(U8,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?E.createElement(L8,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function gx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B8(t){let e=E.useContext(Rc);return Dt(e,gx(t)),e}function z8(t){let e=E.useContext(Tp);return Dt(e,gx(t)),e}function H8(t){let e=E.useContext(Ws);return Dt(e,gx(t)),e}function yx(t){let e=H8(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $8(){return yx("useRouteId")}function q8(){var s;let t=E.useContext(px),e=z8("useRouteError"),n=yx("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function G8(){let{router:t}=B8("useNavigate"),e=yx("useNavigate"),n=E.useRef(!1);return gA(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{dr(n.current,pA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var K_={};function vA(t,e,n){!e&&!K_[t]&&(K_[t]=!0,dr(!1,n))}E.memo(K8);function K8({routes:t,future:e,state:n}){return yA(t,void 0,n,e)}function Qh({to:t,replace:e,state:n,relative:s}){Dt(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(pr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Ws),{pathname:c}=ti(),u=Xs(),h=mx(t,hx(o),c,s==="path"),m=JSON.stringify(h);return E.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:s})},[u,m,s,e,n]),null}function xA(t){return M8(t.context)}function bs(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y8({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:o=!1}){Dt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=Nc(n));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:b="default"}=n,_=E.useMemo(()=>{let T=ki(h,c);return T==null?null:{location:{pathname:T,search:m,hash:y,state:v,key:b},navigationType:s}},[c,h,m,y,v,b,s]);return dr(_!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(pr.Provider,{value:u},E.createElement(sf.Provider,{children:e,value:_}))}function W8({children:t,location:e}){return k8(nv(t),e)}function nv(t,e=[]){let n=[];return E.Children.forEach(t,(s,i)=>{if(!E.isValidElement(s))return;let o=[...e,i];if(s.type===E.Fragment){n.push.apply(n,nv(s.props.children,o));return}Dt(s.type===bs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=nv(s.props.children,o)),n.push(c)}),n}var vm="get",xm="application/x-www-form-urlencoded";function Sp(t){return t!=null&&typeof t.tagName=="string"}function X8(t){return Sp(t)&&t.tagName.toLowerCase()==="button"}function Q8(t){return Sp(t)&&t.tagName.toLowerCase()==="form"}function Z8(t){return Sp(t)&&t.tagName.toLowerCase()==="input"}function J8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eD(t,e){return t.button===0&&(!e||e==="_self")&&!J8(t)}var Zh=null;function tD(){if(Zh===null)try{new FormData(document.createElement("form"),0),Zh=!1}catch{Zh=!0}return Zh}var nD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h0(t){return t!=null&&!nD.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):t}function sD(t,e){let n,s,i,o,c;if(Q8(t)){let u=t.getAttribute("action");s=u?ki(u,e):null,n=t.getAttribute("method")||vm,i=h0(t.getAttribute("enctype"))||xm,o=new FormData(t)}else if(X8(t)||Z8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(s=h?ki(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||vm,i=h0(t.getAttribute("formenctype"))||h0(u.getAttribute("enctype"))||xm,o=new FormData(u,t),!tD()){let{name:m,type:y,value:v}=t;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Sp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vm,s=null,i=xm,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:o,body:c}}function vx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function rD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aD(t,e,n){let s=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await rD(o,n);return c.links?c.links():[]}return[]}));return uD(s.flat(1).filter(iD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Y_(t,e,n,s,i,o){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>{var y;return n[m].pathname!==h.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,m)=>c(h,m)||u(h,m)):o==="data"?e.filter((h,m)=>{var v;let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oD(t,e,{includeHydrateFallback:n}={}){return lD(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function lD(t){return[...new Set(t)]}function cD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uD(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let o=JSON.stringify(cD(i));return n.has(o)||(n.add(o),s.push({key:o,link:i})),s},[])}var dD=new Set([100,101,204,205]);function fD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ki(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function bA(){let t=E.useContext(Rc);return vx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hD(){let t=E.useContext(Tp);return vx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xx=E.createContext(void 0);xx.displayName="FrameworkContext";function wA(){let t=E.useContext(xx);return vx(t,"You must render this element inside a <HydratedRouter> element"),t}function mD(t,e){let n=E.useContext(xx),[s,i]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=O=>{O.forEach(P=>{c(P.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[t]),E.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let _=()=>{i(!0)},T=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Qu(u,_),onBlur:Qu(h,T),onMouseEnter:Qu(m,_),onMouseLeave:Qu(y,T),onTouchStart:Qu(v,_)}]:[!1,b,{}]}function Qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pD({page:t,...e}){let{router:n}=bA(),s=E.useMemo(()=>uA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?E.createElement(yD,{page:t,matches:s,...e}):null}function gD(t){let{manifest:e,routeModules:n}=wA(),[s,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return aD(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),s}function yD({page:t,matches:e,...n}){let s=ti(),{manifest:i,routeModules:o}=wA(),{basename:c}=bA(),{loaderData:u,matches:h}=hD(),m=E.useMemo(()=>Y_(t,e,h,i,s,"data"),[t,e,h,i,s]),y=E.useMemo(()=>Y_(t,e,h,i,s,"assets"),[t,e,h,i,s]),v=E.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let T=new Set,N=!1;if(e.forEach(O=>{var R;let P=i.routes[O.route.id];!P||!P.hasLoader||(!m.some($=>$.route.id===O.route.id)&&O.route.id in u&&((R=o[O.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?N=!0:T.add(O.route.id))}),T.size===0)return[];let I=fD(t,c);return N&&T.size>0&&I.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[c,u,s,i,m,e,t,o]),b=E.useMemo(()=>oD(y,i),[y,i]),_=gD(y);return E.createElement(E.Fragment,null,v.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:N})=>E.createElement("link",{key:T,...N})))}function vD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.5.3")}catch{}function xD({basename:t,children:e,window:n}){let s=E.useRef();s.current==null&&(s.current=r8({window:n,v5Compat:!0}));let i=s.current,[o,c]=E.useState({action:i.action,location:i.location}),u=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(Y8,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=E.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:o,replace:c,state:u,target:h,to:m,preventScrollReset:y,viewTransition:v,...b},_){let{basename:T}=E.useContext(pr),N=typeof m=="string"&&EA.test(m),I,O=!1;if(typeof m=="string"&&N&&(I=m,_A))try{let M=new URL(window.location.href),V=m.startsWith("//")?new URL(M.protocol+m):new URL(m),U=ki(V.pathname,T);V.origin===M.origin&&U!=null?m=U+V.search+V.hash:O=!0}catch{dr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=I8(m,{relative:i}),[R,$,B]=mD(s,b),q=ED(m,{replace:c,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:v});function D(M){e&&e(M),M.defaultPrevented||q(M)}let C=E.createElement("a",{...b,...B,href:I||P,onClick:O||o?e:D,ref:vD(_,$),target:h,"data-discover":!N&&n==="render"?"true":void 0});return R&&!N?E.createElement(E.Fragment,null,C,E.createElement(pD,{page:P})):C});Bn.displayName="Link";var bD=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:u,children:h,...m},y){let v=rf(c,{relative:m.relative}),b=ti(),_=E.useContext(Tp),{navigator:T,basename:N}=E.useContext(pr),I=_!=null&&ND(v)&&u===!0,O=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,P=b.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(P=P.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&N&&(R=ki(R,N)||R);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let B=P===O||!i&&P.startsWith(O)&&P.charAt($)==="/",q=R!=null&&(R===O||!i&&R.startsWith(O)&&R.charAt(O.length)==="/"),D={isActive:B,isPending:q,isTransitioning:I},C=B?e:void 0,M;typeof s=="function"?M=s(D):M=[s,B?"active":null,q?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return E.createElement(Bn,{...m,"aria-current":C,className:M,ref:y,style:V,to:c,viewTransition:u},typeof h=="function"?h(D):h)});bD.displayName="NavLink";var wD=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:o,method:c=vm,action:u,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:v,...b},_)=>{let T=AD(),N=CD(u,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&EA.test(u),P=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let $=R.nativeEvent.submitter,B=($==null?void 0:$.getAttribute("formmethod"))||c;T($||R.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:i,state:o,relative:m,preventScrollReset:y,viewTransition:v})};return E.createElement("form",{ref:_,method:I,action:N,onSubmit:s?h:P,...b,"data-discover":!O&&t==="render"?"true":void 0})});wD.displayName="Form";function _D(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(t){let e=E.useContext(Rc);return Dt(e,_D(t)),e}function ED(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c}={}){let u=Xs(),h=ti(),m=rf(t,{relative:o});return E.useCallback(y=>{if(eD(y,e)){y.preventDefault();let v=n!==void 0?n:Dd(h)===Dd(m);u(t,{replace:v,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[h,u,m,n,s,e,t,i,o,c])}var TD=0,SD=()=>`__${String(++TD)}__`;function AD(){let{router:t}=TA("useSubmit"),{basename:e}=E.useContext(pr),n=$8();return E.useCallback(async(s,i={})=>{let{action:o,method:c,encType:u,formData:h,body:m}=sD(s,e);if(i.navigate===!1){let y=i.fetcherKey||SD();await t.fetch(y,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function CD(t,{relative:e}={}){let{basename:n}=E.useContext(pr),s=E.useContext(Ws);Dt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...rf(t||".",{relative:e})},c=ti();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let y=u.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ji([n,o.pathname])),Dd(o)}function ND(t,e={}){let n=E.useContext(mA);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TA("useViewTransitionState"),i=rf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ki(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ki(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vm(i.pathname,c)!=null||Vm(i.pathname,o)!=null}new TextEncoder;[...dD];var Ks=cA();const bx=E.createContext({});function wx(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const _x=typeof window<"u",SA=_x?E.useLayoutEffect:E.useEffect,Ap=E.createContext(null),Ex=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class RD extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=s instanceof HTMLElement&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ID({children:t,isPresent:e,anchorX:n}){const s=E.useId(),i=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=E.useContext(Ex);return E.useInsertionEffect(()=>{const{width:u,height:h,top:m,left:y,right:v}=o.current;if(e||!i.current||!u||!h)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");return c&&(_.nonce=c),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[e]),f.jsx(RD,{isPresent:e,childRef:i,sizeRef:o,children:E.cloneElement(t,{ref:i})})}const DD=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:c,anchorX:u})=>{const h=wx(jD),m=E.useId();let y=!0,v=E.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const _ of h.values())if(!_)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return o&&y&&(v={...v}),E.useMemo(()=>{h.forEach((b,_)=>h.set(_,!1))},[n]),E.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(t=f.jsx(ID,{isPresent:n,anchorX:u,children:t})),f.jsx(Ap.Provider,{value:v,children:t})};function jD(){return new Map}function AA(t=!0){const e=E.useContext(Ap);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,o=E.useId();E.useEffect(()=>{if(t)return i(o)},[t]);const c=E.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,c]:[!0]}const Jh=t=>t.key||"";function W_(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Tx=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:c=!1,anchorX:u="left"})=>{const[h,m]=AA(c),y=E.useMemo(()=>W_(t),[t]),v=c&&!h?[]:y.map(Jh),b=E.useRef(!0),_=E.useRef(y),T=wx(()=>new Map),[N,I]=E.useState(y),[O,P]=E.useState(y);SA(()=>{b.current=!1,_.current=y;for(let B=0;B<O.length;B++){const q=Jh(O[B]);v.includes(q)?T.delete(q):T.get(q)!==!0&&T.set(q,!1)}},[O,v.length,v.join("-")]);const R=[];if(y!==N){let B=[...y];for(let q=0;q<O.length;q++){const D=O[q],C=Jh(D);v.includes(C)||(B.splice(q,0,D),R.push(D))}return o==="wait"&&R.length&&(B=R),P(W_(B)),I(y),null}const{forceRender:$}=E.useContext(bx);return f.jsx(f.Fragment,{children:O.map(B=>{const q=Jh(B),D=c&&!h?!1:y===O||v.includes(q),C=()=>{if(T.has(q))T.set(q,!0);else return;let M=!0;T.forEach(V=>{V||(M=!1)}),M&&($==null||$(),P(_.current),c&&(m==null||m()),s&&s())};return f.jsx(DD,{isPresent:D,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:D?void 0:C,anchorX:u,children:B},q)})})};function Sx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ax(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pi=(t,e,n)=>n>e?e:n<t?t:n;let Cx=()=>{};const Vi={},CA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),NA=t=>/^0[^.\s]+$/u.test(t);function Nx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ys=t=>t,MD=(t,e)=>n=>e(t(n)),af=(...t)=>t.reduce(MD),jd=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Rx{constructor(){this.subscriptions=[]}add(e){return Sx(this.subscriptions,e),()=>Ax(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zr=t=>t*1e3,Hr=t=>t/1e3;function RA(t,e){return e?t*(1e3/e):0}const IA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OD=1e-7,kD=12;function PD(t,e,n,s,i){let o,c,u=0;do c=e+(n-e)/2,o=IA(c,s,i)-t,o>0?n=c:e=c;while(Math.abs(o)>OD&&++u<kD);return c}function of(t,e,n,s){if(t===e&&n===s)return Ys;const i=o=>PD(o,0,1,t,n);return o=>o===0||o===1?o:IA(i(o),e,s)}const DA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jA=t=>e=>1-t(1-e),MA=of(.33,1.53,.69,.99),Ix=jA(MA),OA=DA(Ix),kA=t=>(t*=2)<1?.5*Ix(t):.5*(2-Math.pow(2,-10*(t-1))),Dx=t=>1-Math.sin(Math.acos(t)),PA=jA(Dx),VA=DA(Dx),VD=of(.42,0,1,1),LD=of(0,0,.58,1),LA=of(.42,0,.58,1),UD=t=>Array.isArray(t)&&typeof t[0]!="number",UA=t=>Array.isArray(t)&&typeof t[0]=="number",FD={linear:Ys,easeIn:VD,easeInOut:LA,easeOut:LD,circIn:Dx,circInOut:VA,circOut:PA,backIn:Ix,backInOut:OA,backOut:MA,anticipate:kA},BD=t=>typeof t=="string",X_=t=>{if(UA(t)){Cx(t.length===4);const[e,n,s,i]=t;return of(e,n,s,i)}else if(BD(t))return FD[t];return t},em=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q_={value:null};function zD(t,e){let n=new Set,s=new Set,i=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(v){c.has(v)&&(y.schedule(v),t()),h++,v(u)}const y={schedule:(v,b=!1,_=!1)=>{const N=_&&i?n:s;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(u=v,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(m),e&&Q_.value&&Q_.value.frameloop[e].push(h),h=0,n.clear(),i=!1,o&&(o=!1,y.process(v))}};return y}const HD=40;function FA(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=em.reduce((R,$)=>(R[$]=zD(o,e?$:void 0),R),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:y,update:v,preRender:b,render:_,postRender:T}=c,N=()=>{const R=Vi.useManualTiming?i.timestamp:performance.now();n=!1,Vi.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(R-i.timestamp,HD),1)),i.timestamp=R,i.isProcessing=!0,u.process(i),h.process(i),m.process(i),y.process(i),v.process(i),b.process(i),_.process(i),T.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(N))},I=()=>{n=!0,s=!0,i.isProcessing||t(N)};return{schedule:em.reduce((R,$)=>{const B=c[$];return R[$]=(q,D=!1,C=!1)=>(n||I(),B.schedule(q,D,C)),R},{}),cancel:R=>{for(let $=0;$<em.length;$++)c[em[$]].cancel(R)},state:i,steps:c}}const{schedule:Pt,cancel:La,state:An,steps:m0}=FA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ys,!0);let bm;function $D(){bm=void 0}const cs={now:()=>(bm===void 0&&cs.set(An.isProcessing||Vi.useManualTiming?An.timestamp:performance.now()),bm),set:t=>{bm=t,queueMicrotask($D)}},BA=t=>e=>typeof e=="string"&&e.startsWith(t),jx=BA("--"),qD=BA("var(--"),Mx=t=>qD(t)?GD.test(t.split("/*")[0].trim()):!1,GD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Md={...Dc,transform:t=>Pi(0,1,t)},tm={...Dc,default:1},md=t=>Math.round(t*1e5)/1e5,Ox=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KD(t){return t==null}const YD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kx=(t,e)=>n=>!!(typeof n=="string"&&YD.test(n)&&n.startsWith(t)||e&&!KD(n)&&Object.prototype.hasOwnProperty.call(n,e)),zA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,o,c,u]=s.match(Ox);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},WD=t=>Pi(0,255,t),p0={...Dc,transform:t=>Math.round(WD(t))},ko={test:kx("rgb","red"),parse:zA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+p0.transform(t)+", "+p0.transform(e)+", "+p0.transform(n)+", "+md(Md.transform(s))+")"};function XD(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const sv={test:kx("#"),parse:XD,transform:ko.transform},lf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_a=lf("deg"),$r=lf("%"),Be=lf("px"),QD=lf("vh"),ZD=lf("vw"),Z_={...$r,parse:t=>$r.parse(t)/100,transform:t=>$r.transform(t*100)},Zl={test:kx("hsl","hue"),parse:zA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+$r.transform(md(e))+", "+$r.transform(md(n))+", "+md(Md.transform(s))+")"},Pn={test:t=>ko.test(t)||sv.test(t)||Zl.test(t),parse:t=>ko.test(t)?ko.parse(t):Zl.test(t)?Zl.parse(t):sv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ko.transform(t):Zl.transform(t)},JD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ej(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ox))==null?void 0:e.length)||0)+(((n=t.match(JD))==null?void 0:n.length)||0)>0}const HA="number",$A="color",tj="var",nj="var(",J_="${}",sj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Od(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(sj,h=>(Pn.test(h)?(s.color.push(o),i.push($A),n.push(Pn.parse(h))):h.startsWith(nj)?(s.var.push(o),i.push(tj),n.push(h)):(s.number.push(o),i.push(HA),n.push(parseFloat(h))),++o,J_)).split(J_);return{values:n,split:u,indexes:s,types:i}}function qA(t){return Od(t).values}function GA(t){const{split:e,types:n}=Od(t),s=e.length;return i=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],i[c]!==void 0){const u=n[c];u===HA?o+=md(i[c]):u===$A?o+=Pn.transform(i[c]):o+=i[c]}return o}}const rj=t=>typeof t=="number"?0:t;function ij(t){const e=qA(t);return GA(t)(e.map(rj))}const Ua={test:ej,parse:qA,createTransformer:GA,getAnimatableNone:ij};function g0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=g0(h,u,t+1/3),o=g0(h,u,t),c=g0(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function Lm(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,y0=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},oj=[sv,ko,Zl],lj=t=>oj.find(e=>e.test(t));function eE(t){const e=lj(t);if(!e)return!1;let n=e.parse(t);return e===Zl&&(n=aj(n)),n}const tE=(t,e)=>{const n=eE(t),s=eE(e);if(!n||!s)return Lm(t,e);const i={...n};return o=>(i.red=y0(n.red,s.red,o),i.green=y0(n.green,s.green,o),i.blue=y0(n.blue,s.blue,o),i.alpha=kt(n.alpha,s.alpha,o),ko.transform(i))},rv=new Set(["none","hidden"]);function cj(t,e){return rv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uj(t,e){return n=>kt(t,e,n)}function Px(t){return typeof t=="number"?uj:typeof t=="string"?Mx(t)?Lm:Pn.test(t)?tE:hj:Array.isArray(t)?KA:typeof t=="object"?Pn.test(t)?tE:dj:Lm}function KA(t,e){const n=[...t],s=n.length,i=t.map((o,c)=>Px(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)n[c]=i[c](o);return n}}function dj(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Px(t[i])(t[i],e[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function fj(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],c=t.indexes[o][s[o]],u=t.values[c]??0;n[i]=u,s[o]++}return n}const hj=(t,e)=>{const n=Ua.createTransformer(e),s=Od(t),i=Od(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?rv.has(t)&&!i.values.length||rv.has(e)&&!s.values.length?cj(t,e):af(KA(fj(s,i),i.values),n):Lm(t,e)};function YA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):Px(t)(t,e)}const mj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pt.update(e,!0),stop:()=>La(e),now:()=>An.isProcessing?An.timestamp:cs.now()}},WA=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)s+=t(o/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Um=2e4;function Vx(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Um;)e+=n,s=t.next(e);return e>=Um?1/0:e}function pj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Vx(s),Um);return{type:"keyframes",ease:o=>s.next(i*o).value/e,duration:Hr(i)}}const gj=5;function XA(t,e,n){const s=Math.max(e-gj,0);return RA(n-t(s),e-s)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nE=.001;function yj({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:s=Ft.mass}){let i,o,c=1-e;c=Pi(Ft.minDamping,Ft.maxDamping,c),t=Pi(Ft.minDuration,Ft.maxDuration,Hr(t)),c<1?(i=m=>{const y=m*c,v=y*t,b=y-n,_=iv(m,c),T=Math.exp(-v);return nE-b/_*T},o=m=>{const v=m*c*t,b=v*n+n,_=Math.pow(c,2)*Math.pow(m,2)*t,T=Math.exp(-v),N=iv(Math.pow(m,2),c);return(-i(m)+nE>0?-1:1)*((b-_)*T)/N}):(i=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-.001+y*v},o=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const u=5/t,h=xj(i,o,u);if(t=zr(t),isNaN(h))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const vj=12;function xj(t,e,n){let s=n;for(let i=1;i<vj;i++)s=s-t(s)/e(s);return s}function iv(t,e){return t*Math.sqrt(1-e*e)}const bj=["duration","bounce"],wj=["stiffness","damping","mass"];function sE(t,e){return e.some(n=>t[n]!==void 0)}function _j(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!sE(t,wj)&&sE(t,bj))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:o}}else{const n=yj(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function Fm(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:m,mass:y,duration:v,velocity:b,isResolvedFromDuration:_}=_j({...n,velocity:-Hr(n.velocity||0)}),T=b||0,N=m/(2*Math.sqrt(h*y)),I=c-o,O=Hr(Math.sqrt(h/y)),P=Math.abs(I)<5;s||(s=P?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=P?Ft.restDelta.granular:Ft.restDelta.default);let R;if(N<1){const B=iv(O,N);R=q=>{const D=Math.exp(-N*O*q);return c-D*((T+N*O*I)/B*Math.sin(B*q)+I*Math.cos(B*q))}}else if(N===1)R=B=>c-Math.exp(-O*B)*(I+(T+O*I)*B);else{const B=O*Math.sqrt(N*N-1);R=q=>{const D=Math.exp(-N*O*q),C=Math.min(B*q,300);return c-D*((T+N*O*I)*Math.sinh(C)+B*I*Math.cosh(C))/B}}const $={calculatedDuration:_&&v||null,next:B=>{const q=R(B);if(_)u.done=B>=v;else{let D=B===0?T:0;N<1&&(D=B===0?zr(T):XA(R,B,q));const C=Math.abs(D)<=s,M=Math.abs(c-q)<=i;u.done=C&&M}return u.value=u.done?c:q,u},toString:()=>{const B=Math.min(Vx($),Um),q=WA(D=>$.next(B*D).value,B,30);return B+"ms "+q},toTransition:()=>{}};return $}Fm.applyToOptions=t=>{const e=pj(t,100,Fm);return t.ease=e.ease,t.duration=zr(e.duration),t.type="keyframes",t};function av({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},_=C=>u!==void 0&&C<u||h!==void 0&&C>h,T=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let N=n*e;const I=v+N,O=c===void 0?I:c(I);O!==I&&(N=O-v);const P=C=>-N*Math.exp(-C/s),R=C=>O+P(C),$=C=>{const M=P(C),V=R(C);b.done=Math.abs(M)<=m,b.value=b.done?O:V};let B,q;const D=C=>{_(b.value)&&(B=C,q=Fm({keyframes:[b.value,T(b.value)],velocity:XA(R,C,b.value),damping:i,stiffness:o,restDelta:m,restSpeed:y}))};return D(0),{calculatedDuration:null,next:C=>{let M=!1;return!q&&B===void 0&&(M=!0,$(C),D(C)),B!==void 0&&C>=B?q.next(C-B):(!M&&$(C),b)}}}function Ej(t,e,n){const s=[],i=n||Vi.mix||YA,o=t.length-1;for(let c=0;c<o;c++){let u=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Ys:e;u=af(h,u)}s.push(u)}return s}function Tj(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(Cx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Ej(e,s,i),h=u.length,m=y=>{if(c&&y<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=jd(t[v],t[v+1],y);return u[v](b)};return n?y=>m(Pi(t[0],t[o-1],y)):m}function Sj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=jd(0,e,s);t.push(kt(n,1,i))}}function Aj(t){const e=[0];return Sj(e,t.length-1),e}function Cj(t,e){return t.map(n=>n*e)}function Nj(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function pd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=UD(s)?s.map(X_):X_(s),o={done:!1,value:e[0]},c=Cj(n&&n.length===e.length?n:Aj(e),t),u=Tj(c,e,{ease:Array.isArray(i)?i:Nj(e,i)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const Rj=t=>t!==null;function Lx(t,{repeat:e,repeatType:n="loop"},s,i=1){const o=t.filter(Rj),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const Ij={decay:av,inertia:av,tween:pd,keyframes:pd,spring:Fm};function QA(t){typeof t.type=="string"&&(t.type=Ij[t.type])}class Ux{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Dj=t=>t/100;class ZA extends Ux{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==cs.now()&&this.tick(cs.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QA(e);const{type:n=pd,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const h=n||pd;h!==pd&&typeof u[0]!="number"&&(this.mixKeyframes=af(Dj,YA(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Vx(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:_,type:T,onUpdate:N,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?O<0:O>i;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,$=s;if(v){const C=Math.min(this.currentTime,i)/u;let M=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(b==="reverse"?(V=1-V,_&&(V-=_/u)):b==="mirror"&&($=c)),R=Pi(0,1,V)*u}const B=P?{done:!1,value:y[0]}:$.next(R);o&&(B.value=o(B.value));let{done:q}=B;!P&&h!==null&&(q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return D&&T!==av&&(B.value=Lx(y,this.options,I,this.speed)),N&&N(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Hr(this.calculatedDuration)}get time(){return Hr(this.currentTime)}set time(e){e=zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mj,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function jj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Po=t=>t*180/Math.PI,ov=t=>{const e=Po(Math.atan2(t[1],t[0]));return lv(e)},Mj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ov,rotateZ:ov,skewX:t=>Po(Math.atan(t[1])),skewY:t=>Po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lv=t=>(t=t%360,t<0&&(t+=360),t),rE=ov,iE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Oj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iE,scaleY:aE,scale:t=>(iE(t)+aE(t))/2,rotateX:t=>lv(Po(Math.atan2(t[6],t[5]))),rotateY:t=>lv(Po(Math.atan2(-t[2],t[0]))),rotateZ:rE,rotate:rE,skewX:t=>Po(Math.atan(t[4])),skewY:t=>Po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oE(t){return t.includes("scale")?1:0}function cv(t,e){if(!t||t==="none")return oE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Oj,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Mj,i=u}if(!i)return oE(e);const o=s[e],c=i[1].split(",").map(Pj);return typeof o=="function"?o(c):c[o]}const kj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cv(n,e)};function Pj(t){return parseFloat(t.trim())}const jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mc=new Set(jc),lE=t=>t===Dc||t===Be,Vj=new Set(["x","y","z"]),Lj=jc.filter(t=>!Vj.has(t));function Uj(t){const e=[];return Lj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const mc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cv(e,"x"),y:(t,{transform:e})=>cv(e,"y")};mc.translateX=mc.x;mc.translateY=mc.y;const Bo=new Set;let uv=!1,dv=!1,fv=!1;function JA(){if(dv){const t=Array.from(Bo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=Uj(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,c])=>{var u;(u=s.getValue(o))==null||u.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}dv=!1,uv=!1,Bo.forEach(t=>t.complete(fv)),Bo.clear()}function e3(){Bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dv=!0)})}function Fj(){fv=!0,e3(),JA(),fv=!1}class Fx{constructor(e,n,s,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bo.add(this),uv||(uv=!0,Pt.read(e3),Pt.resolveKeyframes(JA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}jj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bj=t=>t.startsWith("--");function zj(t,e,n){Bj(e)?t.style.setProperty(e,n):t.style[e]=n}const Hj=Nx(()=>window.ScrollTimeline!==void 0),$j={};function qj(t,e){const n=Nx(t);return()=>$j[e]??n()}const t3=qj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rd([0,.65,.55,1]),circOut:rd([.55,0,1,.45]),backIn:rd([.31,.01,.66,-.59]),backOut:rd([.33,1.53,.69,.99])};function n3(t,e){if(t)return typeof t=="function"?t3()?WA(t,e):"ease-out":UA(t)?rd(t):Array.isArray(t)?t.map(n=>n3(n,e)||cE.easeOut):cE[t]}function Gj(t,e,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const y={[e]:n};h&&(y.offset=h);const v=n3(u,i);Array.isArray(v)&&(y.easing=v);const b={delay:s,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(y,b)}function s3(t){return typeof t=="function"&&"applyToOptions"in t}function Kj({type:t,...e}){return s3(t)&&t3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yj extends Ux{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,Cx(typeof e.type!="string");const m=Kj(e);this.animation=Gj(n,s,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=Lx(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(y):zj(n,s,y),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Hr(Number(e))}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Hj()?(this.animation.timeline=e,Ys):n(this)}}const r3={anticipate:kA,backInOut:OA,circInOut:VA};function Wj(t){return t in r3}function Xj(t){typeof t.ease=="string"&&Wj(t.ease)&&(t.ease=r3[t.ease])}const uE=10;class Qj extends Yj{constructor(e){Xj(e),QA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new ZA({...c,autoplay:!1}),h=zr(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-uE).value,u.sample(h).value,uE),u.stop()}}const dE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ua.test(t)||t==="0")&&!t.startsWith("url("));function Zj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Jj(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=dE(i,e),u=dE(o,e);return!c||!u?!1:Zj(t)||(n==="spring"||s3(n))&&s}const e9=new Set(["opacity","clipPath","filter","transform"]),t9=Nx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n9(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return t9()&&n&&e9.has(n)&&(n!=="transform"||!h)&&!u&&!s&&i!=="mirror"&&o!==0&&c!=="inertia"}const s9=40;class r9 extends Ux{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:y,...v}){var T;super(),this.stop=()=>{var N,I;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=cs.now();const b={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:c,name:h,motionValue:m,element:y,...v},_=(y==null?void 0:y.KeyframeResolver)||Fx;this.keyframeResolver=new _(u,(N,I,O)=>this.onKeyframesResolved(N,I,b,!O),h,m,y),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:y}=s;this.resolvedAt=cs.now(),Jj(e,o,c,u)||((Vi.instantAnimations||!h)&&(y==null||y(Lx(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>s9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},_=!m&&n9(b)?new Qj({...b,element:b.motionValue.owner.current}):new ZA(b);_.finished.then(()=>this.notifyFinished()).catch(Ys),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||Fj(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const i9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a9(t){const e=i9.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function i3(t,e,n=1){const[s,i]=a9(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return CA(c)?parseFloat(c):c}return Mx(i)?i3(i,e,n+1):i}function Bx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const a3=new Set(["width","height","top","left","right","bottom",...jc]),o9={test:t=>t==="auto",parse:t=>t},o3=t=>e=>e.test(t),l3=[Dc,Be,$r,_a,ZD,QD,o9],fE=t=>l3.find(o3(t));function l9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NA(t):!0}const c9=new Set(["brightness","contrast","saturate","opacity"]);function u9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ox)||[];if(!s)return t;const i=n.replace(s,"");let o=c9.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const d9=/\b([a-z-]*)\(.*?\)/gu,hv={...Ua,getAnimatableNone:t=>{const e=t.match(d9);return e?e.map(u9).join(" "):t}},hE={...Dc,transform:Math.round},f9={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:tm,scaleX:tm,scaleY:tm,scaleZ:tm,skew:_a,skewX:_a,skewY:_a,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Md,originX:Z_,originY:Z_,originZ:Be},zx={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...f9,zIndex:hE,fillOpacity:Md,strokeOpacity:Md,numOctaves:hE},h9={...zx,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:hv,WebkitFilter:hv},c3=t=>h9[t];function u3(t,e){let n=c3(t);return n!==hv&&(n=Ua),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const m9=new Set(["auto","none","0"]);function p9(t,e,n){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!m9.has(o)&&Od(o).values.length&&(i=t[s]),s++}if(i&&n)for(const o of e)t[o]=u3(n,i)}class g9 extends Fx{constructor(e,n,s,i,o){super(e,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Mx(m))){const y=i3(m,n.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!a3.has(s)||e.length!==2)return;const[i,o]=e,c=fE(i),u=fE(o);if(c!==u)if(lE(c)&&lE(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||l9(e[i]))&&s.push(i);s.length&&p9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=mc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function y9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const{schedule:Hx}=FA(queueMicrotask,!1),ir={x:!1,y:!1};function d3(){return ir.x||ir.y}function v9(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function f3(t,e){const n=y9(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function mE(t){return!(t.pointerType==="touch"||d3())}function x9(t,e,n={}){const[s,i,o]=f3(t,n),c=u=>{if(!mE(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const y=v=>{mE(v)&&(m(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,i)};return s.forEach(u=>{u.addEventListener("pointerenter",c,i)}),o}const h3=(t,e)=>e?t===e?!0:h3(t,e.parentElement):!1,$x=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,b9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w9(t){return b9.has(t.tagName)||t.tabIndex!==-1}const id=new WeakSet;function pE(t){return e=>{e.key==="Enter"&&t(e)}}function v0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _9=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=pE(()=>{if(id.has(n))return;v0(n,"down");const i=pE(()=>{v0(n,"up")}),o=()=>v0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function gE(t){return $x(t)&&!d3()}function E9(t,e,n={}){const[s,i,o]=f3(t,n),c=u=>{const h=u.currentTarget;if(!gE(u)||id.has(h))return;id.add(h);const m=e(h,u),y=(_,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!gE(_)||!id.has(h))&&(id.delete(h),typeof m=="function"&&m(_,{success:T}))},v=_=>{y(_,h===window||h===document||n.useGlobalTarget||h3(h,_.target))},b=_=>{y(_,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",b,i)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),u instanceof HTMLElement&&(u.addEventListener("focus",m=>_9(m,i)),!w9(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}const yE=30,T9=t=>!isNaN(parseFloat(t));class S9{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var c,u;const o=cs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rx);const s=this.events[e].add(n);return e==="change"?()=>{s(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yE);return RA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kd(t,e){return new S9(t,e)}const A9=[...l3,Pn,Ua],C9=t=>A9.find(o3(t)),m3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,p3=E.createContext({strict:!1}),vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pc={};for(const t in vE)pc[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function N9(t){for(const e in t)pc[e]={...pc[e],...t[e]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R9.has(t)}let g3=t=>!Bm(t);function I9(t){t&&(g3=e=>e.startsWith("on")?!Bm(e):t(e))}try{I9(require("@emotion/is-prop-valid").default)}catch{}function D9(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(g3(i)||n===!0&&Bm(i)||!e&&!Bm(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function j9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Cp=E.createContext({});function Np(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pd(t){return typeof t=="string"||Array.isArray(t)}const qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gx=["initial",...qx];function Rp(t){return Np(t.animate)||Gx.some(e=>Pd(t[e]))}function y3(t){return!!(Rp(t)||t.variants)}function M9(t,e){if(Rp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Pd(n)?n:void 0,animate:Pd(s)?s:void 0}}return t.inherit!==!1?e:{}}function O9(t){const{initial:e,animate:n}=M9(t,E.useContext(Cp));return E.useMemo(()=>({initial:e,animate:n}),[xE(e),xE(n)])}function xE(t){return Array.isArray(t)?t.join(" "):t}const k9=Symbol.for("motionComponentSymbol");function Jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P9(t,e,n){return E.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Jl(n)&&(n.current=s))},[e])}const Kx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V9="framerAppearId",v3="data-"+Kx(V9),x3=E.createContext({});function L9(t,e,n,s,i){var N,I;const{visualElement:o}=E.useContext(Cp),c=E.useContext(p3),u=E.useContext(Ap),h=E.useContext(Ex).reducedMotion,m=E.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const y=m.current,v=E.useContext(x3);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&U9(m.current,n,i,v);const b=E.useRef(!1);E.useInsertionEffect(()=>{y&&b.current&&y.update(n,u)});const _=n[v3],T=E.useRef(!!_&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,_))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,_)));return SA(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Hx.render(y.render),T.current&&y.animationState&&y.animationState.animateChanges())}),E.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,_)}),T.current=!1))}),y}function U9(t,e,n,s){const{layoutId:i,layout:o,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b3(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||u&&Jl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:h,layoutRoot:m})}function b3(t){if(t)return t.options.allowProjection!==!1?t.projection:b3(t.parent)}function F9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){t&&N9(t);function o(u,h){let m;const y={...E.useContext(Ex),...u,layoutId:B9(u)},{isStatic:v}=y,b=O9(u),_=s(u,v);if(!v&&_x){z9();const T=H9(y);m=T.MeasureLayout,b.visualElement=L9(i,_,y,e,T.ProjectionNode)}return f.jsxs(Cp.Provider,{value:b,children:[m&&b.visualElement?f.jsx(m,{visualElement:b.visualElement,...y}):null,n(i,u,P9(_,b.visualElement,h),_,v,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=E.forwardRef(o);return c[k9]=i,c}function B9({layoutId:t}){const e=E.useContext(bx).id;return e&&t!==void 0?e+"-"+t:t}function z9(t,e){E.useContext(p3).strict}function H9(t){const{drag:e,layout:n}=pc;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Vd={};function $9(t){for(const e in t)Vd[e]=t[e],jx(e)&&(Vd[e].isCSSVariable=!0)}function w3(t,{layout:e,layoutId:n}){return Mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vd[t]||t==="opacity")}const zn=t=>!!(t&&t.getVelocity),q9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G9=jc.length;function K9(t,e,n){let s="",i=!0;for(let o=0;o<G9;o++){const c=jc[o],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=m3(u,zx[c]);if(!h){i=!1;const y=q9[c]||c;s+=`${y}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function Yx(t,e,n){const{style:s,vars:i,transformOrigin:o}=t;let c=!1,u=!1;for(const h in e){const m=e[h];if(Mc.has(h)){c=!0;continue}else if(jx(h)){i[h]=m;continue}else{const y=m3(m,zx[h]);h.startsWith("origin")?(u=!0,o[h]=y):s[h]=y}}if(e.transform||(c||n?s.transform=K9(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:y=0}=o;s.transformOrigin=`${h} ${m} ${y}`}}const Wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _3(t,e,n){for(const s in e)!zn(e[s])&&!w3(s,n)&&(t[s]=e[s])}function Y9({transformTemplate:t},e){return E.useMemo(()=>{const n=Wx();return Yx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function W9(t,e){const n=t.style||{},s={};return _3(s,n,t),Object.assign(s,Y9(t,e)),s}function X9(t,e){const n={},s=W9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Q9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xx(t){return typeof t!="string"||t.includes("-")?!1:!!(Q9.indexOf(t)>-1||/[A-Z]/u.test(t))}const Z9={offset:"stroke-dashoffset",array:"stroke-dasharray"},J9={offset:"strokeDashoffset",array:"strokeDasharray"};function eM(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?Z9:J9;t[o.offset]=Be.transform(-s);const c=Be.transform(e),u=Be.transform(n);t[o.array]=`${c} ${u}`}function E3(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},h,m){if(Yx(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox="fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),i!==void 0&&eM(y,i,o,c,!1)}const T3=()=>({...Wx(),attrs:{}}),S3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tM(t,e,n,s){const i=E.useMemo(()=>{const o=T3();return E3(o,e,S3(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};_3(o,t.style,t),i.style={...o,...i.style}}return i}function nM(t=!1){return(n,s,i,{latestValues:o},c)=>{const h=(Xx(n)?tM:X9)(s,o,c,n),m=D9(s,typeof n=="string",t),y=n!==E.Fragment?{...m,...h,ref:i}:{},{children:v}=s,b=E.useMemo(()=>zn(v)?v.get():v,[v]);return E.createElement(n,{...y,children:b})}}function bE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Qx(t,e,n,s){if(typeof e=="function"){const[i,o]=bE(s);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=bE(s);e=e(n!==void 0?n:t.custom,i,o)}return e}function wm(t){return zn(t)?t.get():t}function sM({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:rM(n,s,i,t),renderState:e()}}const A3=t=>(e,n)=>{const s=E.useContext(Cp),i=E.useContext(Ap),o=()=>sM(t,e,s,i);return n?o():wx(o)};function rM(t,e,n,s){const i={},o=s(t,{});for(const b in o)i[b]=wm(o[b]);let{initial:c,animate:u}=t;const h=Rp(t),m=y3(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?u:c;if(v&&typeof v!="boolean"&&!Np(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const T=Qx(t,b[_]);if(T){const{transitionEnd:N,transition:I,...O}=T;for(const P in O){let R=O[P];if(Array.isArray(R)){const $=y?R.length-1:0;R=R[$]}R!==null&&(i[P]=R)}for(const P in N)i[P]=N[P]}}}return i}function Zx(t,e,n){var o;const{style:s}=t,i={};for(const c in s)(zn(s[c])||e.style&&zn(e.style[c])||w3(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(i[c]=s[c]);return i}const iM={useVisualState:A3({scrapeMotionValuesFromProps:Zx,createRenderState:Wx})};function C3(t,e,n){const s=Zx(t,e,n);for(const i in t)if(zn(t[i])||zn(e[i])){const o=jc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const aM={useVisualState:A3({scrapeMotionValuesFromProps:C3,createRenderState:T3})};function oM(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Xx(s)?aM:iM,preloadedFeatures:t,useRender:nM(i),createVisualElement:e,Component:s};return F9(c)}}function Ld(t,e,n){const s=t.getProps();return Qx(s,e,n!==void 0?n:s.custom,t)}const mv=t=>Array.isArray(t);function lM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kd(n))}function cM(t){return mv(t)?t[t.length-1]||0:t}function uM(t,e){const n=Ld(t,e);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const c in o){const u=cM(o[c]);lM(t,c,u)}}function dM(t){return!!(zn(t)&&t.add)}function pv(t,e){const n=t.getValue("willChange");if(dM(n))return n.add(e);if(!n&&Vi.WillChange){const s=new Vi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function N3(t){return t.props[v3]}const fM=t=>t!==null;function hM(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(fM),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const mM={type:"spring",stiffness:500,damping:25,restSpeed:10},pM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gM={type:"keyframes",duration:.8},yM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vM=(t,{keyframes:e})=>e.length>2?gM:Mc.has(t)?t.startsWith("scale")?pM(e[1]):mM:yM;function xM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:u,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const Jx=(t,e,n,s={},i,o)=>c=>{const u=Bx(s,t)||{},h=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-zr(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};xM(u)||Object.assign(y,vM(t,y)),y.duration&&(y.duration=zr(y.duration)),y.repeatDelay&&(y.repeatDelay=zr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),(Vi.instantAnimations||Vi.skipAnimations)&&(v=!0,y.duration=0,y.delay=0),y.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const b=hM(y.keyframes,u);if(b!==void 0){Pt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return new r9(y)};function bM({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function R3(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(o=s);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const y in u){const v=t.getValue(y,t.latestValues[y]??null),b=u[y];if(b===void 0||m&&bM(m,y))continue;const _={delay:n,...Bx(o||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===T&&!_.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const O=N3(t);if(O){const P=window.MotionHandoffAnimation(O,y,Pt);P!==null&&(_.startTime=P,N=!0)}}pv(t,y),v.start(Jx(y,v,b,t.shouldReduceMotion&&a3.has(y)?{type:!1}:_,t,N));const I=v.animation;I&&h.push(I)}return c&&Promise.all(h).then(()=>{Pt.update(()=>{c&&uM(t,c)})}),h}function gv(t,e,n={}){var h;const s=Ld(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(R3(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=i;return wM(t,e,y+m,v,b,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[m,y]=u==="beforeChildren"?[o,c]:[c,o];return m().then(()=>y())}else return Promise.all([o(),c(n.delay)])}function wM(t,e,n=0,s=0,i=1,o){const c=[],u=(t.variantChildren.size-1)*s,h=i===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(_M).forEach((m,y)=>{m.notify("AnimationStart",e),c.push(gv(m,e,{...o,delay:n+h(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function _M(t,e){return t.sortNodePosition(e)}function EM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(o=>gv(t,o,n));s=Promise.all(i)}else if(typeof e=="string")s=gv(t,e,n);else{const i=typeof e=="function"?Ld(t,e,n.custom):e;s=Promise.all(R3(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function I3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const TM=Gx.length;function D3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?D3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TM;n++){const s=Gx[n],i=t.props[s];(Pd(i)||i===!1)&&(e[s]=i)}return e}const SM=[...qx].reverse(),AM=qx.length;function CM(t){return e=>Promise.all(e.map(({animation:n,options:s})=>EM(t,n,s)))}function NM(t){let e=CM(t),n=wE(),s=!0;const i=h=>(m,y)=>{var b;const v=Ld(t,y,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:_,transitionEnd:T,...N}=v;m={...m,...N,...T}}return m};function o(h){e=h(t)}function c(h){const{props:m}=t,y=D3(t.parent)||{},v=[],b=new Set;let _={},T=1/0;for(let I=0;I<AM;I++){const O=SM[I],P=n[O],R=m[O]!==void 0?m[O]:y[O],$=Pd(R),B=O===h?P.isActive:null;B===!1&&(T=I);let q=R===y[O]&&R!==m[O]&&$;if(q&&s&&t.manuallyAnimateOnMount&&(q=!1),P.protectedKeys={..._},!P.isActive&&B===null||!R&&!P.prevProp||Np(R)||typeof R=="boolean")continue;const D=RM(P.prevProp,R);let C=D||O===h&&P.isActive&&!q&&$||I>T&&$,M=!1;const V=Array.isArray(R)?R:[R];let U=V.reduce(i(O),{});B===!1&&(U={});const{prevResolvedValues:F={}}=P,L={...F,...U},xe=Z=>{C=!0,b.has(Z)&&(M=!0,b.delete(Z)),P.needsAnimating[Z]=!0;const se=t.getValue(Z);se&&(se.liveStyle=!1)};for(const Z in L){const se=U[Z],we=F[Z];if(_.hasOwnProperty(Z))continue;let z=!1;mv(se)&&mv(we)?z=!I3(se,we):z=se!==we,z?se!=null?xe(Z):b.add(Z):se!==void 0&&b.has(Z)?xe(Z):P.protectedKeys[Z]=!0}P.prevProp=R,P.prevResolvedValues=U,P.isActive&&(_={..._,...U}),s&&t.blockInitialAnimation&&(C=!1),C&&(!(q&&D)||M)&&v.push(...V.map(Z=>({animation:Z,options:{type:O}})))}if(b.size){const I={};if(typeof m.initial!="boolean"){const O=Ld(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(I.transition=O.transition)}b.forEach(O=>{const P=t.getBaseTarget(O),R=t.getValue(O);R&&(R.liveStyle=!0),I[O]=P??null}),v.push({animation:I})}let N=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(v):Promise.resolve()}function u(h,m){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var _;return(_=b.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const y=c(h);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=wE(),s=!0}}}function RM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!I3(e,t):!1}function Io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class Ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IM extends Ya{constructor(e){super(e),e.animationState||(e.animationState=NM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Np(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let DM=0;class jM extends Ya{constructor(){super(...arguments),this.id=DM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MM={animation:{Feature:IM},exit:{Feature:jM}};function Ud(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function cf(t){return{point:{x:t.pageX,y:t.pageY}}}const OM=t=>e=>$x(e)&&t(e,cf(e));function gd(t,e,n,s){return Ud(t,e,OM(n),s)}function j3({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function kM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const M3=1e-4,VM=1-M3,LM=1+M3,O3=.01,UM=0-O3,FM=0+O3;function Zn(t){return t.max-t.min}function BM(t,e,n){return Math.abs(t-e)<=n}function _E(t,e,n,s=.5){t.origin=s,t.originPoint=kt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VM&&t.scale<=LM||isNaN(t.scale))&&(t.scale=1),(t.translate>=UM&&t.translate<=FM||isNaN(t.translate))&&(t.translate=0)}function yd(t,e,n,s){_E(t.x,e.x,n.x,s?s.originX:void 0),_E(t.y,e.y,n.y,s?s.originY:void 0)}function EE(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function zM(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}function TE(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function vd(t,e,n){TE(t.x,e.x,n.x),TE(t.y,e.y,n.y)}const SE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:SE(),y:SE()}),AE=()=>({min:0,max:0}),qt=()=>({x:AE(),y:AE()});function $s(t){return[t("x"),t("y")]}function x0(t){return t===void 0||t===1}function yv({scale:t,scaleX:e,scaleY:n}){return!x0(t)||!x0(e)||!x0(n)}function jo(t){return yv(t)||k3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function k3(t){return CE(t.x)||CE(t.y)}function CE(t){return t&&t!=="0%"}function zm(t,e,n){const s=t-n,i=e*s;return n+i}function NE(t,e,n,s,i){return i!==void 0&&(t=zm(t,i,s)),zm(t,n,s)+e}function vv(t,e=0,n=1,s,i){t.min=NE(t.min,e,n,s,i),t.max=NE(t.max,e,n,s,i)}function P3(t,{x:e,y:n}){vv(t.x,e.translate,e.scale,e.originPoint),vv(t.y,n.translate,n.scale,n.originPoint)}const RE=.999999999999,IE=1.0000000000001;function HM(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let u=0;u<i;u++){o=n[u],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&nc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,P3(t,c)),s&&jo(o.latestValues)&&nc(t,o.latestValues))}e.x<IE&&e.x>RE&&(e.x=1),e.y<IE&&e.y>RE&&(e.y=1)}function tc(t,e){t.min=t.min+e,t.max=t.max+e}function DE(t,e,n,s,i=.5){const o=kt(t.min,t.max,i);vv(t,e,n,o,s)}function nc(t,e){DE(t.x,e.x,e.scaleX,e.scale,e.originX),DE(t.y,e.y,e.scaleY,e.scale,e.originY)}function V3(t,e){return j3(PM(t.getBoundingClientRect(),e))}function $M(t,e,n){const s=V3(t,n),{scroll:i}=e;return i&&(tc(s.x,i.offset.x),tc(s.y,i.offset.y)),s}const L3=({current:t})=>t?t.ownerDocument.defaultView:null,jE=(t,e)=>Math.abs(t-e);function qM(t,e){const n=jE(t.x,e.x),s=jE(t.y,e.y);return Math.sqrt(n**2+s**2)}class U3{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=w0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=qM(v.offset,{x:0,y:0})>=3;if(!b&&!_)return;const{point:T}=v,{timestamp:N}=An;this.history.push({...T,timestamp:N});const{onStart:I,onMove:O}=this.handlers;b||(I&&I(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=b0(b,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=w0(v.type==="pointercancel"?this.lastMoveEventInfo:b0(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,I),T&&T(v,I)},!$x(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const c=cf(e),u=b0(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=An;this.history=[{...h,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,w0(u,this.history)),this.removeListeners=af(gd(this.contextWindow,"pointermove",this.handlePointerMove),gd(this.contextWindow,"pointerup",this.handlePointerUp),gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),La(this.updatePoint)}}function b0(t,e){return e?{point:e(t.point)}:t}function ME(t,e){return{x:t.x-e.x,y:t.y-e.y}}function w0({point:t},e){return{point:t,delta:ME(t,F3(e)),offset:ME(t,GM(e)),velocity:KM(e,.1)}}function GM(t){return t[0]}function F3(t){return t[t.length-1]}function KM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=F3(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>zr(e)));)n--;if(!s)return{x:0,y:0};const o=Hr(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function YM(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?kt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?kt(n,t,s.max):Math.min(t,n)),t}function OE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WM(t,{top:e,left:n,bottom:s,right:i}){return{x:OE(t.x,n,i),y:OE(t.y,e,s)}}function kE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function XM(t,e){return{x:kE(t.x,e.x),y:kE(t.y,e.y)}}function QM(t,e){let n=.5;const s=Zn(t),i=Zn(e);return i>s?n=jd(e.min,e.max-s,t.min):s>i&&(n=jd(t.min,t.max-i,e.min)),Pi(0,1,n)}function ZM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xv=.35;function JM(t=xv){return t===!1?t=0:t===!0&&(t=xv),{x:PE(t,"left","right"),y:PE(t,"top","bottom")}}function PE(t,e,n){return{min:VE(t,e),max:VE(t,n)}}function VE(t,e){return typeof t=="number"?t:t[e]||0}const eO=new WeakMap;class tO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cf(y).point)},o=(y,v)=>{const{drag:b,dragPropagation:_,onDragStart:T}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v9(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$s(I=>{let O=this.getAxisMotionValue(I).get()||0;if($r.test(O)){const{projection:P}=this.visualElement;if(P&&P.layout){const R=P.layout.layoutBox[I];R&&(O=Zn(R)*(parseFloat(O)/100))}}this.originPoint[I]=O}),T&&Pt.postRender(()=>T(y,v)),pv(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(y,v)=>{const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:T,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:I}=v;if(_&&this.currentDirection===null){this.currentDirection=nO(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),N&&N(y,v)},u=(y,v)=>this.stop(y,v),h=()=>$s(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new U3(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:L3(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Pt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!nm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=YM(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Jl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WM(s.layoutBox,e):this.constraints=!1,this.elastic=JM(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$s(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZM(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jl(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=$M(s,i.root,this.visualElement.getTransformPagePoint());let c=XM(i.layout.layoutBox,o);if(n){const u=n(kM(c));this.hasMutatedConstraints=!!u,u&&(c=j3(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=$s(y=>{if(!nm(y,n,this.currentDirection))return;let v=h&&h[y]||{};c&&(v={min:0,max:0});const b=i?200:1e6,_=i?40:1e7,T={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return pv(this.visualElement,e),s.start(Jx(e,s,0,n,this.visualElement,!1))}stopAnimation(){$s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$s(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$s(n=>{const{drag:s}=this.getProps();if(!nm(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];o.set(e[n]-kt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Jl(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$s(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();i[c]=QM({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$s(c=>{if(!nm(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(kt(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;eO.set(this.visualElement,this);const e=this.visualElement.current,n=gd(e,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Jl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pt.read(s);const c=Ud(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&($s(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=xv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function nm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sO extends Ya{constructor(e){super(e),this.removeGroupControls=Ys,this.removeListeners=Ys,this.controls=new tO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const LE=t=>(e,n)=>{t&&Pt.postRender(()=>t(e,n))};class rO extends Ya{constructor(){super(...arguments),this.removePointerDownListener=Ys}onPointerDown(e){this.session=new U3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:LE(e),onStart:LE(n),onMove:s,onEnd:(o,c)=>{delete this.session,i&&Pt.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=gd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=UE(t,e.target.x),s=UE(t,e.target.y);return`${n}% ${s}%`}},iO={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Ua.parse(t);if(i.length>5)return s;const o=Ua.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=h;const m=kt(u,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class aO extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=e;$9(oO),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_m.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,c=s.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Pt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B3(t){const[e,n]=AA(),s=E.useContext(bx);return f.jsx(aO,{...t,layoutGroup:s,switchLayoutGroup:E.useContext(x3),isPresent:e,safeToRemove:n})}const oO={borderRadius:{...Zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:iO};function lO(t,e,n){const s=zn(t)?t:kd(t);return s.start(Jx("",s,e,n)),s.animation}function cO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const uO=(t,e)=>t.depth-e.depth;class dO{constructor(){this.children=[],this.isDirty=!1}add(e){Sx(this.children,e),this.isDirty=!0}remove(e){Ax(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uO),this.isDirty=!1,this.children.forEach(e)}}function fO(t,e){const n=cs.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(La(s),t(o-e))};return Pt.setup(s,!0),()=>La(s)}const z3=["TopLeft","TopRight","BottomLeft","BottomRight"],hO=z3.length,FE=t=>typeof t=="string"?parseFloat(t):t,BE=t=>typeof t=="number"||Be.test(t);function mO(t,e,n,s,i,o){i?(t.opacity=kt(0,n.opacity??1,pO(s)),t.opacityExit=kt(e.opacity??1,0,gO(s))):o&&(t.opacity=kt(e.opacity??1,n.opacity??1,s));for(let c=0;c<hO;c++){const u=`border${z3[c]}Radius`;let h=zE(e,u),m=zE(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||BE(h)===BE(m)?(t[u]=Math.max(kt(FE(h),FE(m),s),0),($r.test(m)||$r.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,s))}function zE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pO=H3(0,.5,PA),gO=H3(.5,.95,Ys);function H3(t,e,n){return s=>s<t?0:s>e?1:n(jd(t,e,s))}function HE(t,e){t.min=e.min,t.max=e.max}function zs(t,e){HE(t.x,e.x),HE(t.y,e.y)}function $E(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qE(t,e,n,s,i){return t-=e,t=zm(t,1/n,s),i!==void 0&&(t=zm(t,1/i,s)),t}function yO(t,e=0,n=1,s=.5,i,o=t,c=t){if($r.test(e)&&(e=parseFloat(e),e=kt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=kt(o.min,o.max,s);t===o&&(u-=e),t.min=qE(t.min,e,n,u,i),t.max=qE(t.max,e,n,u,i)}function GE(t,e,[n,s,i],o,c){yO(t,e[n],e[s],e[i],e.scale,o,c)}const vO=["x","scaleX","originX"],xO=["y","scaleY","originY"];function KE(t,e,n,s){GE(t.x,e,vO,n?n.x:void 0,s?s.x:void 0),GE(t.y,e,xO,n?n.y:void 0,s?s.y:void 0)}function YE(t){return t.translate===0&&t.scale===1}function $3(t){return YE(t.x)&&YE(t.y)}function WE(t,e){return t.min===e.min&&t.max===e.max}function bO(t,e){return WE(t.x,e.x)&&WE(t.y,e.y)}function XE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function q3(t,e){return XE(t.x,e.x)&&XE(t.y,e.y)}function QE(t){return Zn(t.x)/Zn(t.y)}function ZE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wO{constructor(){this.members=[]}add(e){Sx(this.members,e),e.scheduleRender()}remove(e){if(Ax(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _O(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(s=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:b,skewX:_,skewY:T}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),_&&(s+=`skewX(${_}deg) `),T&&(s+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const _0=["","X","Y","Z"],EO={visibility:"hidden"},JE=1e3;let TO=0;function E0(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function G3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=N3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&G3(s)}function K3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(c={},u=e==null?void 0:e()){this.id=TO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CO),this.nodes.forEach(jO),this.nodes.forEach(MO),this.nodes.forEach(NO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new dO)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Rx),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||h)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=fO(b,250),_m.hasAnimatedSinceResize&&(_m.hasAnimatedSinceResize=!1,this.nodes.forEach(t4))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||y.getDefaultTransition()||LO,{onLayoutAnimationStart:I,onLayoutAnimationComplete:O}=y.getProps(),P=!this.targetLayout||!q3(this.targetLayout,T),R=!b&&_;if(this.options.layoutRoot||this.resumeFrom||R||b&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,R);const $={...Bx(N,"layout"),onPlay:I,onComplete:O};(y.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else b||t4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,La(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e4);return}this.isUpdating||this.nodes.forEach(IO),this.isUpdating=!1,this.nodes.forEach(DO),this.nodes.forEach(SO),this.nodes.forEach(AO),this.clearAllSnapshots();const u=cs.now();An.delta=Pi(0,1e3/60,u-An.timestamp),An.timestamp=u,An.isProcessing=!0,m0.update.process(An),m0.preRender.process(An),m0.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RO),this.sharedNodes.forEach(kO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zn(this.snapshot.measuredBox.x)&&!Zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!$3(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(u||jo(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),UO(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return qt();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(FO))){const{scroll:y}=this.root;y&&(tc(u.x,y.offset.x),tc(u.y,y.offset.y))}return u}removeElementScroll(c){var h;const u=qt();if(zs(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&zs(u,c),tc(u.x,v.offset.x),tc(u.y,v.offset.y))}return u}applyTransform(c,u=!1){const h=qt();zs(h,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&nc(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),jo(y.latestValues)&&nc(h,y.latestValues)}return jo(this.latestValues)&&nc(h,this.latestValues),h}removeTransform(c){const u=qt();zs(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!jo(m.latestValues))continue;yv(m.latestValues)&&m.updateSnapshot();const y=qt(),v=m.measurePageBox();zs(y,v),KE(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return jo(this.latestValues)&&KE(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),vd(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zs(this.target,this.layout.layoutBox),P3(this.target,this.targetDelta)):zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),vd(this.relativeTargetOrigin,this.target,_.target),zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yv(this.parent.latestValues)||k3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===An.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;zs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;HM(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=qt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($E(this.prevProjectionDelta.x,this.projectionDelta.x),$E(this.prevProjectionDelta.y,this.projectionDelta.y)),yd(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!ZE(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},v=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=qt(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,N=_!==T,I=this.getStack(),O=!I||I.members.length<=1,P=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(VO));this.animationProgress=0;let R;this.mixTargetDelta=$=>{const B=$/1e3;n4(v.x,c.x,B),n4(v.y,c.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PO(this.relativeTarget,this.relativeTargetOrigin,b,B),R&&bO(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=qt()),zs(R,this.relativeTarget)),N&&(this.animationValues=y,mO(y,m,this.latestValues,B,P,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(La(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{_m.hasAnimatedSinceResize=!0,this.currentAnimation=lO(0,JE,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:y}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&Y3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||qt();const v=Zn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=Zn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}zs(u,h),nc(u,y),yd(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new wO),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&E0("z",c,m,this.animationValues);for(let y=0;y<_0.length;y++)E0(`rotate${_0[y]}`,c,m,this.animationValues),E0(`skew${_0[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return EO;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wm(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=wm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=_O(this.projectionDeltaWithTransform,this.treeScale,y),h&&(u.transform=h(y,u.transform));const{x:v,y:b}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Vd){if(y[_]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:I}=Vd[_],O=u.transform==="none"?y[_]:T(y[_],m);if(N){const P=N.length;for(let R=0;R<P;R++)u[N[R]]=O}else I?this.options.visualElement.renderState.vars[_]=O:u[_]=O}return this.options.layoutId&&(u.pointerEvents=m===this?wm(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(e4),this.root.sharedNodes.clear()}}}function SO(t){t.updateLayout()}function AO(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?$s(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],_=Zn(b);b.min=s[v].min,b.max=b.min+_}):Y3(o,e.layoutBox,s)&&$s(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],_=Zn(s[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const u=ec();yd(u,s,e.layoutBox);const h=ec();c?yd(h,t.applyTransform(i,!0),e.measuredBox):yd(h,s,e.layoutBox);const m=!$3(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const T=qt();vd(T,e.layoutBox,b.layoutBox);const N=qt();vd(N,s,_.layoutBox),q3(T,N)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function CO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function NO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RO(t){t.clearSnapshot()}function e4(t){t.clearMeasurements()}function IO(t){t.isLayoutDirty=!1}function DO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function t4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jO(t){t.resolveTargetDelta()}function MO(t){t.calcProjection()}function OO(t){t.resetSkewAndRotation()}function kO(t){t.removeLeadSnapshot()}function n4(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s4(t,e,n,s){t.min=kt(e.min,n.min,s),t.max=kt(e.max,n.max,s)}function PO(t,e,n,s){s4(t.x,e.x,n.x,s),s4(t.y,e.y,n.y,s)}function VO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LO={duration:.45,ease:[.4,0,.1,1]},r4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),i4=r4("applewebkit/")&&!r4("chrome/")?Math.round:Ys;function a4(t){t.min=i4(t.min),t.max=i4(t.max)}function UO(t){a4(t.x),a4(t.y)}function Y3(t,e,n){return t==="position"||t==="preserve-aspect"&&!BM(QE(e),QE(n),.2)}function FO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const BO=K3({attachResizeListener:(t,e)=>Ud(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T0={current:void 0},W3=K3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T0.current){const t=new BO({});t.mount(window),t.setOptions({layoutScroll:!0}),T0.current=t}return T0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zO={pan:{Feature:rO},drag:{Feature:sO,ProjectionNode:W3,MeasureLayout:B3}};function o4(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&Pt.postRender(()=>o(e,cf(e)))}class HO extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=x9(e,(n,s)=>(o4(this.node,s,"Start"),i=>o4(this.node,i,"End"))))}unmount(){}}class $O extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=af(Ud(this.node.current,"focus",()=>this.onFocus()),Ud(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l4(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&Pt.postRender(()=>o(e,cf(e)))}class qO extends Ya{mount(){const{current:e}=this.node;e&&(this.unmount=E9(e,(n,s)=>(l4(this.node,s,"Start"),(i,{success:o})=>l4(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bv=new WeakMap,S0=new WeakMap,GO=t=>{const e=bv.get(t.target);e&&e(t)},KO=t=>{t.forEach(GO)};function YO({root:t,...e}){const n=t||document;S0.has(n)||S0.set(n,{});const s=S0.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(KO,{root:t,...e})),s[i]}function WO(t,e,n){const s=YO(e);return bv.set(t,n),s.observe(t),()=>{bv.delete(t),s.unobserve(t)}}const XO={some:0,all:1};class QO extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:XO[i]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=m?y:v;b&&b(h)};return WO(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZO(e,n))&&this.startObserver()}unmount(){}}function ZO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JO={inView:{Feature:QO},tap:{Feature:qO},focus:{Feature:$O},hover:{Feature:HO}},ek={layout:{ProjectionNode:W3,MeasureLayout:B3}},wv={current:null},X3={current:!1};function tk(){if(X3.current=!0,!!_x)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wv.current=t.matches;t.addListener(e),e()}else wv.current=!1}const nk=new WeakMap;function sk(t,e,n){for(const s in e){const i=e[s],o=n[s];if(zn(i))t.addValue(s,i);else if(zn(o))t.addValue(s,kd(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(s);t.addValue(s,kd(c!==void 0?c:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const c4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rk{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=cs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Pt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Rp(n),this.isVariantNode=y3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const _=v[b];h[b]!==void 0&&zn(_)&&_.set(h[b],!1)}}mount(e){this.current=e,nk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),X3.current||tk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),La(this.notifyUpdate),La(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Mc.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pc){const n=pc[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<c4.length;s++){const i=c4[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=sk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=kd(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(CA(s)||NA(s))?s=parseFloat(s):!C9(s)&&Ua.test(n)&&(s=u3(e,n)),this.setBaseTarget(e,zn(s)?s.get():s)),zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Qx(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Q3 extends rk{constructor(){super(...arguments),this.KeyframeResolver=g9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Z3(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}function ik(t){return window.getComputedStyle(t)}class ak extends Q3{constructor(){super(...arguments),this.type="html",this.renderInstance=Z3}readValueFromInstance(e,n){if(Mc.has(n))return kj(e,n);{const s=ik(e),i=(jx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return V3(e,n)}build(e,n,s){Yx(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Zx(e,n,s)}}const J3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ok(t,e,n,s){Z3(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(J3.has(i)?i:Kx(i),e.attrs[i])}class lk extends Q3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mc.has(n)){const s=c3(n);return s&&s.default||0}return n=J3.has(n)?n:Kx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return C3(e,n,s)}build(e,n,s){E3(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,i){ok(e,n,s,i)}mount(e){this.isSVGTag=S3(e.tagName),super.mount(e)}}const ck=(t,e)=>Xx(t)?new lk(e):new ak(e,{allowProjection:t!==E.Fragment}),uk=oM({...MM,...JO,...zO,...ek},ck),ct=j9(uk);var e6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u4=Pe.createContext&&Pe.createContext(e6),dk=["attr","size","title"];function fk(t,e){if(t==null)return{};var n=hk(t,e),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function hk(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hm.apply(this,arguments)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function $m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(s){mk(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function mk(t,e,n){return e=pk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pk(t){var e=gk(t,"string");return typeof e=="symbol"?e:e+""}function gk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t6(t){return t&&t.map((e,n)=>Pe.createElement(e.tag,$m({key:n},e.attr),t6(e.child)))}function Ae(t){return e=>Pe.createElement(yk,Hm({attr:$m({},t.attr)},e),t6(t.child))}function yk(t){var e=n=>{var{attr:s,size:i,title:o}=t,c=fk(t,dk),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Pe.createElement("svg",Hm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:$m($m({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Pe.createElement("title",null,o),t.children)};return u4!==void 0?Pe.createElement(u4.Consumer,null,n=>e(n)):e(e6)}function vk(t){return Ae({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function xk(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function e1(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function n6(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function s6(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function t1(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function r6(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function bk(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function i6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function wk(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function f4(t){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function a6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function o6(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function _k(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function l6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function qm(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Ip(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ek(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Fd(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function c6(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Oc(t){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function oc(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M288 136V0H88C74.7 0 64 10.7 64 24v232H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h140.9c3 0 5.8 1.7 7.2 4.4l19.9 39.8 56.8-113.7c2.9-5.9 11.4-5.9 14.3 0l34.7 69.5H352c8.8 0 16 7.2 16 16s-7.2 16-16 16h-89.9L240 275.8l-56.8 113.7c-2.9 5.9-11.4 5.9-14.3 0L134.1 320H64v168c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H312c-13.2 0-24-10.8-24-24zm153-31L343.1 7c-4.5-4.5-10.6-7-17-7H320v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function n1(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function gc(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(t)}function Tk(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function Sk(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Ak(t){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function Gm(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ck(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function A0(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function _v(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function s1(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function yc(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function u6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function Nk(t){return Ae({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M168 416c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 17.67 14.33 32 32 32h192c17.67 0 32-14.33 32-32v-64h-88z"},child:[]}]})(t)}function d6(t){return Ae({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},child:[]}]})(t)}function Ev(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Km(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}function f6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Lr(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Tv(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(t)}function Sv(t){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Rk(t){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function h6(t){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M372 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7C198.5 104.1 172.2 96 144 96 64.5 96 0 160.5 0 240c0 68.5 47.9 125.9 112 140.4V408H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v28c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-28h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-27.6c64.1-14.6 112-71.9 112-140.4 0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V12c0-6.6-5.4-12-12-12zM144 320c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function m6(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function xd(t){return Ae({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Ra(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(t)}function ar(t){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function p6(t){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function g6(t){return Ae({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function Ik(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(t)}function y6(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"},child:[]}]})(t)}function Dk(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function C0(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function r1(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8zm3 16H9v-2h6v2zm0-5h-2v2h-2v-2H9v-2h2V9h2v2h2v2z"},child:[]}]})(t)}function jk(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function i1(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 9c-1.1 0-2-.9-2-2s2-4 2-4 2 2.9 2 4-.9 2-2 2zm-3.5-2c0-.73.41-1.71.92-2.66A9.965 9.965 0 0 0 11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12c0-.55-.06-1.09-.14-1.62a3.5 3.5 0 0 1-.86.12c-1.93 0-3.5-1.57-3.5-3.5zm-1.88.38 1.06 1.06-1.06 1.06 1.06 1.06-1.06 1.06L13.5 9.5l2.12-2.12zm-8.3 1.06 1.06-1.06L10.5 9.5l-2.12 2.12-1.06-1.06L8.38 9.5 7.32 8.44zM15.44 17c-.69-1.19-1.97-2-3.44-2s-2.75.81-3.44 2H6.88c.3-.76.76-1.43 1.34-1.99L5.24 13.3c-.45.26-1.01.28-1.49 0a1.501 1.501 0 0 1 1.5-2.6c.48.28.74.78.74 1.29l3.58 2.07c.73-.36 1.55-.56 2.43-.56 2.33 0 4.32 1.45 5.12 3.5h-1.68z"},child:[]}]})(t)}function Mk(t){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3V13zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm6 9.09c0 4-2.55 7.7-6 8.83-3.45-1.13-6-4.82-6-8.83v-4.7l6-2.25 6 2.25v4.7z"},child:[]}]})(t)}function Ok(t){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function kk(t){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function Pk(t){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}var uf=t=>t.type==="checkbox",Vo=t=>t instanceof Date,Qn=t=>t==null;const v6=t=>typeof t=="object";var Kt=t=>!Qn(t)&&!Array.isArray(t)&&v6(t)&&!Vo(t),Vk=t=>Kt(t)&&t.target?uf(t.target)?t.target.checked:t.target.value:t,Lk=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Uk=(t,e)=>t.has(Lk(e)),Fk=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},a1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(a1&&(t instanceof Blob||s))&&(n||Kt(t)))if(e=n?[]:{},!n&&!Fk(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=kn(t[i]));else return t;return e}var Dp=t=>Array.isArray(t)?t.filter(Boolean):[],Jt=t=>t===void 0,Ie=(t,e,n)=>{if(!e||!Kt(t))return n;const s=Dp(e.split(/[,[\].]+?/)).reduce((i,o)=>Qn(i)?i:i[o],t);return Jt(s)||s===t?Jt(t[e])?n:t[e]:s},Pr=t=>typeof t=="boolean",o1=t=>/^\w*$/.test(t),x6=t=>Dp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Nt=(t,e,n)=>{let s=-1;const i=o1(e)?[e]:x6(e),o=i.length,c=o-1;for(;++s<o;){const u=i[s];let h=n;if(s!==c){const m=t[u];h=Kt(m)||Array.isArray(m)?m:isNaN(+i[s+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=h,t=t[u]}};const h4={BLUR:"blur",FOCUS_OUT:"focusout"},or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ni={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Pe.createContext(null);var Bk=(t,e,n,s=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const c=o;return e._proxyFormState[c]!==or.all&&(e._proxyFormState[c]=!s||or.all),t[c]}});return i};const zk=typeof window<"u"?E.useLayoutEffect:E.useEffect;var Ur=t=>typeof t=="string",Hk=(t,e,n,s,i)=>Ur(t)?(s&&e.watch.add(t),Ie(n,t,i)):Array.isArray(t)?t.map(o=>(s&&e.watch.add(o),Ie(n,o))):(s&&(e.watchAll=!0),n),$k=(t,e,n,s,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:i||!0}}:{},bd=t=>Array.isArray(t)?t:[t],m4=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Av=t=>Qn(t)||!v6(t);function Ta(t,e){if(Av(t)||Av(e))return t===e;if(Vo(t)&&Vo(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=e[i];if(Vo(o)&&Vo(c)||Kt(o)&&Kt(c)||Array.isArray(o)&&Array.isArray(c)?!Ta(o,c):o!==c)return!1}}return!0}var Xn=t=>Kt(t)&&!Object.keys(t).length,l1=t=>t.type==="file",lr=t=>typeof t=="function",Ym=t=>{if(!a1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},b6=t=>t.type==="select-multiple",c1=t=>t.type==="radio",qk=t=>c1(t)||uf(t),N0=t=>Ym(t)&&t.isConnected;function Gk(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Jt(t)?s++:t[e[s++]];return t}function Kk(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jt(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:o1(e)?[e]:x6(e),s=n.length===1?t:Gk(t,n),i=n.length-1,o=n[i];return s&&delete s[o],i!==0&&(Kt(s)&&Xn(s)||Array.isArray(s)&&Kk(s))&&on(t,n.slice(0,-1)),t}var w6=t=>{for(const e in t)if(lr(t[e]))return!0;return!1};function Wm(t,e={}){const n=Array.isArray(t);if(Kt(t)||n)for(const s in t)Array.isArray(t[s])||Kt(t[s])&&!w6(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Wm(t[s],e[s])):Qn(t[s])||(e[s]=!0);return e}function _6(t,e,n){const s=Array.isArray(t);if(Kt(t)||s)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!w6(t[i])?Jt(e)||Av(n[i])?n[i]=Array.isArray(t[i])?Wm(t[i],[]):{...Wm(t[i])}:_6(t[i],Qn(e)?{}:e[i],n[i]):n[i]=!Ta(t[i],e[i]);return n}var Ju=(t,e)=>_6(t,e,Wm(e));const p4={value:!1,isValid:!1},g4={value:!0,isValid:!0};var E6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jt(t[0].attributes.value)?Jt(t[0].value)||t[0].value===""?g4:{value:t[0].value,isValid:!0}:g4:p4}return p4},T6=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Jt(t)?t:e?t===""?NaN:t&&+t:n&&Ur(t)?new Date(t):s?s(t):t;const y4={isValid:!1,value:null};var S6=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,y4):y4;function v4(t){const e=t.ref;return l1(e)?e.files:c1(e)?S6(t.refs).value:b6(e)?[...e.selectedOptions].map(({value:n})=>n):uf(e)?E6(t.refs).value:T6(Jt(e.value)?t.ref.value:e.value,t)}var Yk=(t,e,n,s)=>{const i={};for(const o of t){const c=Ie(e,o);c&&Nt(i,o,c._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:s}},Xm=t=>t instanceof RegExp,ed=t=>Jt(t)?t:Xm(t)?t.source:Kt(t)?Xm(t.value)?t.value.source:t.value:t,x4=t=>({isOnSubmit:!t||t===or.onSubmit,isOnBlur:t===or.onBlur,isOnChange:t===or.onChange,isOnAll:t===or.all,isOnTouch:t===or.onTouched});const b4="AsyncFunction";var Wk=t=>!!t&&!!t.validate&&!!(lr(t.validate)&&t.validate.constructor.name===b4||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===b4)),Xk=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),w4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const wd=(t,e,n,s)=>{for(const i of n||Object.keys(t)){const o=Ie(t,i);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(wd(u,e))break}else if(Kt(u)&&wd(u,e))break}}};function _4(t,e,n){const s=Ie(t,n);if(s||o1(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),c=Ie(e,o),u=Ie(t,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};i.pop()}return{name:n}}var Qk=(t,e,n,s)=>{n(t);const{name:i,...o}=t;return Xn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!s||or.all))},Zk=(t,e,n)=>!t||!e||t===e||bd(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Jk=(t,e,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?s.isOnBlur:i.isOnBlur)?!t:(n?s.isOnChange:i.isOnChange)?t:!0,eP=(t,e)=>!Dp(Ie(t,e)).length&&on(t,e),tP=(t,e,n)=>{const s=bd(Ie(t,n));return Nt(s,"root",e[n]),Nt(t,n,s),t},Em=t=>Ur(t);function E4(t,e,n="validate"){if(Em(t)||Array.isArray(t)&&t.every(Em)||Pr(t)&&!t)return{type:n,message:Em(t)?t:"",ref:e}}var Gl=t=>Kt(t)&&!Xm(t)?t:{value:t,message:""},T4=async(t,e,n,s,i,o)=>{const{ref:c,refs:u,required:h,maxLength:m,minLength:y,min:v,max:b,pattern:_,validate:T,name:N,valueAsNumber:I,mount:O}=t._f,P=Ie(n,N);if(!O||e.has(N))return{};const R=u?u[0]:c,$=F=>{i&&R.reportValidity&&(R.setCustomValidity(Pr(F)?"":F||""),R.reportValidity())},B={},q=c1(c),D=uf(c),C=q||D,M=(I||l1(c))&&Jt(c.value)&&Jt(P)||Ym(c)&&c.value===""||P===""||Array.isArray(P)&&!P.length,V=$k.bind(null,N,s,B),U=(F,L,xe,pe=Ni.maxLength,Y=Ni.minLength)=>{const Z=F?L:xe;B[N]={type:F?pe:Y,message:Z,ref:c,...V(F?pe:Y,Z)}};if(o?!Array.isArray(P)||!P.length:h&&(!C&&(M||Qn(P))||Pr(P)&&!P||D&&!E6(u).isValid||q&&!S6(u).isValid)){const{value:F,message:L}=Em(h)?{value:!!h,message:h}:Gl(h);if(F&&(B[N]={type:Ni.required,message:L,ref:R,...V(Ni.required,L)},!s))return $(L),B}if(!M&&(!Qn(v)||!Qn(b))){let F,L;const xe=Gl(b),pe=Gl(v);if(!Qn(P)&&!isNaN(P)){const Y=c.valueAsNumber||P&&+P;Qn(xe.value)||(F=Y>xe.value),Qn(pe.value)||(L=Y<pe.value)}else{const Y=c.valueAsDate||new Date(P),Z=z=>new Date(new Date().toDateString()+" "+z),se=c.type=="time",we=c.type=="week";Ur(xe.value)&&P&&(F=se?Z(P)>Z(xe.value):we?P>xe.value:Y>new Date(xe.value)),Ur(pe.value)&&P&&(L=se?Z(P)<Z(pe.value):we?P<pe.value:Y<new Date(pe.value))}if((F||L)&&(U(!!F,xe.message,pe.message,Ni.max,Ni.min),!s))return $(B[N].message),B}if((m||y)&&!M&&(Ur(P)||o&&Array.isArray(P))){const F=Gl(m),L=Gl(y),xe=!Qn(F.value)&&P.length>+F.value,pe=!Qn(L.value)&&P.length<+L.value;if((xe||pe)&&(U(xe,F.message,L.message),!s))return $(B[N].message),B}if(_&&!M&&Ur(P)){const{value:F,message:L}=Gl(_);if(Xm(F)&&!P.match(F)&&(B[N]={type:Ni.pattern,message:L,ref:c,...V(Ni.pattern,L)},!s))return $(L),B}if(T){if(lr(T)){const F=await T(P,n),L=E4(F,R);if(L&&(B[N]={...L,...V(Ni.validate,L.message)},!s))return $(L.message),B}else if(Kt(T)){let F={};for(const L in T){if(!Xn(F)&&!s)break;const xe=E4(await T[L](P,n),R,L);xe&&(F={...xe,...V(L,xe.message)},$(xe.message),s&&(B[N]=F))}if(!Xn(F)&&(B[N]={ref:R,...F},!s))return B}}return $(!0),B};const nP={mode:or.onSubmit,reValidateMode:or.onChange,shouldFocusError:!0};function sP(t={}){let e={...nP,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:lr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let i=Kt(e.defaultValues)||Kt(e.values)?kn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:kn(i),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...y};const b={array:m4(),state:m4()},_=e.criteriaMode===or.all,T=G=>ee=>{clearTimeout(m),m=setTimeout(G,ee)},N=async G=>{if(!e.disabled&&(y.isValid||v.isValid||G)){const ee=e.resolver?Xn((await D()).errors):await M(s,!0);ee!==n.isValid&&b.state.next({isValid:ee})}},I=(G,ee)=>{!e.disabled&&(y.isValidating||y.validatingFields||v.isValidating||v.validatingFields)&&((G||Array.from(u.mount)).forEach(ie=>{ie&&(ee?Nt(n.validatingFields,ie,ee):on(n.validatingFields,ie))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},O=(G,ee=[],ie,_e,ge=!0,me=!0)=>{if(_e&&ie&&!e.disabled){if(c.action=!0,me&&Array.isArray(Ie(s,G))){const be=ie(Ie(s,G),_e.argA,_e.argB);ge&&Nt(s,G,be)}if(me&&Array.isArray(Ie(n.errors,G))){const be=ie(Ie(n.errors,G),_e.argA,_e.argB);ge&&Nt(n.errors,G,be),eP(n.errors,G)}if((y.touchedFields||v.touchedFields)&&me&&Array.isArray(Ie(n.touchedFields,G))){const be=ie(Ie(n.touchedFields,G),_e.argA,_e.argB);ge&&Nt(n.touchedFields,G,be)}(y.dirtyFields||v.dirtyFields)&&(n.dirtyFields=Ju(i,o)),b.state.next({name:G,isDirty:U(G,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Nt(o,G,ee)},P=(G,ee)=>{Nt(n.errors,G,ee),b.state.next({errors:n.errors})},R=G=>{n.errors=G,b.state.next({errors:n.errors,isValid:!1})},$=(G,ee,ie,_e)=>{const ge=Ie(s,G);if(ge){const me=Ie(o,G,Jt(ie)?Ie(i,G):ie);Jt(me)||_e&&_e.defaultChecked||ee?Nt(o,G,ee?me:v4(ge._f)):xe(G,me),c.mount&&N()}},B=(G,ee,ie,_e,ge)=>{let me=!1,be=!1;const Ne={name:G};if(!e.disabled){if(!ie||_e){(y.isDirty||v.isDirty)&&(be=n.isDirty,n.isDirty=Ne.isDirty=U(),me=be!==Ne.isDirty);const Ge=Ta(Ie(i,G),ee);be=!!Ie(n.dirtyFields,G),Ge?on(n.dirtyFields,G):Nt(n.dirtyFields,G,!0),Ne.dirtyFields=n.dirtyFields,me=me||(y.dirtyFields||v.dirtyFields)&&be!==!Ge}if(ie){const Ge=Ie(n.touchedFields,G);Ge||(Nt(n.touchedFields,G,ie),Ne.touchedFields=n.touchedFields,me=me||(y.touchedFields||v.touchedFields)&&Ge!==ie)}me&&ge&&b.state.next(Ne)}return me?Ne:{}},q=(G,ee,ie,_e)=>{const ge=Ie(n.errors,G),me=(y.isValid||v.isValid)&&Pr(ee)&&n.isValid!==ee;if(e.delayError&&ie?(h=T(()=>P(G,ie)),h(e.delayError)):(clearTimeout(m),h=null,ie?Nt(n.errors,G,ie):on(n.errors,G)),(ie?!Ta(ge,ie):ge)||!Xn(_e)||me){const be={..._e,...me&&Pr(ee)?{isValid:ee}:{},errors:n.errors,name:G};n={...n,...be},b.state.next(be)}},D=async G=>{I(G,!0);const ee=await e.resolver(o,e.context,Yk(G||u.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return I(G),ee},C=async G=>{const{errors:ee}=await D(G);if(G)for(const ie of G){const _e=Ie(ee,ie);_e?Nt(n.errors,ie,_e):on(n.errors,ie)}else n.errors=ee;return ee},M=async(G,ee,ie={valid:!0})=>{for(const _e in G){const ge=G[_e];if(ge){const{_f:me,...be}=ge;if(me){const Ne=u.array.has(me.name),Ge=ge._f&&Wk(ge._f);Ge&&y.validatingFields&&I([_e],!0);const ut=await T4(ge,u.disabled,o,_,e.shouldUseNativeValidation&&!ee,Ne);if(Ge&&y.validatingFields&&I([_e]),ut[me.name]&&(ie.valid=!1,ee))break;!ee&&(Ie(ut,me.name)?Ne?tP(n.errors,ut,me.name):Nt(n.errors,me.name,ut[me.name]):on(n.errors,me.name))}!Xn(be)&&await M(be,ee,ie)}}return ie.valid},V=()=>{for(const G of u.unMount){const ee=Ie(s,G);ee&&(ee._f.refs?ee._f.refs.every(ie=>!N0(ie)):!N0(ee._f.ref))&&Ee(G)}u.unMount=new Set},U=(G,ee)=>!e.disabled&&(G&&ee&&Nt(o,G,ee),!Ta(z(),i)),F=(G,ee,ie)=>Hk(G,u,{...c.mount?o:Jt(ee)?i:Ur(G)?{[G]:ee}:ee},ie,ee),L=G=>Dp(Ie(c.mount?o:i,G,e.shouldUnregister?Ie(i,G,[]):[])),xe=(G,ee,ie={})=>{const _e=Ie(s,G);let ge=ee;if(_e){const me=_e._f;me&&(!me.disabled&&Nt(o,G,T6(ee,me)),ge=Ym(me.ref)&&Qn(ee)?"":ee,b6(me.ref)?[...me.ref.options].forEach(be=>be.selected=ge.includes(be.value)):me.refs?uf(me.ref)?me.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(ge)?be.checked=!!ge.find(Ne=>Ne===be.value):be.checked=ge===be.value||!!ge)}):me.refs.forEach(be=>be.checked=be.value===ge):l1(me.ref)?me.ref.value="":(me.ref.value=ge,me.ref.type||b.state.next({name:G,values:kn(o)})))}(ie.shouldDirty||ie.shouldTouch)&&B(G,ge,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&we(G)},pe=(G,ee,ie)=>{for(const _e in ee){if(!ee.hasOwnProperty(_e))return;const ge=ee[_e],me=`${G}.${_e}`,be=Ie(s,me);(u.array.has(G)||Kt(ge)||be&&!be._f)&&!Vo(ge)?pe(me,ge,ie):xe(me,ge,ie)}},Y=(G,ee,ie={})=>{const _e=Ie(s,G),ge=u.array.has(G),me=kn(ee);Nt(o,G,me),ge?(b.array.next({name:G,values:kn(o)}),(y.isDirty||y.dirtyFields||v.isDirty||v.dirtyFields)&&ie.shouldDirty&&b.state.next({name:G,dirtyFields:Ju(i,o),isDirty:U(G,me)})):_e&&!_e._f&&!Qn(me)?pe(G,me,ie):xe(G,me,ie),w4(G,u)&&b.state.next({...n}),b.state.next({name:c.mount?G:void 0,values:kn(o)})},Z=async G=>{c.mount=!0;const ee=G.target;let ie=ee.name,_e=!0;const ge=Ie(s,ie),me=Ge=>{_e=Number.isNaN(Ge)||Vo(Ge)&&isNaN(Ge.getTime())||Ta(Ge,Ie(o,ie,Ge))},be=x4(e.mode),Ne=x4(e.reValidateMode);if(ge){let Ge,ut;const Ts=ee.type?v4(ge._f):Vk(G),qn=G.type===h4.BLUR||G.type===h4.FOCUS_OUT,Ss=!Xk(ge._f)&&!e.resolver&&!Ie(n.errors,ie)&&!ge._f.deps||Jk(qn,Ie(n.touchedFields,ie),n.isSubmitted,Ne,be),ns=w4(ie,u,qn);Nt(o,ie,Ts),qn?(ge._f.onBlur&&ge._f.onBlur(G),h&&h(0)):ge._f.onChange&&ge._f.onChange(G);const ss=B(ie,Ts,qn),Dn=!Xn(ss)||ns;if(!qn&&b.state.next({name:ie,type:G.type,values:kn(o)}),Ss)return(y.isValid||v.isValid)&&(e.mode==="onBlur"?qn&&N():qn||N()),Dn&&b.state.next({name:ie,...ns?{}:ss});if(!qn&&ns&&b.state.next({...n}),e.resolver){const{errors:As}=await D([ie]);if(me(Ts),_e){const Cs=_4(n.errors,s,ie),Js=_4(As,s,Cs.name||ie);Ge=Js.error,ie=Js.name,ut=Xn(As)}}else I([ie],!0),Ge=(await T4(ge,u.disabled,o,_,e.shouldUseNativeValidation))[ie],I([ie]),me(Ts),_e&&(Ge?ut=!1:(y.isValid||v.isValid)&&(ut=await M(s,!0)));_e&&(ge._f.deps&&we(ge._f.deps),q(ie,ut,Ge,ss))}},se=(G,ee)=>{if(Ie(n.errors,ee)&&G.focus)return G.focus(),1},we=async(G,ee={})=>{let ie,_e;const ge=bd(G);if(e.resolver){const me=await C(Jt(G)?G:ge);ie=Xn(me),_e=G?!ge.some(be=>Ie(me,be)):ie}else G?(_e=(await Promise.all(ge.map(async me=>{const be=Ie(s,me);return await M(be&&be._f?{[me]:be}:be)}))).every(Boolean),!(!_e&&!n.isValid)&&N()):_e=ie=await M(s);return b.state.next({...!Ur(G)||(y.isValid||v.isValid)&&ie!==n.isValid?{}:{name:G},...e.resolver||!G?{isValid:ie}:{},errors:n.errors}),ee.shouldFocus&&!_e&&wd(s,se,G?ge:u.mount),_e},z=G=>{const ee={...c.mount?o:i};return Jt(G)?ee:Ur(G)?Ie(ee,G):G.map(ie=>Ie(ee,ie))},le=(G,ee)=>({invalid:!!Ie((ee||n).errors,G),isDirty:!!Ie((ee||n).dirtyFields,G),error:Ie((ee||n).errors,G),isValidating:!!Ie(n.validatingFields,G),isTouched:!!Ie((ee||n).touchedFields,G)}),he=G=>{G&&bd(G).forEach(ee=>on(n.errors,ee)),b.state.next({errors:G?n.errors:{}})},fe=(G,ee,ie)=>{const _e=(Ie(s,G,{_f:{}})._f||{}).ref,ge=Ie(n.errors,G)||{},{ref:me,message:be,type:Ne,...Ge}=ge;Nt(n.errors,G,{...Ge,...ee,ref:_e}),b.state.next({name:G,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&_e&&_e.focus&&_e.focus()},De=(G,ee)=>lr(G)?b.state.subscribe({next:ie=>G(F(void 0,ee),ie)}):F(G,ee,!0),He=G=>b.state.subscribe({next:ee=>{Zk(G.name,ee.name,G.exact)&&Qk(ee,G.formState||y,bn,G.reRenderRoot)&&G.callback({values:{...o},...n,...ee})}}).unsubscribe,Re=G=>(c.mount=!0,v={...v,...G.formState},He({...G,formState:v})),Ee=(G,ee={})=>{for(const ie of G?bd(G):u.mount)u.mount.delete(ie),u.array.delete(ie),ee.keepValue||(on(s,ie),on(o,ie)),!ee.keepError&&on(n.errors,ie),!ee.keepDirty&&on(n.dirtyFields,ie),!ee.keepTouched&&on(n.touchedFields,ie),!ee.keepIsValidating&&on(n.validatingFields,ie),!e.shouldUnregister&&!ee.keepDefaultValue&&on(i,ie);b.state.next({values:kn(o)}),b.state.next({...n,...ee.keepDirty?{isDirty:U()}:{}}),!ee.keepIsValid&&N()},Me=({disabled:G,name:ee})=>{(Pr(G)&&c.mount||G||u.disabled.has(ee))&&(G?u.disabled.add(ee):u.disabled.delete(ee))},jt=(G,ee={})=>{let ie=Ie(s,G);const _e=Pr(ee.disabled)||Pr(e.disabled);return Nt(s,G,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:G}},name:G,mount:!0,...ee}}),u.mount.add(G),ie?Me({disabled:Pr(ee.disabled)?ee.disabled:e.disabled,name:G}):$(G,!0,ee.value),{..._e?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:ed(ee.min),max:ed(ee.max),minLength:ed(ee.minLength),maxLength:ed(ee.maxLength),pattern:ed(ee.pattern)}:{},name:G,onChange:Z,onBlur:Z,ref:ge=>{if(ge){jt(G,ee),ie=Ie(s,G);const me=Jt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,be=qk(me),Ne=ie._f.refs||[];if(be?Ne.find(Ge=>Ge===me):me===ie._f.ref)return;Nt(s,G,{_f:{...ie._f,...be?{refs:[...Ne.filter(N0),me,...Array.isArray(Ie(i,G))?[{}]:[]],ref:{type:me.type,name:G}}:{ref:me}}}),$(G,!1,void 0,me)}else ie=Ie(s,G,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(Uk(u.array,G)&&c.action)&&u.unMount.add(G)}}},Yt=()=>e.shouldFocusError&&wd(s,se,u.mount),ts=G=>{Pr(G)&&(b.state.next({disabled:G}),wd(s,(ee,ie)=>{const _e=Ie(s,ie);_e&&(ee.disabled=_e._f.disabled||G,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ge=>{ge.disabled=_e._f.disabled||G}))},0,!1))},us=(G,ee)=>async ie=>{let _e;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ge=kn(o);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:be}=await D();n.errors=me,ge=be}else await M(s);if(u.disabled.size)for(const me of u.disabled)Nt(ge,me,void 0);if(on(n.errors,"root"),Xn(n.errors)){b.state.next({errors:{}});try{await G(ge,ie)}catch(me){_e=me}}else ee&&await ee({...n.errors},ie),Yt(),setTimeout(Yt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},Es=(G,ee={})=>{Ie(s,G)&&(Jt(ee.defaultValue)?Y(G,kn(Ie(i,G))):(Y(G,ee.defaultValue),Nt(i,G,kn(ee.defaultValue))),ee.keepTouched||on(n.touchedFields,G),ee.keepDirty||(on(n.dirtyFields,G),n.isDirty=ee.defaultValue?U(G,kn(Ie(i,G))):U()),ee.keepError||(on(n.errors,G),y.isValid&&N()),b.state.next({...n}))},ds=(G,ee={})=>{const ie=G?kn(G):i,_e=kn(ie),ge=Xn(G),me=ge?i:_e;if(ee.keepDefaultValues||(i=ie),!ee.keepValues){if(ee.keepDirtyValues){const be=new Set([...u.mount,...Object.keys(Ju(i,o))]);for(const Ne of Array.from(be))Ie(n.dirtyFields,Ne)?Nt(me,Ne,Ie(o,Ne)):Y(Ne,Ie(me,Ne))}else{if(a1&&Jt(G))for(const be of u.mount){const Ne=Ie(s,be);if(Ne&&Ne._f){const Ge=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Ym(Ge)){const ut=Ge.closest("form");if(ut){ut.reset();break}}}}for(const be of u.mount)Y(be,Ie(me,be))}o=kn(me),b.array.next({values:{...me}}),b.state.next({values:{...me}})}u={mount:ee.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!Ta(G,i)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:ee.keepDirtyValues?ee.keepDefaultValues&&o?Ju(i,o):n.dirtyFields:ee.keepDefaultValues&&G?Ju(i,G):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qs=(G,ee)=>ds(lr(G)?G(o):G,ee),ri=(G,ee={})=>{const ie=Ie(s,G),_e=ie&&ie._f;if(_e){const ge=_e.refs?_e.refs[0]:_e.ref;ge.focus&&(ge.focus(),ee.shouldSelect&&lr(ge.select)&&ge.select())}},bn=G=>{n={...n,...G}},Zs={control:{register:jt,unregister:Ee,getFieldState:le,handleSubmit:us,setError:fe,_subscribe:He,_runSchema:D,_getWatch:F,_getDirty:U,_setValid:N,_setFieldArray:O,_setDisabledField:Me,_setErrors:R,_getFieldArray:L,_reset:ds,_resetDefaultValues:()=>lr(e.defaultValues)&&e.defaultValues().then(G=>{Qs(G,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:ts,_subjects:b,_proxyFormState:y,get _fields(){return s},get _formValues(){return o},get _state(){return c},set _state(G){c=G},get _defaultValues(){return i},get _names(){return u},set _names(G){u=G},get _formState(){return n},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Re,trigger:we,register:jt,handleSubmit:us,watch:De,setValue:Y,getValues:z,reset:Qs,resetField:Es,clearErrors:he,unregister:Ee,setError:fe,setFocus:ri,getFieldState:le};return{...Zs,formControl:Zs}}function A6(t={}){const e=Pe.useRef(void 0),n=Pe.useRef(void 0),[s,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:lr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:lr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:sP(t),formState:s},t.formControl&&t.defaultValues&&!lr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,zk(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Pe.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Pe.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!Xn(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Pe.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==s.isDirty&&o._subjects.state.next({isDirty:c})}},[o,s.isDirty]),Pe.useEffect(()=>{t.values&&!Ta(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(c=>({...c}))):o._resetDefaultValues()},[o,t.values]),Pe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=Bk(s,o),e.current}const rP=()=>{};var S4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},N6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,u=c?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,y=o>>2,v=(o&3)<<4|u>>4;let b=(u&15)<<2|m>>6,_=m&63;h||(_=64,c||(b=64)),s.push(n[y],n[v],n[b],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||m==null||v==null)throw new aP;const b=o<<2|u>>4;if(s.push(b),m!==64){const _=u<<4&240|m>>2;if(s.push(_),v!==64){const T=m<<6&192|v;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oP=function(t){const e=C6(t);return N6.encodeByteArray(e,!0)},Qm=function(t){return oP(t).replace(/\./g,"")},R6=function(t){try{return N6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=()=>lP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof S4>"u")return;const t=S4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R6(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return rP()||cP()||uP()||dP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I6=t=>{var e,n;return(n=(e=jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fP=t=>{const e=I6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},D6=()=>{var t;return(t=jp())===null||t===void 0?void 0:t.config},j6=t=>{var e;return(e=jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return t.endsWith(".cloudworkstations.dev")}async function M6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qm(JSON.stringify(n)),Qm(JSON.stringify(c)),""].join(".")}const _d={};function pP(){const t={prod:[],emulator:[]};for(const e of Object.keys(_d))_d[e]?t.emulator.push(e):t.prod.push(e);return t}function gP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A4=!1;function Mp(t,e){if(typeof window>"u"||typeof document>"u"||!df(window.location.host)||_d[t]===e||_d[t]||A4)return;_d[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",o=pP().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{A4=!0,c()},b}function y(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=gP(s),_=n("text"),T=document.getElementById(_)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),O=n("preprendIcon"),P=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;u(R),y(I,N);const $=m();h(P,O),R.append(P,T,I,$),document.body.appendChild(R)}o?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function vP(){var t;const e=(t=jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _P(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EP(){return!vP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TP(){try{return typeof indexedDB=="object"}catch{return!1}}function SP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AP,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?CP(o,s):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new Hi(i,u,s)}}function CP(t,e){return t.replace(NP,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const NP=/\{\$([^}]+)}/g;function RP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const o=t[i],c=e[i];if(C4(o)&&C4(c)){if(!zo(o,c))return!1}else if(o!==c)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function C4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,o]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function od(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IP(t,e){const n=new DP(t,e);return n.subscribe.bind(n)}class DP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=R0),i.error===void 0&&(i.error=R0),i.complete===void 0&&(i.complete=R0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function R0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kP(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);s===u&&c.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(t){return t===Mo?void 0:t}function kP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const VP={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},LP=nt.INFO,UP={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},FP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=UP[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=LP,this._logHandler=FP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const BP=(t,e)=>e.some(n=>t instanceof n);let N4,R4;function zP(){return N4||(N4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HP(){return R4||(R4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O6=new WeakMap,Cv=new WeakMap,k6=new WeakMap,I0=new WeakMap,d1=new WeakMap;function $P(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Da(t.result)),i()},c=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&O6.set(n,t)}).catch(()=>{}),d1.set(e,t),e}function qP(t){if(Cv.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Cv.set(t,e)}let Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GP(t){Nv=t(Nv)}function KP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(D0(this),e,...n);return k6.set(s,e.sort?e.sort():[e]),Da(s)}:HP().includes(t)?function(...e){return t.apply(D0(this),e),Da(O6.get(this))}:function(...e){return Da(t.apply(D0(this),e))}}function YP(t){return typeof t=="function"?KP(t):(t instanceof IDBTransaction&&qP(t),BP(t,zP())?new Proxy(t,Nv):t)}function Da(t){if(t instanceof IDBRequest)return $P(t);if(I0.has(t))return I0.get(t);const e=YP(t);return e!==t&&(I0.set(t,e),d1.set(e,t)),e}const D0=t=>d1.get(t);function WP(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),u=Da(c);return s&&c.addEventListener("upgradeneeded",h=>{s(Da(c.result),h.oldVersion,h.newVersion,Da(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const XP=["get","getKey","getAll","getAllKeys","count"],QP=["put","add","delete","clear"],j0=new Map;function I4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j0.get(e))return j0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=QP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||XP.includes(n)))return;const o=async function(c,...u){const h=this.transaction(c,i?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&h.done]))[0]};return j0.set(e,o),o}GP(t=>({...t,get:(e,n,s)=>I4(e,n)||t.get(e,n,s),has:(e,n)=>!!I4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rv="@firebase/app",D4="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new u1("@firebase/app"),e7="@firebase/app-compat",t7="@firebase/analytics-compat",n7="@firebase/analytics",s7="@firebase/app-check-compat",r7="@firebase/app-check",i7="@firebase/auth",a7="@firebase/auth-compat",o7="@firebase/database",l7="@firebase/data-connect",c7="@firebase/database-compat",u7="@firebase/functions",d7="@firebase/functions-compat",f7="@firebase/installations",h7="@firebase/installations-compat",m7="@firebase/messaging",p7="@firebase/messaging-compat",g7="@firebase/performance",y7="@firebase/performance-compat",v7="@firebase/remote-config",x7="@firebase/remote-config-compat",b7="@firebase/storage",w7="@firebase/storage-compat",_7="@firebase/firestore",E7="@firebase/ai",T7="@firebase/firestore-compat",S7="firebase",A7="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="[DEFAULT]",C7={[Rv]:"fire-core",[e7]:"fire-core-compat",[n7]:"fire-analytics",[t7]:"fire-analytics-compat",[r7]:"fire-app-check",[s7]:"fire-app-check-compat",[i7]:"fire-auth",[a7]:"fire-auth-compat",[o7]:"fire-rtdb",[l7]:"fire-data-connect",[c7]:"fire-rtdb-compat",[u7]:"fire-fn",[d7]:"fire-fn-compat",[f7]:"fire-iid",[h7]:"fire-iid-compat",[m7]:"fire-fcm",[p7]:"fire-fcm-compat",[g7]:"fire-perf",[y7]:"fire-perf-compat",[v7]:"fire-rc",[x7]:"fire-rc-compat",[b7]:"fire-gcs",[w7]:"fire-gcs-compat",[_7]:"fire-fst",[T7]:"fire-fst-compat",[E7]:"fire-vertex","fire-js":"fire-js",[S7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Map,N7=new Map,Dv=new Map;function j4(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(Dv.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Dv.set(e,t);for(const n of Zm.values())j4(n,t);for(const n of N7.values())j4(n,t);return!0}function f1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new ff("app","Firebase",R7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=A7;function P6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Iv,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw ja.create("bad-app-name",{appName:String(i)});if(n||(n=D6()),!n)throw ja.create("no-options");const o=Zm.get(i);if(o){if(zo(n,o.options)&&zo(s,o.config))return o;throw ja.create("duplicate-app",{appName:i})}const c=new PP(i);for(const h of Dv.values())c.addComponent(h);const u=new I7(n,s,c);return Zm.set(i,u),u}function V6(t=Iv){const e=Zm.get(t);if(!e&&t===Iv&&D6())return P6();if(!e)throw ja.create("no-app",{appName:t});return e}function Ma(t,e,n){var s;let i=(s=C7[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(u.join(" "));return}vc(new Ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="firebase-heartbeat-database",j7=1,Bd="firebase-heartbeat-store";let M0=null;function L6(){return M0||(M0=WP(D7,j7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ja.create("idb-open",{originalErrorMessage:t.message})})),M0}async function M7(t){try{const n=(await L6()).transaction(Bd),s=await n.objectStore(Bd).get(U6(t));return await n.done,s}catch(e){if(e instanceof Hi)Li.warn(e.message);else{const n=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function M4(t,e){try{const s=(await L6()).transaction(Bd,"readwrite");await s.objectStore(Bd).put(e,U6(t)),await s.done}catch(n){if(n instanceof Hi)Li.warn(n.message);else{const s=ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(s.message)}}}function U6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=1024,k7=30;class P7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L7(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=O4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>k7){const c=U7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O4(),{heartbeatsToSend:s,unsentEntries:i}=V7(this._heartbeatsCache.heartbeats),o=Qm(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Li.warn(n),""}}}function O4(){return new Date().toISOString().substring(0,10)}function V7(t,e=O7){const n=[];let s=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),k4(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k4(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class L7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TP()?SP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function k4(t){return Qm(JSON.stringify({version:2,heartbeats:t})).length}function U7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){vc(new Ho("platform-logger",e=>new ZP(e),"PRIVATE")),vc(new Ho("heartbeat",e=>new P7(e),"PRIVATE")),Ma(Rv,D4,t),Ma(Rv,D4,"esm2017"),Ma("fire-js","")}F7("");var B7="firebase",z7="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(B7,z7,"app");function h1(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function F6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H7=F6,B6=new ff("auth","Firebase",F6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new u1("@firebase/auth");function $7(t,...e){Jm.logLevel<=nt.WARN&&Jm.warn(`Auth (${kc}): ${t}`,...e)}function Tm(t,...e){Jm.logLevel<=nt.ERROR&&Jm.error(`Auth (${kc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw m1(t,...e)}function qr(t,...e){return m1(t,...e)}function z6(t,e,n){const s=Object.assign(Object.assign({},H7()),{[e]:n});return new ff("auth","Firebase",s).create(e,{appName:t.name})}function Mi(t){return z6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m1(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return B6.create(t,...e)}function Le(t,e,...n){if(!t)throw m1(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tm(e),new Error(e)}function Ui(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q7(){return P4()==="http:"||P4()==="https:"}function P4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q7()||bP()||"connection"in navigator)?navigator.onLine:!0}function K7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=yP()||wP()}get(){return G7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X7=new mf(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,s,i={}){return $6(t,i,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const u=hf(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},o);return xP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&df(t.emulatorConfig.host)&&(m.credentials="include"),H6.fetch()(await q6(t,t.config.apiHost,n,u),m)})}async function $6(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Y7),e);try{const i=new Z7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw sm(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw sm(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw sm(t,"user-disabled",c);const y=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw z6(t,y,m);fr(t,y)}}catch(i){if(i instanceof Hi)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function pf(t,e,n,s,i={}){const o=await $i(t,e,n,s,i);return"mfaPendingCredential"in o&&fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function q6(t,e,n,s){const i=`${e}${n}?${s}`,o=t,c=o.config.emulator?p1(t.config,i):`${t.config.apiScheme}://${i}`;return W7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function Q7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qr(this.auth,"network-request-failed")),X7.get())})}}function sm(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=qr(t,e,s);return i.customData._tokenResponse=n,i}function V4(t){return t!==void 0&&t.enterprise!==void 0}class J7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eV(t,e){return $i(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function ep(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nV(t,e=!1){const n=un(t),s=await n.getIdToken(e),i=g1(s);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:s,authTime:Ed(O0(i.auth_time)),issuedAtTime:Ed(O0(i.iat)),expirationTime:Ed(O0(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function O0(t){return Number(t)*1e3}function g1(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=R6(n);return i?JSON.parse(i):(Tm("Failed to decode base64 JWT payload"),null)}catch(i){return Tm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L4(t){const e=g1(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&sV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function sV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const n=t.auth,s=await t.getIdToken(),i=await xc(t,ep(n,{idToken:s}));Le(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?G6(o.providerUserInfo):[],u=aV(t.providerData,c),h=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),y=h?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function iV(t){const e=un(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aV(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function G6(t){return t.map(e=>{var{providerId:n}=e,s=h1(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e){const n=await $6(t,{},async()=>{const s=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=await q6(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",H6.fetch()(c,{method:"POST",headers:u,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lV(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=L4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:o}=await oV(e,n);this.updateTokensAndExpiration(s,i,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:o}=n,c=new lc;return s&&(Le(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),i&&(Le(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,o=h1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nV(this,e)}reload(){return iV(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await tp(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await xc(this,tV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,o,c,u,h,m,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(u=n.tenantId)!==null&&u!==void 0?u:void 0,I=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,O=(m=n.createdAt)!==null&&m!==void 0?m:void 0,P=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:R,emailVerified:$,isAnonymous:B,providerData:q,stsTokenManager:D}=n;Le(R&&D,e,"internal-error");const C=lc.fromJSON(this.name,D);Le(typeof R=="string",e,"internal-error"),wa(v,e.name),wa(b,e.name),Le(typeof $=="boolean",e,"internal-error"),Le(typeof B=="boolean",e,"internal-error"),wa(_,e.name),wa(T,e.name),wa(N,e.name),wa(I,e.name),wa(O,e.name),wa(P,e.name);const M=new cr({uid:R,auth:e,email:b,emailVerified:$,displayName:v,isAnonymous:B,photoURL:T,phoneNumber:_,tenantId:N,stsTokenManager:C,createdAt:O,lastLoginAt:P});return q&&Array.isArray(q)&&(M.providerData=q.map(V=>Object.assign({},V))),I&&(M._redirectEventId=I),M}static async _fromIdTokenResponse(e,n,s=!1){const i=new lc;i.updateFromServerResponse(n);const o=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await tp(o),o}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?G6(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new lc;u.updateFromIdToken(s);const h=new cr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new Map;function Ii(t){Ui(t instanceof Function,"Expected a class definition");let e=U4.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K6.type="NONE";const F4=K6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,n){return`firebase:${t}:${e}:${n}`}class cc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:o}=this.auth;this.fullUserKey=Sm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ep(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new cc(Ii(F4),e,s);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||Ii(F4);const c=Sm(s,e.config.apiKey,e.name);let u=null;for(const m of n)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const b=await ep(e,{idToken:y}).catch(()=>{});if(!b)break;v=await cr._fromGetAccountInfoResponse(e,b,y)}else v=cr._fromJSON(e,y);m!==o&&(u=v),o=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new cc(o,e,s):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new cc(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J6(e))return"Blackberry";if(eC(e))return"Webos";if(W6(e))return"Safari";if((e.includes("chrome/")||X6(e))&&!e.includes("edge/"))return"Chrome";if(Z6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Y6(t=Hn()){return/firefox\//i.test(t)}function W6(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X6(t=Hn()){return/crios\//i.test(t)}function Q6(t=Hn()){return/iemobile/i.test(t)}function Z6(t=Hn()){return/android/i.test(t)}function J6(t=Hn()){return/blackberry/i.test(t)}function eC(t=Hn()){return/webos/i.test(t)}function y1(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cV(t=Hn()){var e;return y1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uV(){return _P()&&document.documentMode===10}function tC(t=Hn()){return y1(t)||Z6(t)||eC(t)||J6(t)||/windows phone/i.test(t)||Q6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e=[]){let n;switch(t){case"Browser":n=B4(Hn());break;case"Worker":n=`${B4(Hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=6;class mV{constructor(e){var n,s,i,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:hV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,o,c,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z4(this),this.idTokenSubscription=new z4(this),this.beforeStateQueue=new dV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var s,i,o;if(!this._deleted&&(this.persistenceManager=await cc.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ep(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(Mi(this));const n=e?un(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fV(this),n=new mV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lV(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,s,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jo(t){return un(t)}class z4{constructor(e){this.auth=e,this.observer=null,this.addObserver=IP(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gV(t){Op=t}function sC(t){return Op.loadJS(t)}function yV(){return Op.recaptchaEnterpriseScript}function vV(){return Op.gapiScript}function xV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bV{constructor(){this.enterprise=new wV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _V="recaptcha-enterprise",rC="NO_RECAPTCHA";class EV{constructor(e){this.type=_V,this.auth=Jo(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{eV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new J7(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{u(h)})})}function i(o,c,u){const h=window.grecaptcha;V4(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(rC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bV().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(u=>{if(!n&&V4(window.grecaptcha))i(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=yV();h.length!==0&&(h+=u),sC(h).then(()=>{i(u,o,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function H4(t,e,n,s=!1,i=!1){const o=new EV(t);let c;if(i)c=rC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ov(t,e,n,s,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await H4(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await H4(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){const n=f1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(zo(o,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function SV(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AV(t,e,n){const s=Jo(t);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,o=iC(e),{host:c,port:u}=CV(e),h=u===null?"":`:${u}`,m={url:`${o}//${c}${h}/`},y=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(zo(m,s.config.emulator)&&zo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,df(c)?(Mp("Auth",!0),M6(`${o}//${c}${h}`)):NV()}function iC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CV(t){const e=iC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const o=i[1];return{host:o,port:$4(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:$4(c)}}}function $4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function RV(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return pf(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return pf(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function jV(t,e){return pf(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends v1{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zd(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new zd(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ov(e,n,"signInWithPassword",IV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ov(e,s,"signUpPassword",RV);case"emailLink":return jV(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e){return pf(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="http://localhost";class $o extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,o=h1(n,["providerId","signInMethod"]);if(!s||!i)return null;const c=new $o(s,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return uc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uc(e,n)}buildRequest(){const e={requestUri:MV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kV(t){const e=ad(od(t)).link,n=e?ad(od(e)).deep_link_id:null,s=ad(od(t)).deep_link_id;return(s?ad(od(s)).link:null)||s||n||e||t}class x1{constructor(e){var n,s,i,o,c,u;const h=ad(od(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(s=h.oobCode)!==null&&s!==void 0?s:null,v=OV((i=h.mode)!==null&&i!==void 0?i:null);Le(m&&y&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=kV(e);try{return new x1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,n){return zd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=x1.parseLink(n);return Le(s,"argument-error"),zd._fromEmailAndCode(e,s.code,s.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends aC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends gf{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $o._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Aa.credential(n,s)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends gf{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends gf{constructor(){super("twitter.com")}static credential(e,n){return $o._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Na.credential(n,s)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e){return pf(t,"POST","/v1/accounts:signUp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const o=await cr._fromIdTokenResponse(e,s,i),c=q4(s);return new qo({user:o,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=q4(s);return new qo({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function q4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Hi{constructor(e,n,s,i){var o;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new np(e,n,s,i)}}function oC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,o,e,s):o})}async function VV(t,e,n=!1){const s=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e,n=!1){const{auth:s}=t;if(qs(s.app))return Promise.reject(Mi(s));const i="reauthenticate";try{const o=await xc(t,oC(s,i,e,t),n);Le(o.idToken,s,"internal-error");const c=g1(o.idToken);Le(c,s,"internal-error");const{sub:u}=c;return Le(t.uid===u,s,"user-mismatch"),qo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){if(qs(t.app))return Promise.reject(Mi(t));const s="signIn",i=await oC(t,s,e),o=await qo._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(o.user),o}async function UV(t,e){return lC(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FV(t,e,n){if(qs(t.app))return Promise.reject(Mi(t));const s=Jo(t),c=await Ov(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cC(t),h}),u=await qo._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(u.user),u}function BV(t,e,n){return qs(t.app)?Promise.reject(Mi(t)):UV(un(t),Pc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cC(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return $i(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=un(t),o={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await xc(s,zV(s.auth,o));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const u=s.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function $V(t,e,n,s){return un(t).onIdTokenChanged(e,n,s)}function qV(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function GV(t,e,n,s){return un(t).onAuthStateChanged(e,n,s)}function KV(t){return un(t).signOut()}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=1e3,WV=10;class dC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);uV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WV):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const XV=dC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const hC=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new kp(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const u=Array.from(c).map(async m=>m(n.origin,o)),h=await QV(u);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const m=b1("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:i,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function JV(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function eL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nL(){return mC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",sL=1,rp="firebaseLocalStorage",gC="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(t,e){return t.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function rL(){const t=indexedDB.deleteDatabase(pC);return new yf(t).toPromise()}function kv(){const t=indexedDB.open(pC,sL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(rp,{keyPath:gC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(rp)?e(s):(s.close(),await rL(),e(await kv()))})})}async function G4(t,e,n){const s=Pp(t,!0).put({[gC]:e,value:n});return new yf(s).toPromise()}async function iL(t,e){const n=Pp(t,!1).get(e),s=await new yf(n).toPromise();return s===void 0?null:s.value}function K4(t,e){const n=Pp(t,!0).delete(e);return new yf(n).toPromise()}const aL=800,oL=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(nL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eL(),!this.activeServiceWorker)return;this.sender=new ZV(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kv();return await G4(e,sp,"1"),await K4(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G4(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Pp(i,!1).getAll();return new yf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const lL=yC;new mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e){return e?Ii(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uL(t){return lC(t.auth,new w1(t),t.bypassAuthState)}function dL(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),LV(n,new w1(t),t.bypassAuthState)}async function fL(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),VV(n,new w1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,s,i,o=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uL;case"linkViaPopup":case"linkViaRedirect":return fL;case"reauthViaPopup":case"reauthViaRedirect":return dL;default:fr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new mf(2e3,1e4);class sc extends vC{constructor(e,n,s,i,o){super(e,n,i,o),this.provider=s,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=b1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hL.get())};e()}}sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="pendingRedirect",Am=new Map;class pL extends vC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const s=await gL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gL(t,e){const n=xL(e),s=vL(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function yL(t,e){Am.set(t._key(),e)}function vL(t){return Ii(t._redirectPersistence)}function xL(t){return Sm(mL,t.config.apiKey,t.name)}async function bL(t,e,n=!1){if(qs(t.app))return Promise.reject(Mi(t));const s=Jo(t),i=cL(s,e),c=await new pL(s,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=10*60*1e3;class _L{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!xC(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y4(e))}saveEventToCache(e){this.cachedEventUids.add(Y4(e)),this.lastProcessedEventTime=Date.now()}}function Y4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AL=/^https?/;async function CL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TL(t);for(const n of e)try{if(NL(n))return}catch{}fr(t,"unauthorized-domain")}function NL(t){const e=jv(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!AL.test(n))return!1;if(SL.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new mf(3e4,6e4);function W4(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IL(t){return new Promise((e,n)=>{var s,i,o;function c(){W4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W4(),n(qr(t,"network-request-failed"))},timeout:RL.get()})}if(!((i=(s=Gr().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)c();else{const u=xV("iframefcb");return Gr()[u]=()=>{gapi.load?c():n(qr(t,"network-request-failed"))},sC(`${vV()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Cm=null,e})}let Cm=null;function DL(t){return Cm=Cm||IL(t),Cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new mf(5e3,15e3),ML="__/auth/iframe",OL="emulator/auth/iframe",kL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VL(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p1(e,OL):`https://${t.config.authDomain}/${ML}`,s={apiKey:e.apiKey,appName:t.name,v:kc},i=PL.get(t.config.apiHost);i&&(s.eid=i);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${hf(s).slice(1)}`}async function LL(t){const e=await DL(t),n=Gr().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:VL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kL,dontclear:!0},s=>new Promise(async(i,o)=>{await s.restyle({setHideOnLeave:!1});const c=qr(t,"network-request-failed"),u=Gr().setTimeout(()=>{o(c)},jL.get());function h(){Gr().clearTimeout(u),i(s)}s.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FL=500,BL=600,zL="_blank",HL="http://localhost";class X4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $L(t,e,n,s=FL,i=BL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const h=Object.assign(Object.assign({},UL),{width:s.toString(),height:i.toString(),top:o,left:c}),m=Hn().toLowerCase();n&&(u=X6(m)?zL:n),Y6(m)&&(e=e||HL,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[_,T])=>`${b}${_}=${T},`,"");if(cV(m)&&u!=="_self")return qL(e||"",u),new X4(null);const v=window.open(e||"",u,y);Le(v,t,"popup-blocked");try{v.focus()}catch{}return new X4(v)}function qL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",KL="emulator/auth/handler",YL=encodeURIComponent("fac");async function Q4(t,e,n,s,i,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:kc,eventId:i};if(e instanceof aC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",RP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof gf){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await t._getAppCheckToken(),m=h?`#${YL}=${encodeURIComponent(h)}`:"";return`${WL(t)}?${hf(u).slice(1)}${m}`}function WL({config:t}){return t.emulator?p1(t,KL):`https://${t.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="webStorageSupport";class XL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hC,this._completeRedirectFn=bL,this._overrideRedirectResult=yL}async _openPopup(e,n,s,i){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Q4(e,n,s,jv(),i);return $L(e,c,b1())}async _openRedirect(e,n,s,i){await this._originValidation(e);const o=await Q4(e,n,s,jv(),i);return JV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LL(e),s=new _L(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k0,{type:k0},i=>{var o;const c=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[k0];c!==void 0&&n(!!c),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tC()||W6()||y1()}}const QL=XL;var Z4="@firebase/auth",J4="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eU(t){vc(new Ho("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=s.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nC(t)},m=new pV(s,i,o,h);return SV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vc(new Ho("auth-internal",e=>{const n=Jo(e.getProvider("auth").getImmediate());return(s=>new ZL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(Z4,J4,JL(t)),Ma(Z4,J4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=5*60,nU=j6("authIdTokenMaxAge")||tU;let eT=null;const sU=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nU)return;const i=n==null?void 0:n.token;eT!==i&&(eT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rU(t=V6()){const e=f1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TV(t,{popupRedirectResolver:QL,persistence:[lL,XV,hC]}),s=j6("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=sU(o.toString());qV(n,c,()=>c(n.currentUser)),$V(n,u=>c(u))}}const i=I6("auth");return i?AV(n,`http://${i}`):Mp("Auth",!1),n}function iU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},s.type="text/javascript",s.charset="UTF-8",iU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eU("Browser");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,bC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function M(){}M.prototype=C.prototype,D.D=C.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(V,U,F){for(var L=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)L[xe-2]=arguments[xe];return C.prototype[U].apply(V,L)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,M){M||(M=0);var V=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)V[U]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(U=0;16>U;++U)V[U]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=D.g[0],M=D.g[1],U=D.g[2];var F=D.g[3],L=C+(F^M&(U^F))+V[0]+3614090360&4294967295;C=M+(L<<7&4294967295|L>>>25),L=F+(U^C&(M^U))+V[1]+3905402710&4294967295,F=C+(L<<12&4294967295|L>>>20),L=U+(M^F&(C^M))+V[2]+606105819&4294967295,U=F+(L<<17&4294967295|L>>>15),L=M+(C^U&(F^C))+V[3]+3250441966&4294967295,M=U+(L<<22&4294967295|L>>>10),L=C+(F^M&(U^F))+V[4]+4118548399&4294967295,C=M+(L<<7&4294967295|L>>>25),L=F+(U^C&(M^U))+V[5]+1200080426&4294967295,F=C+(L<<12&4294967295|L>>>20),L=U+(M^F&(C^M))+V[6]+2821735955&4294967295,U=F+(L<<17&4294967295|L>>>15),L=M+(C^U&(F^C))+V[7]+4249261313&4294967295,M=U+(L<<22&4294967295|L>>>10),L=C+(F^M&(U^F))+V[8]+1770035416&4294967295,C=M+(L<<7&4294967295|L>>>25),L=F+(U^C&(M^U))+V[9]+2336552879&4294967295,F=C+(L<<12&4294967295|L>>>20),L=U+(M^F&(C^M))+V[10]+4294925233&4294967295,U=F+(L<<17&4294967295|L>>>15),L=M+(C^U&(F^C))+V[11]+2304563134&4294967295,M=U+(L<<22&4294967295|L>>>10),L=C+(F^M&(U^F))+V[12]+1804603682&4294967295,C=M+(L<<7&4294967295|L>>>25),L=F+(U^C&(M^U))+V[13]+4254626195&4294967295,F=C+(L<<12&4294967295|L>>>20),L=U+(M^F&(C^M))+V[14]+2792965006&4294967295,U=F+(L<<17&4294967295|L>>>15),L=M+(C^U&(F^C))+V[15]+1236535329&4294967295,M=U+(L<<22&4294967295|L>>>10),L=C+(U^F&(M^U))+V[1]+4129170786&4294967295,C=M+(L<<5&4294967295|L>>>27),L=F+(M^U&(C^M))+V[6]+3225465664&4294967295,F=C+(L<<9&4294967295|L>>>23),L=U+(C^M&(F^C))+V[11]+643717713&4294967295,U=F+(L<<14&4294967295|L>>>18),L=M+(F^C&(U^F))+V[0]+3921069994&4294967295,M=U+(L<<20&4294967295|L>>>12),L=C+(U^F&(M^U))+V[5]+3593408605&4294967295,C=M+(L<<5&4294967295|L>>>27),L=F+(M^U&(C^M))+V[10]+38016083&4294967295,F=C+(L<<9&4294967295|L>>>23),L=U+(C^M&(F^C))+V[15]+3634488961&4294967295,U=F+(L<<14&4294967295|L>>>18),L=M+(F^C&(U^F))+V[4]+3889429448&4294967295,M=U+(L<<20&4294967295|L>>>12),L=C+(U^F&(M^U))+V[9]+568446438&4294967295,C=M+(L<<5&4294967295|L>>>27),L=F+(M^U&(C^M))+V[14]+3275163606&4294967295,F=C+(L<<9&4294967295|L>>>23),L=U+(C^M&(F^C))+V[3]+4107603335&4294967295,U=F+(L<<14&4294967295|L>>>18),L=M+(F^C&(U^F))+V[8]+1163531501&4294967295,M=U+(L<<20&4294967295|L>>>12),L=C+(U^F&(M^U))+V[13]+2850285829&4294967295,C=M+(L<<5&4294967295|L>>>27),L=F+(M^U&(C^M))+V[2]+4243563512&4294967295,F=C+(L<<9&4294967295|L>>>23),L=U+(C^M&(F^C))+V[7]+1735328473&4294967295,U=F+(L<<14&4294967295|L>>>18),L=M+(F^C&(U^F))+V[12]+2368359562&4294967295,M=U+(L<<20&4294967295|L>>>12),L=C+(M^U^F)+V[5]+4294588738&4294967295,C=M+(L<<4&4294967295|L>>>28),L=F+(C^M^U)+V[8]+2272392833&4294967295,F=C+(L<<11&4294967295|L>>>21),L=U+(F^C^M)+V[11]+1839030562&4294967295,U=F+(L<<16&4294967295|L>>>16),L=M+(U^F^C)+V[14]+4259657740&4294967295,M=U+(L<<23&4294967295|L>>>9),L=C+(M^U^F)+V[1]+2763975236&4294967295,C=M+(L<<4&4294967295|L>>>28),L=F+(C^M^U)+V[4]+1272893353&4294967295,F=C+(L<<11&4294967295|L>>>21),L=U+(F^C^M)+V[7]+4139469664&4294967295,U=F+(L<<16&4294967295|L>>>16),L=M+(U^F^C)+V[10]+3200236656&4294967295,M=U+(L<<23&4294967295|L>>>9),L=C+(M^U^F)+V[13]+681279174&4294967295,C=M+(L<<4&4294967295|L>>>28),L=F+(C^M^U)+V[0]+3936430074&4294967295,F=C+(L<<11&4294967295|L>>>21),L=U+(F^C^M)+V[3]+3572445317&4294967295,U=F+(L<<16&4294967295|L>>>16),L=M+(U^F^C)+V[6]+76029189&4294967295,M=U+(L<<23&4294967295|L>>>9),L=C+(M^U^F)+V[9]+3654602809&4294967295,C=M+(L<<4&4294967295|L>>>28),L=F+(C^M^U)+V[12]+3873151461&4294967295,F=C+(L<<11&4294967295|L>>>21),L=U+(F^C^M)+V[15]+530742520&4294967295,U=F+(L<<16&4294967295|L>>>16),L=M+(U^F^C)+V[2]+3299628645&4294967295,M=U+(L<<23&4294967295|L>>>9),L=C+(U^(M|~F))+V[0]+4096336452&4294967295,C=M+(L<<6&4294967295|L>>>26),L=F+(M^(C|~U))+V[7]+1126891415&4294967295,F=C+(L<<10&4294967295|L>>>22),L=U+(C^(F|~M))+V[14]+2878612391&4294967295,U=F+(L<<15&4294967295|L>>>17),L=M+(F^(U|~C))+V[5]+4237533241&4294967295,M=U+(L<<21&4294967295|L>>>11),L=C+(U^(M|~F))+V[12]+1700485571&4294967295,C=M+(L<<6&4294967295|L>>>26),L=F+(M^(C|~U))+V[3]+2399980690&4294967295,F=C+(L<<10&4294967295|L>>>22),L=U+(C^(F|~M))+V[10]+4293915773&4294967295,U=F+(L<<15&4294967295|L>>>17),L=M+(F^(U|~C))+V[1]+2240044497&4294967295,M=U+(L<<21&4294967295|L>>>11),L=C+(U^(M|~F))+V[8]+1873313359&4294967295,C=M+(L<<6&4294967295|L>>>26),L=F+(M^(C|~U))+V[15]+4264355552&4294967295,F=C+(L<<10&4294967295|L>>>22),L=U+(C^(F|~M))+V[6]+2734768916&4294967295,U=F+(L<<15&4294967295|L>>>17),L=M+(F^(U|~C))+V[13]+1309151649&4294967295,M=U+(L<<21&4294967295|L>>>11),L=C+(U^(M|~F))+V[4]+4149444226&4294967295,C=M+(L<<6&4294967295|L>>>26),L=F+(M^(C|~U))+V[11]+3174756917&4294967295,F=C+(L<<10&4294967295|L>>>22),L=U+(C^(F|~M))+V[2]+718787259&4294967295,U=F+(L<<15&4294967295|L>>>17),L=M+(F^(U|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+F&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var M=C-this.blockSize,V=this.B,U=this.h,F=0;F<C;){if(U==0)for(;F<=M;)i(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<C;)if(V[U++]=D.charCodeAt(F++),U==this.blockSize){i(this,V),U=0;break}}else for(;F<C;)if(V[U++]=D[F++],U==this.blockSize){i(this,V),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var M=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=M&255,M/=256;for(this.u(D),D=Array(16),C=M=0;4>C;++C)for(var V=0;32>V;V+=8)D[M++]=this.g[C]>>>V&255;return D};function o(D,C){var M=u;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=C(D)}function c(D,C){this.h=C;for(var M=[],V=!0,U=D.length-1;0<=U;U--){var F=D[U]|0;V&&F==C||(M[U]=F,V=!1)}this.g=M}var u={};function h(D){return-128<=D&&128>D?o(D,function(C){return new c([C|0],0>C?-1:0)}):new c([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return I(m(-D));for(var C=[],M=1,V=0;D>=M;V++)C[V]=D/M|0,M*=4294967296;return new c(C,0)}function y(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(y(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(C,8)),V=v,U=0;U<D.length;U+=8){var F=Math.min(8,D.length-U),L=parseInt(D.substring(U,U+F),C);8>F?(F=m(Math.pow(C,F)),V=V.j(F).add(m(L))):(V=V.j(M),V=V.add(m(L)))}return V}var v=h(0),b=h(1),_=h(16777216);t=c.prototype,t.m=function(){if(N(this))return-I(this).m();for(var D=0,C=1,M=0;M<this.g.length;M++){var V=this.i(M);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(N(this))return"-"+I(this).toString(D);for(var C=m(Math.pow(D,6)),M=this,V="";;){var U=$(M,C).g;M=O(M,U.j(C));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=U,T(M))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=O(this,D),N(D)?-1:T(D)?0:1};function I(D){for(var C=D.g.length,M=[],V=0;V<C;V++)M[V]=~D.g[V];return new c(M,~D.h).add(b)}t.abs=function(){return N(this)?I(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],V=0,U=0;U<=C;U++){var F=V+(this.i(U)&65535)+(D.i(U)&65535),L=(F>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);V=L>>>16,F&=65535,L&=65535,M[U]=L<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function O(D,C){return D.add(I(C))}t.j=function(D){if(T(this)||T(D))return v;if(N(this))return N(D)?I(this).j(I(D)):I(I(this).j(D));if(N(D))return I(this.j(I(D)));if(0>this.l(_)&&0>D.l(_))return m(this.m()*D.m());for(var C=this.g.length+D.g.length,M=[],V=0;V<2*C;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<D.g.length;U++){var F=this.i(V)>>>16,L=this.i(V)&65535,xe=D.i(U)>>>16,pe=D.i(U)&65535;M[2*V+2*U]+=L*pe,P(M,2*V+2*U),M[2*V+2*U+1]+=F*pe,P(M,2*V+2*U+1),M[2*V+2*U+1]+=L*xe,P(M,2*V+2*U+1),M[2*V+2*U+2]+=F*xe,P(M,2*V+2*U+2)}for(V=0;V<C;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=C;V<2*C;V++)M[V]=0;return new c(M,0)};function P(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function R(D,C){this.g=D,this.h=C}function $(D,C){if(T(C))throw Error("division by zero");if(T(D))return new R(v,v);if(N(D))return C=$(I(D),C),new R(I(C.g),I(C.h));if(N(C))return C=$(D,I(C)),new R(I(C.g),C.h);if(30<D.g.length){if(N(D)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var M=b,V=C;0>=V.l(D);)M=B(M),V=B(V);var U=q(M,1),F=q(V,1);for(V=q(V,2),M=q(M,2);!T(V);){var L=F.add(V);0>=L.l(D)&&(U=U.add(M),F=L),V=q(V,1),M=q(M,1)}return C=O(D,U.j(C)),new R(U,C)}for(U=v;0<=D.l(C);){for(M=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=m(M),L=F.j(C);N(L)||0<L.l(D);)M-=V,F=m(M),L=F.j(C);T(F)&&(F=b),U=U.add(F),D=O(D,L)}return new R(U,D)}t.A=function(D){return $(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],V=0;V<C;V++)M[V]=this.i(V)&D.i(V);return new c(M,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],V=0;V<C;V++)M[V]=this.i(V)|D.i(V);return new c(M,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],V=0;V<C;V++)M[V]=this.i(V)^D.i(V);return new c(M,this.h^D.h)};function B(D){for(var C=D.g.length+1,M=[],V=0;V<C;V++)M[V]=D.i(V)<<1|D.i(V-1)>>>31;return new c(M,D.h)}function q(D,C){var M=C>>5;C%=32;for(var V=D.g.length-M,U=[],F=0;F<V;F++)U[F]=0<C?D.i(F+M)>>>C|D.i(F+M+1)<<32-C:D.i(F+M);return new c(U,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Oa=c}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wC,ld,_C,Nm,Pv,EC,TC,SC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof rm=="object"&&rm];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function i(p,w){if(w)e:{var S=s;p=p.split(".");for(var k=0;k<p.length-1;k++){var X=p[k];if(!(X in S))break e;S=S[X]}p=p[p.length-1],k=S[p],w=w(k),w!=k&&w!=null&&e(S,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var S=0,k=!1,X={next:function(){if(!k&&S<p.length){var re=S++;return{value:w(re,p[re]),done:!1}}return k=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(p){return p||function(){return o(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function m(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function y(p,w,S){return p.call.apply(p.bind,arguments)}function v(p,w,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,k),p.apply(w,X)}}return function(){return p.apply(w,arguments)}}function b(p,w,S){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function _(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function T(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,X,re){for(var ye=Array(arguments.length-2),it=2;it<arguments.length;it++)ye[it-2]=arguments[it];return w.prototype[X].apply(k,ye)}}function N(p){const w=p.length;if(0<w){const S=Array(w);for(let k=0;k<w;k++)S[k]=p[k];return S}return[]}function I(p,w){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(h(k)){const X=p.length||0,re=k.length||0;p.length=X+re;for(let ye=0;ye<re;ye++)p[X+ye]=k[ye]}else p.push(k)}}class O{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function P(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var B=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function q(p,w,S){for(const k in p)w.call(S,p[k],k,p)}function D(p,w){for(const S in p)w.call(void 0,p[S],S,p)}function C(p){const w={};for(const S in p)w[S]=p[S];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,w){let S,k;for(let X=1;X<arguments.length;X++){k=arguments[X];for(S in k)p[S]=k[S];for(let re=0;re<M.length;re++)S=M[re],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function U(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function F(p){u.setTimeout(()=>{throw p},0)}function L(){var p=we;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class xe{constructor(){this.h=this.g=null}add(w,S){const k=pe.get();k.set(w,S),this.h?this.h.next=k:this.g=k,this.h=k}}var pe=new O(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,se=!1,we=new xe,z=()=>{const p=u.Promise.resolve(void 0);Z=()=>{p.then(le)}};var le=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(S){F(S)}var w=pe;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}se=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};u.addEventListener("test",S,w),u.removeEventListener("test",S,w)}catch{}return p}();function He(p,w){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(B){e:{try{$(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else S=="mouseover"?w=p.fromElement:S=="mouseout"&&(w=p.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Re[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&He.aa.h.call(this)}}T(He,fe);var Re={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Me=0;function jt(p,w,S,k,X){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!k,this.ha=X,this.key=++Me,this.da=this.fa=!1}function Yt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ts(p){this.src=p,this.g={},this.h=0}ts.prototype.add=function(p,w,S,k,X){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ye=Es(p,w,k,X);return-1<ye?(w=p[ye],S||(w.fa=!1)):(w=new jt(w,this.src,re,!!k,X),w.fa=S,p.push(w)),w};function us(p,w){var S=w.type;if(S in p.g){var k=p.g[S],X=Array.prototype.indexOf.call(k,w,void 0),re;(re=0<=X)&&Array.prototype.splice.call(k,X,1),re&&(Yt(w),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Es(p,w,S,k){for(var X=0;X<p.length;++X){var re=p[X];if(!re.da&&re.listener==w&&re.capture==!!S&&re.ha==k)return X}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Qs={};function ri(p,w,S,k,X){if(Array.isArray(w)){for(var re=0;re<w.length;re++)ri(p,w[re],S,k,X);return null}return S=me(S),p&&p[Ee]?p.K(w,S,m(k)?!!k.capture:!1,X):bn(p,w,S,!1,k,X)}function bn(p,w,S,k,X,re){if(!w)throw Error("Invalid event type");var ye=m(X)?!!X.capture:!!X,it=_e(p);if(it||(p[ds]=it=new ts(p)),S=it.add(w,S,k,ye,re),S.proxy)return S;if(k=Ja(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)De||(X=ye),X===void 0&&(X=!1),p.addEventListener(w.toString(),k,X);else if(p.attachEvent)p.attachEvent(ee(w.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ja(){function p(S){return w.call(p.src,p.listener,S)}const w=ie;return p}function Zs(p,w,S,k,X){if(Array.isArray(w))for(var re=0;re<w.length;re++)Zs(p,w[re],S,k,X);else k=m(k)?!!k.capture:!!k,S=me(S),p&&p[Ee]?(p=p.i,w=String(w).toString(),w in p.g&&(re=p.g[w],S=Es(re,S,k,X),-1<S&&(Yt(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[w],p.h--)))):p&&(p=_e(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Es(w,S,k,X)),(S=-1<p?w[p]:null)&&G(S))}function G(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Ee])us(w.i,p);else{var S=p.type,k=p.proxy;w.removeEventListener?w.removeEventListener(S,k,p.capture):w.detachEvent?w.detachEvent(ee(S),k):w.addListener&&w.removeListener&&w.removeListener(k),(S=_e(w))?(us(S,p),S.h==0&&(S.src=null,w[ds]=null)):Yt(p)}}}function ee(p){return p in Qs?Qs[p]:Qs[p]="on"+p}function ie(p,w){if(p.da)p=!0;else{w=new He(w,this);var S=p.listener,k=p.ha||p.src;p.fa&&G(p),p=S.call(k,w)}return p}function _e(p){return p=p[ds],p instanceof ts?p:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(p){return typeof p=="function"?p:(p[ge]||(p[ge]=function(w){return p.handleEvent(w)}),p[ge])}function be(){he.call(this),this.i=new ts(this),this.M=this,this.F=null}T(be,he),be.prototype[Ee]=!0,be.prototype.removeEventListener=function(p,w,S,k){Zs(this,p,w,S,k)};function Ne(p,w){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=w.type||w,typeof w=="string")w=new fe(w,p);else if(w instanceof fe)w.target=w.target||p;else{var X=w;w=new fe(k,p),V(w,X)}if(X=!0,S)for(var re=S.length-1;0<=re;re--){var ye=w.g=S[re];X=Ge(ye,k,!0,w)&&X}if(ye=w.g=p,X=Ge(ye,k,!0,w)&&X,X=Ge(ye,k,!1,w)&&X,S)for(re=0;re<S.length;re++)ye=w.g=S[re],X=Ge(ye,k,!1,w)&&X}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var S=p.g[w],k=0;k<S.length;k++)Yt(S[k]);delete p.g[w],p.h--}}this.F=null},be.prototype.K=function(p,w,S,k){return this.i.add(String(p),w,!1,S,k)},be.prototype.L=function(p,w,S,k){return this.i.add(String(p),w,!0,S,k)};function Ge(p,w,S,k){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,re=0;re<w.length;++re){var ye=w[re];if(ye&&!ye.da&&ye.capture==S){var it=ye.listener,nn=ye.ha||ye.src;ye.fa&&us(p.i,ye),X=it.call(nn,k)!==!1&&X}}return X&&!k.defaultPrevented}function ut(p,w,S){if(typeof p=="function")S&&(p=b(p,S));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(p,w||0)}function Ts(p){p.g=ut(()=>{p.g=null,p.i&&(p.i=!1,Ts(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class qn extends he{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(p){he.call(this),this.h=p,this.g={}}T(Ss,he);var ns=[];function ss(p){q(p.g,function(w,S){this.g.hasOwnProperty(S)&&G(w)},p),p.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),ss(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=u.JSON.stringify,As=u.JSON.parse,Cs=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Js(){}Js.prototype.h=null;function Gi(p){return p.h||(p.h=p.i())}function Ki(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rs(){fe.call(this,"d")}T(Rs,fe);function Yi(){fe.call(this,"c")}T(Yi,fe);var ve={},ze=null;function ft(){return ze=ze||new be}ve.La="serverreachability";function et(p){fe.call(this,ve.La,p)}T(et,fe);function vt(p){const w=ft();Ne(w,new et(w))}ve.STAT_EVENT="statevent";function tn(p,w){fe.call(this,ve.STAT_EVENT,p),this.stat=w}T(tn,fe);function Ke(p){const w=ft();Ne(w,new tn(w,p))}ve.Ma="timingevent";function tt(p,w){fe.call(this,ve.Ma,p),this.size=w}T(tt,fe);function rt(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},w)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function Yc(p,w,S,k,X,re){p.info(function(){if(p.g)if(re)for(var ye="",it=re.split("&"),nn=0;nn<it.length;nn++){var at=it[nn].split("=");if(1<at.length){var fn=at[0];at=at[1];var sn=fn.split("_");ye=2<=sn.length&&sn[1]=="type"?ye+(fn+"="+at+"&"):ye+(fn+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+k+") [attempt "+X+"]: "+w+`
`+S+`
`+ye})}function cg(p,w,S,k,X,re,ye){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+X+"]: "+w+`
`+S+`
`+re+" "+ye})}function Wi(p,w,S,k){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+eo(p,S)+(k?" "+k:"")})}function Df(p,w){p.info(function(){return"TIMEOUT: "+w})}Is.prototype.info=function(){};function eo(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var X=k[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return Dn(S)}catch{return w}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function br(){}T(br,Js),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},xr=new br;function Gn(p,w,S,k){this.j=p,this.i=w,this.l=S,this.R=k||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var Wc={},rl={};function er(p,w,S){p.L=1,p.v=io(fs(w)),p.m=S,p.P=!0,ai(p,null)}function ai(p,w){p.F=Date.now(),to(p),p.A=fs(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),tu(S.i,"t",k),p.C=0,S=p.j.J,p.h=new zt,p.g=Kf(p.j,S?w:null,!p.m),0<p.O&&(p.M=new qn(b(p.Y,p,p.g),p.O)),w=p.U,S=p.g,k=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(ns[0]=X.toString()),X=ns);for(var re=0;re<X.length;re++){var ye=ri(S,X[re],k||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),vt(),Yc(p.i,p.u,p.A,p.l,p.R,p.m)}Gn.prototype.ca=function(p){p=p.target;const w=this.M;w&&Os(p)==3?w.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)e:{const sn=Os(this.g);var w=this.g.Ba();const mi=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Uf(this.g)))){this.J||sn!=4||w==7||(w==8||0>=mi?vt(3):vt(2)),Qi(this);var S=this.g.Z();this.X=S;t:if(jf(this)){var k=Uf(this.g);p="";var X=k.length,re=Os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),wr(this);var ye="";break t}this.h.i=new u.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,p+=this.h.i.decode(k[w],{stream:!(re&&w==X-1)});k.length=0,this.h.g+=p,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,cg(this.i,this.u,this.A,this.l,this.R,sn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var it,nn=this.g;if((it=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(it)){var at=it;break t}}at=null}if(S=at)Wi(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,S);else{this.o=!1,this.s=3,Ke(12),wn(this),wr(this);break e}}if(this.P){S=!0;let _n;for(;!this.J&&this.C<ye.length;)if(_n=Mf(this,ye),_n==rl){sn==4&&(this.s=4,Ke(14),S=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Wc){this.s=4,Ke(15),Wi(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Wi(this.i,this.l,_n,null),no(this,_n);if(jf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ye.length!=0||this.h.h||(this.s=1,Ke(16),S=!1),this.o=this.o&&S,!S)Wi(this.i,this.l,ye,"[Invalid Chunked Response]"),wn(this),wr(this);else if(0<ye.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),mo(fn),fn.M=!0,Ke(11))}}else Wi(this.i,this.l,ye,null),no(this,ye);sn==4&&wn(this),this.o&&!this.J&&(sn==4?$f(this.j,this):(this.o=!1,to(this)))}else mg(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),wn(this),wr(this)}}}catch{}finally{}};function jf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Mf(p,w){var S=p.C,k=w.indexOf(`
`,S);return k==-1?rl:(S=Number(w.substring(S,k)),isNaN(S)?Wc:(k+=1,k+S>w.length?rl:(w=w.slice(k,k+S),p.C=k+S,w)))}Gn.prototype.cancel=function(){this.J=!0,wn(this)};function to(p){p.S=Date.now()+p.I,Of(p,p.I)}function Of(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=rt(b(p.ba,p),w)}function Qi(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Gn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Df(this.i,this.A),this.L!=2&&(vt(),Ke(17)),wn(this),this.s=2,wr(this)):Of(this,this.S-p)};function wr(p){p.j.G==0||p.J||$f(p.j,p)}function wn(p){Qi(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,ss(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function no(p,w){try{var S=p.j;if(S.G!=0&&(S.g==p||Xc(S.h,p))){if(!p.K&&Xc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var X=k;if(X[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)gl(S),ml(S);else break e;au(S),Ke(18)}}else S.za=X[1],0<S.za-S.T&&37500>X[2]&&S.F&&S.v==0&&!S.C&&(S.C=rt(b(S.Za,S),6e3));if(1>=al(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else hi(S,11)}else if((p.K||S.g==p)&&gl(S),!P(w))for(X=S.Da.g.parse(w),w=0;w<X.length;w++){let at=X[w];if(S.T=at[0],at=at[1],S.G==2)if(at[0]=="c"){S.K=at[1],S.ia=at[2];const fn=at[3];fn!=null&&(S.la=fn,S.j.info("VER="+S.la));const sn=at[4];sn!=null&&(S.Aa=sn,S.j.info("SVER="+S.Aa));const mi=at[5];mi!=null&&typeof mi=="number"&&0<mi&&(k=1.5*mi,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const _n=p.g;if(_n){const Nr=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var re=k.h;re.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ol(re,re.h),re.h=null))}if(k.D){const lu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;lu&&(k.ya=lu,xt(k.I,k.D,lu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ye=p;if(k.qa=Gf(k,k.J?k.ia:null,k.W),ye.K){Kn(k.h,ye);var it=ye,nn=k.L;nn&&(it.I=nn),it.B&&(Qi(it),to(it)),k.g=ye}else zf(k);0<S.i.length&&pl(S)}else at[0]!="stop"&&at[0]!="close"||hi(S,7);else S.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?hi(S,7):ru(S):at[0]!="noop"&&S.l&&S.l.ta(at),S.v=0)}}vt(4)}catch{}}var kf=class{constructor(p,w){this.g=p,this.map=w}};function oi(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function il(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function al(p){return p.h?1:p.g?p.g.size:0}function Xc(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function ol(p,w){p.g?p.g.add(w):p.h=w}function Kn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}oi.prototype.cancel=function(){if(this.i=Qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Qc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return N(p.i)}function ug(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],S=p.length,k=0;k<S;k++)w.push(p[k]);return w}w=[],S=0;for(k in p)w[S++]=p[k];return w}function ll(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const k in p)w[S++]=k;return w}}}function Zc(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var S=ll(p),k=ug(p),X=k.length,re=0;re<X;re++)w.call(void 0,k[re],S&&S[re],p)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dg(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),X=null;if(0<=k){var re=p[S].substring(0,k);X=p[S].substring(k+1)}else re=p[S];w(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Wt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Wt){this.h=p.h,ro(this,p.j),this.o=p.o,this.g=p.g,Zi(this,p.s),this.l=p.l;var w=p.i,S=new ci;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),li(this,S),this.m=p.m}else p&&(w=String(p).match(so))?(this.h=!1,ro(this,w[1]||"",!0),this.o=Ds(w[2]||""),this.g=Ds(w[3]||"",!0),Zi(this,w[4]),this.l=Ds(w[5]||"",!0),li(this,w[6]||"",!0),this.m=Ds(w[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Wt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(ao(w,Jc,!0),":");var S=this.g;return(S||w=="file")&&(p.push("//"),(w=this.o)&&p.push(ao(w,Jc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(ao(S,S.charAt(0)=="/"?fg:eu,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",ao(S,cl)),p.join("")};function fs(p){return new Wt(p)}function ro(p,w,S){p.j=S?Ds(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Zi(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function li(p,w,S){w instanceof ci?(p.i=w,Vf(p.i,p.h)):(S||(w=ao(w,hg)),p.i=new ci(w,p.h))}function xt(p,w,S){p.i.set(w,S)}function io(p){return xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ds(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ao(p,w,S){return typeof p=="string"?(p=encodeURI(p).replace(w,Pf),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Pf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jc=/[#\/\?@]/g,eu=/[#\?:]/g,fg=/[#\?]/g,hg=/[#\?@]/g,cl=/#/g;function ci(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function js(p){p.g||(p.g=new Map,p.h=0,p.i&&dg(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=ci.prototype,t.add=function(p,w){js(this),this.i=null,p=_r(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this};function ui(p,w){js(p),w=_r(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function di(p,w){return js(p),w=_r(p,w),p.g.has(w)}t.forEach=function(p,w){js(this),this.g.forEach(function(S,k){S.forEach(function(X){p.call(w,X,k,this)},this)},this)},t.na=function(){js(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let k=0;k<w.length;k++){const X=p[k];for(let re=0;re<X.length;re++)S.push(w[k])}return S},t.V=function(p){js(this);let w=[];if(typeof p=="string")di(this,p)&&(w=w.concat(this.g.get(_r(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},t.set=function(p,w){return js(this),this.i=null,p=_r(this,p),di(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function tu(p,w,S){ui(p,w),0<S.length&&(p.i=null,p.g.set(_r(p,w),N(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var k=w[S];const re=encodeURIComponent(String(k)),ye=this.V(k);for(k=0;k<ye.length;k++){var X=re;ye[k]!==""&&(X+="="+encodeURIComponent(String(ye[k]))),p.push(X)}}return this.i=p.join("&")};function _r(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Vf(p,w){w&&!p.j&&(js(p),p.i=null,p.g.forEach(function(S,k){var X=k.toLowerCase();k!=X&&(ui(this,k),tu(this,X,S))},p)),p.j=w}function oo(p,w){const S=new Is;if(u.Image){const k=new Image;k.onload=_(Ms,S,"TestLoadImage: loaded",!0,w,k),k.onerror=_(Ms,S,"TestLoadImage: error",!1,w,k),k.onabort=_(Ms,S,"TestLoadImage: abort",!1,w,k),k.ontimeout=_(Ms,S,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else w(!1)}function tr(p,w){const S=new Is,k=new AbortController,X=setTimeout(()=>{k.abort(),Ms(S,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:k.signal}).then(re=>{clearTimeout(X),re.ok?Ms(S,"TestPingServer: ok",!0,w):Ms(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),Ms(S,"TestPingServer: error",!1,w)})}function Ms(p,w,S,k,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),k(S)}catch{}}function lo(){this.g=new Cs}function Er(p,w,S){const k=S||"";try{Zc(p,function(X,re){let ye=X;m(X)&&(ye=Dn(X)),w.push(k+re+"="+encodeURIComponent(ye))})}catch(X){throw w.push(k+"type="+encodeURIComponent("_badmap")),X}}function Ji(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Ji,Js),Ji.prototype.g=function(){return new fi(this.l,this.j)},Ji.prototype.i=function(p){return function(){return p}}({});function fi(p,w){be.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(fi,be),t=fi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Sr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Tr(this):Sr(this),this.readyState==3&&nu(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Tr(this))},t.Qa=function(p){this.g&&(this.response=p,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Sr(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=w.next();return p.join(`\r
`)};function Sr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function su(p){let w="";return q(p,function(S,k){w+=k,w+=":",w+=S,w+=`\r
`}),w}function dn(p,w,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=su(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):xt(p,w,S))}function mt(p){be.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(mt,be);var ul=/^https?$/i,co=["POST","PUT"];t=mt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?Gi(this.o):Gi(xr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(re){Lf(this,re);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var X in k)S.set(X,k[X]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const re of k.keys())S.set(re,k.get(re));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),X=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(co,w,void 0))||k||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of S)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){Lf(this,re)}};function Lf(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,dl(p),Ar(p)}function dl(p){p.A||(p.A=!0,Ne(p,"complete"),Ne(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ne(this,"complete"),Ne(this,"abort"),Ar(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fl(this):this.bb())},t.bb=function(){fl(this)};function fl(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Os(p)!=4||p.Z()!=2)){if(p.u&&Os(p)==4)ut(p.Ea,0,p);else if(Ne(p,"readystatechange"),Os(p)==4){p.h=!1;try{const ye=p.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var k;if(k=ye===0){var X=String(p.D).match(so)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),k=!ul.test(X?X.toLowerCase():"")}S=k}if(S)Ne(p,"complete"),Ne(p,"success");else{p.m=6;try{var re=2<Os(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",dl(p)}}finally{Ar(p)}}}}function Ar(p,w){if(p.g){uo(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||Ne(p,"ready");try{S.onreadystatechange=k}catch{}}}function uo(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Os(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),As(w)}};function Uf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function mg(p){const w={};p=(p.g&&2<=Os(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(P(p[k]))continue;var S=U(p[k]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=w[X]||[];w[X]=re,re.push(S)}D(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function hl(p){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,p),this.cb=fo("retryDelaySeedMs",1e4,p),this.Wa=fo("forwardChannelMaxRetries",2,p),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(p&&p.concurrentRequestLimit),this.Da=new lo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hl.prototype,t.la=8,t.G=1,t.connect=function(p,w,S,k){Ke(0),this.W=p,this.H=w||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Gf(this,null,this.W),pl(this)};function ru(p){if(Ff(p),p.G==3){var w=p.U++,S=fs(p.I);if(xt(S,"SID",p.K),xt(S,"RID",w),xt(S,"TYPE","terminate"),ho(p,S),w=new Gn(p,p.j,w),w.L=2,w.v=io(fs(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=w.v,S=!0),S||(w.g=Kf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),to(w)}qf(p)}function ml(p){p.g&&(mo(p),p.g.cancel(),p.g=null)}function Ff(p){ml(p),p.u&&(u.clearTimeout(p.u),p.u=null),gl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function pl(p){if(!il(p.h)&&!p.s){p.s=!0;var w=p.Ga;Z||z(),se||(Z(),se=!0),we.add(w,p),p.B=0}}function pg(p,w){return al(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=rt(b(p.Ga,p,w),ou(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new Gn(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),V(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Bf(this,X,w),S=fs(this.I),xt(S,"RID",p),xt(S,"CVER",22),this.D&&xt(S,"X-HTTP-Session-Id",this.D),ho(this,S),re&&(this.O?w="headers="+encodeURIComponent(String(su(re)))+"&"+w:this.m&&dn(S,this.m,re)),ol(this.h,X),this.Ua&&xt(S,"TYPE","init"),this.P?(xt(S,"$req",w),xt(S,"SID","null"),X.T=!0,er(X,S,null)):er(X,S,w),this.G=2}}else this.G==3&&(p?iu(this,p):this.i.length==0||il(this.h)||iu(this))};function iu(p,w){var S;w?S=w.l:S=p.U++;const k=fs(p.I);xt(k,"SID",p.K),xt(k,"RID",S),xt(k,"AID",p.T),ho(p,k),p.m&&p.o&&dn(k,p.m,p.o),S=new Gn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Bf(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ol(p.h,S),er(S,k,w)}function ho(p,w){p.H&&q(p.H,function(S,k){xt(w,k,S)}),p.l&&Zc({},function(S,k){xt(w,k,S)})}function Bf(p,w,S){S=Math.min(p.i.length,S);var k=p.l?b(p.l.Na,p.l,p):null;e:{var X=p.i;let re=-1;for(;;){const ye=["count="+S];re==-1?0<S?(re=X[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let it=!0;for(let nn=0;nn<S;nn++){let at=X[nn].g;const fn=X[nn].map;if(at-=re,0>at)re=Math.max(0,X[nn].g-100),it=!1;else try{Er(fn,ye,"req"+at+"_")}catch{k&&k(fn)}}if(it){k=ye.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,k}function zf(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;Z||z(),se||(Z(),se=!0),we.add(w,p),p.v=0}}function au(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=rt(b(p.Fa,p),ou(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=rt(b(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),ml(this),Hf(this))};function mo(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Hf(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=fs(p.qa);xt(w,"RID","rpc"),xt(w,"SID",p.K),xt(w,"AID",p.T),xt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&xt(w,"TO",p.ja),xt(w,"TYPE","xmlhttp"),ho(p,w),p.m&&p.o&&dn(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=io(fs(w)),S.m=null,S.P=!0,ai(S,p)}t.Za=function(){this.C!=null&&(this.C=null,ml(this),au(this),Ke(19))};function gl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function $f(p,w){var S=null;if(p.g==w){gl(p),mo(p),p.g=null;var k=2}else if(Xc(p.h,w))S=w.D,Kn(p.h,w),k=1;else return;if(p.G!=0){if(w.o)if(k==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var X=p.B;k=ft(),Ne(k,new tt(k,S)),pl(p)}else zf(p);else if(X=w.s,X==3||X==0&&0<w.X||!(k==1&&pg(p,w)||k==2&&au(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),X){case 1:hi(p,5);break;case 4:hi(p,10);break;case 3:hi(p,6);break;default:hi(p,2)}}}function ou(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function hi(p,w){if(p.j.info("Error code "+w),w==2){var S=b(p.fb,p),k=p.Xa;const X=!k;k=new Wt(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ro(k,"https"),io(k),X?oo(k.toString(),S):tr(k.toString(),S)}else Ke(2);p.G=0,p.l&&p.l.sa(w),qf(p),Ff(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function qf(p){if(p.G=0,p.ka=[],p.l){const w=Qc(p.h);(w.length!=0||p.i.length!=0)&&(I(p.ka,w),I(p.ka,p.i),p.h.i.length=0,N(p.i),p.i.length=0),p.l.ra()}}function Gf(p,w,S){var k=S instanceof Wt?fs(S):new Wt(S);if(k.g!="")w&&(k.g=w+"."+k.g),Zi(k,k.s);else{var X=u.location;k=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var re=new Wt(null);k&&ro(re,k),w&&(re.g=w),X&&Zi(re,X),S&&(re.l=S),k=re}return S=p.D,w=p.ya,S&&w&&xt(k,S,w),xt(k,"VER",p.la),ho(p,k),k}function Kf(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new mt(new Ji({eb:S})):new mt(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yf(){}t=Yf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(p,w){return new Yn(p,w)};function Yn(p,w){be.call(this),this.g=new hl(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!P(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Cr(this)}T(Yn,be),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){ru(this.g)},Yn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Dn(p),p=S);w.i.push(new kf(w.Ya++,p)),w.G==3&&pl(w)},Yn.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,Yn.aa.N.call(this)};function Wf(p){Rs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}T(Wf,Rs);function Xf(){Yi.call(this),this.status=1}T(Xf,Yi);function Cr(p){this.g=p}T(Cr,Yf),Cr.prototype.ua=function(){Ne(this.g,"a")},Cr.prototype.ta=function(p){Ne(this.g,new Wf(p))},Cr.prototype.sa=function(p){Ne(this.g,new Xf)},Cr.prototype.ra=function(){Ne(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,SC=function(){return new yl},TC=function(){return ft()},EC=ve,Pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Nm=Xi,ii.COMPLETE="complete",_C=ii,Ki.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",be.prototype.listen=be.prototype.K,ld=Ki,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,wC=mt}).apply(typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",sT="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new u1("@firebase/firestore");function Yl(){return Go.logLevel}function Te(t,...e){if(Go.logLevel<=nt.DEBUG){const n=e.map(_1);Go.debug(`Firestore (${Vc}): ${t}`,...n)}}function Fi(t,...e){if(Go.logLevel<=nt.ERROR){const n=e.map(_1);Go.error(`Firestore (${Vc}): ${t}`,...n)}}function bc(t,...e){if(Go.logLevel<=nt.WARN){const n=e.map(_1);Go.warn(`Firestore (${Vc}): ${t}`,...n)}}function _1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AC(t,s,n)}function AC(t,e,n){let s=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fi(s),new Error(s)}function pt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||AC(e,i,s)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class oU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lU{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let s=this.i;const i=h=>this.i!==s?(s=this.i,n(h)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pt(typeof s.accessToken=="string",31837,{l:s}),new CC(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class cU{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uU{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const s=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>s(o))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=fU(40);for(let o=0;o<i.length;++o)s.length<20&&i[o]<n&&(s+=e.charAt(i[o]%62))}return s}}function Xe(t,e){return t<e?-1:t>e?1:0}function Vv(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return Xe(s,i);{const o=NC(),c=hU(o.encode(iT(t,n)),o.encode(iT(e,n)));return c!==0?c:Xe(s,i)}}n+=s>65535?2:1}return Xe(t.length,e.length)}function iT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function hU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function wc(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,oT=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oT);return new ln(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aT)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new ln(0,0))}static max(){return new $e(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ue(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const o=Vr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),i=Vr.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):Vv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Rt extends Vr{construct(e,n,s){return new Rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const mU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Vr{construct(e,n,s){return new Nn(e,n,s)}static isValidIdentifier(e){return mU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lT}static keyField(){return new Nn([lT])}static fromServerFormat(e){const n=[];let s="",i=0;const o=()=>{if(s.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=h,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(s+=u,i++):(o(),i++)}if(o(),c)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Rt.fromString(e))}static fromName(e){return new Oe(Rt.fromString(e).popFirst(5))}static empty(){return new Oe(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=-1;function pU(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(s===1e9?new ln(n+1,0):new ln(n,s));return new Fa(i,Oe.empty(),e)}function gU(t){return new Fa(t.readTime,t.key,Hd)}class Fa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fa($e.min(),Oe.empty(),Hd)}static max(){return new Fa($e.max(),Oe.empty(),Hd)}}function yU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==vU)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((s,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,s)=>{n(e)})}static reject(e){return new de((n,s)=>{s(e)})}static waitFor(e){return new de((n,s)=>{let i=0,o=0,c=!1;e.forEach(u=>{++i,u.next(()=>{++o,c&&o===i&&n()},h=>s(h))}),c=!0,o===i&&n()})}static or(e){let n=de.resolve(!1);for(const s of e)n=n.next(i=>i?de.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,o)=>{s.push(n.call(this,i,o))}),this.waitFor(s)}static mapArray(e,n){return new de((s,i)=>{const o=e.length,c=new Array(o);let u=0;for(let h=0;h<o;h++){const m=h;n(e[m]).next(y=>{c[m]=y,++u,u===o&&s(c)},y=>i(y))}})}static doWhile(e,n){return new de((s,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):s()};o()})}}function bU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=-1;function Lp(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function wU(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="";function _U(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cT(e)),e=EU(t.get(n),e);return cT(e)}function EU(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case IC:n+="";break;default:n+=o}}return n}function cT(t){return t+IC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??Cn.RED,this.left=i??Cn.EMPTY,this.right=o??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,o){return new Cn(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const o=s(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,s,i,o){return this}insert(e,n,s){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new ws([])}unionWith(e){let n=new cn(Nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jC("Invalid base64 string: "+o):o}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const TU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=TU.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="server_timestamp",OC="__type__",kC="__previous_value__",PC="__local_write_time__";function T1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OC])===null||n===void 0?void 0:n.stringValue)===MC}function Up(t){const e=t.mapValue.fields[kC];return T1(e)?Up(e):e}function $d(t){const e=Ba(t.mapValue.fields[PC].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,s,i,o,c,u,h,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=y}}const ap="(default)";class qd{constructor(e,n){this.projectId=e,this.database=n||ap}static empty(){return new qd("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__type__",AU="__max__",am={mapValue:{}},LC="__vector__",op="value";function Ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T1(t)?4:NU(t)?9007199254740991:CU(t)?10:11:Ue(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Ha(t);if(n!==Ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Ba(i.timestampValue),u=Ba(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return za(i.bytesValue).isEqual(za(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Gt(i.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Gt(i.integerValue)===Gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=Gt(i.doubleValue),u=Gt(o.doubleValue);return c===u?ip(c)===ip(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,o){const c=i.mapValue.fields||{},u=o.mapValue.fields||{};if(uT(c)!==uT(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!Qr(c[h],u[h])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function _c(t,e){if(t===e)return 0;const n=Ha(t),s=Ha(e);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const u=Gt(o.integerValue||o.doubleValue),h=Gt(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return fT(t.timestampValue,e.timestampValue);case 4:return fT($d(t),$d(e));case 5:return Vv(t.stringValue,e.stringValue);case 6:return function(o,c){const u=za(o),h=za(c);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const u=o.split("/"),h=c.split("/");for(let m=0;m<u.length&&m<h.length;m++){const y=Xe(u[m],h[m]);if(y!==0)return y}return Xe(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const u=Xe(Gt(o.latitude),Gt(c.latitude));return u!==0?u:Xe(Gt(o.longitude),Gt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hT(t.arrayValue,e.arrayValue);case 10:return function(o,c){var u,h,m,y;const v=o.fields||{},b=c.fields||{},_=(u=v[op])===null||u===void 0?void 0:u.arrayValue,T=(h=b[op])===null||h===void 0?void 0:h.arrayValue,N=Xe(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:hT(_,T)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===am.mapValue&&c===am.mapValue)return 0;if(o===am.mapValue)return 1;if(c===am.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),m=c.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const b=Vv(h[v],y[v]);if(b!==0)return b;const _=_c(u[h[v]],m[y[v]]);if(_!==0)return _}return Xe(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function fT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Ba(t),s=Ba(e),i=Xe(n.seconds,s.seconds);return i!==0?i:Xe(n.nanos,s.nanos)}function hT(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const o=_c(n[i],s[i]);if(o)return o}return Xe(n.length,s.length)}function Ec(t){return Lv(t)}function Lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ba(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const o of n.values||[])i?i=!1:s+=",",s+=Lv(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of s)o?o=!1:i+=",",i+=`${c}:${Lv(n.fields[c])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function Rm(t){switch(Ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Up(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,o)=>i+Rm(o),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Xa(s.fields,(o,c)=>{i+=o.length+Rm(c)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function mT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uv(t){return!!t&&"integerValue"in t}function S1(t){return!!t&&"arrayValue"in t}function pT(t){return!!t&&"nullValue"in t}function gT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}function CU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VC])===null||n===void 0?void 0:n.stringValue)===LC}function Td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Td(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=Nn.emptyPath(),s={},i=[];e.forEach((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,s,i),s={},i=[],n=u.popLast()}c?s[u.lastSegment()]=Td(c):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,s,i)}delete(e){const n=this.field(e.popLast());Im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Im(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Xa(n,(i,o)=>e[i]=o);for(const i of s)delete e[i]}clone(){return new ls(Td(this.value))}}function UC(t){const e=[];return Xa(t.fields,(n,s)=>{const i=new Nn([n]);if(Im(s)){const o=UC(s.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,s,i,o,c,u){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Ln(e,0,$e.min(),$e.min(),$e.min(),ls.empty(),0)}static newFoundDocument(e,n,s,i){return new Ln(e,1,n,$e.min(),s,i,0)}static newNoDocument(e,n){return new Ln(e,2,n,$e.min(),$e.min(),ls.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,$e.min(),$e.min(),ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function yT(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?s=Oe.comparator(Oe.fromName(c.referenceValue),n.key):s=_c(c,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function vT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function RU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{}class en extends FC{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DU(e,n,s):n==="array-contains"?new OU(e,s):n==="in"?new kU(e,s):n==="not-in"?new PU(e,s):n==="array-contains-any"?new VU(e,s):new en(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jU(e,s):new MU(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_c(n,this.value)):n!==null&&Ha(this.value)===Ha(n)&&this.matchesComparison(_c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends FC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new hr(e,n)}matches(e){return BC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BC(t){return t.op==="and"}function zC(t){return IU(t)&&BC(t)}function IU(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function Fv(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Ec(t.value);if(zC(t))return t.filters.map(e=>Fv(e)).join(",");{const e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function HC(t,e){return t instanceof en?function(s,i){return i instanceof en&&s.op===i.op&&s.field.isEqual(i.field)&&Qr(s.value,i.value)}(t,e):t instanceof hr?function(s,i){return i instanceof hr&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((o,c,u)=>o&&HC(c,i.filters[u]),!0):!1}(t,e):void Ue(19439)}function $C(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${Ec(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map($C).join(" ,")+"}"}(t):"Filter"}class DU extends en{constructor(e,n,s){super(e,n,s),this.key=Oe.fromName(s.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class jU extends en{constructor(e,n){super(e,"in",n),this.keys=qC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MU extends en{constructor(e,n){super(e,"not-in",n),this.keys=qC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Oe.fromName(s.referenceValue))}class OU extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return S1(n)&&Gd(n.arrayValue,this.value)}}class kU extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class PU extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class VU extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!S1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Gd(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n=null,s=[],i=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=o,this.startAt=c,this.endAt=u,this.Ie=null}}function xT(t,e=null,n=[],s=[],i=null,o=null,c=null){return new LU(t,e,n,s,i,o,c)}function A1(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fv(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Lp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ec(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ec(s)).join(",")),e.Ie=n}return e.Ie}function C1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vT(t.startAt,e.startAt)&&vT(t.endAt,e.endAt)}function Bv(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n=null,s=[],i=[],o=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UU(t,e,n,s,i,o,c,u){return new vf(t,e,n,s,i,o,c,u)}function N1(t){return new vf(t)}function bT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GC(t){return t.collectionGroup!==null}function Sd(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new cn(Nn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new cp(o,s))}),n.has(Nn.keyField().canonicalString())||e.Ee.push(new cp(Nn.keyField(),s))}return e.Ee}function Kr(t){const e=qe(t);return e.de||(e.de=FU(e,Sd(t))),e.de}function FU(t,e){if(t.limitType==="F")return xT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cp(i.field,o)});const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return xT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function zv(t,e){const n=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fp(t,e){return C1(Kr(t),Kr(e))&&t.limitType===e.limitType}function KC(t){return`${A1(Kr(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>$C(i)).join(", ")}]`),Lp(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Ec(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Ec(i)).join(",")),`Target(${s})`}(Kr(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(s,i){const o=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Oe.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(t,e)&&function(s,i){for(const o of Sd(s))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const o of s.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(c,u,h){const m=yT(c,u,h);return c.inclusive?m<=0:m<0}(s.startAt,Sd(s),i)||s.endAt&&!function(c,u,h){const m=yT(c,u,h);return c.inclusive?m>=0:m>0}(s.endAt,Sd(s),i))}(t,e)}function BU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YC(t){return(e,n)=>{let s=!1;for(const i of Sd(t)){const o=zU(i,e,n);if(o!==0)return o;s=s||i.field.isKeyField()}return 0}}function zU(t,e,n){const s=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(o,c,u){const h=c.data.field(o),m=u.data.field(o);return h!==null&&m!==null?_c(h,m):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,o]of s)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,s)=>{for(const[i,o]of s)e(i,o)})}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new Vt(Oe.comparator);function Bi(){return HU}const WC=new Vt(Oe.comparator);function cd(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=WC;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Lo(){return Ad()}function QC(){return Ad()}function Ad(){return new el(t=>t.toString(),(t,e)=>t.isEqual(e))}const $U=new Vt(Oe.comparator),qU=new cn(Oe.comparator);function st(...t){let e=qU;for(const n of t)e=e.add(n);return e}const GU=new cn(Xe);function KU(){return GU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function ZC(t){return{integerValue:""+t}}function YU(t,e){return wU(e)?ZC(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this._=void 0}}function WU(t,e,n){return t instanceof Kd?function(i,o){const c={fields:{[OC]:{stringValue:MC},[PC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&T1(o)&&(o=Up(o)),o&&(c.fields[kC]=o),{mapValue:c}}(n,e):t instanceof Yd?eN(t,e):t instanceof Wd?tN(t,e):function(i,o){const c=JC(i,o),u=wT(c)+wT(i.Re);return Uv(c)&&Uv(i.Re)?ZC(u):R1(i.serializer,u)}(t,e)}function XU(t,e,n){return t instanceof Yd?eN(t,e):t instanceof Wd?tN(t,e):n}function JC(t,e){return t instanceof dp?function(s){return Uv(s)||function(o){return!!o&&"doubleValue"in o}(s)}(e)?e:{integerValue:0}:null}class Kd extends zp{}class Yd extends zp{constructor(e){super(),this.elements=e}}function eN(t,e){const n=nN(e);for(const s of t.elements)n.some(i=>Qr(i,s))||n.push(s);return{arrayValue:{values:n}}}class Wd extends zp{constructor(e){super(),this.elements=e}}function tN(t,e){let n=nN(e);for(const s of t.elements)n=n.filter(i=>!Qr(i,s));return{arrayValue:{values:n}}}class dp extends zp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function wT(t){return Gt(t.integerValue||t.doubleValue)}function nN(t){return S1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.field=e,this.transform=n}}function ZU(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Yd&&i instanceof Yd||s instanceof Wd&&i instanceof Wd?wc(s.elements,i.elements,Qr):s instanceof dp&&i instanceof dp?Qr(s.Re,i.Re):s instanceof Kd&&i instanceof Kd}(t.transform,e.transform)}class JU{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function sN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iN(t.key,ur.none()):new xf(t.key,t.data,ur.none());{const n=t.data,s=ls.empty();let i=new cn(Nn.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?s.delete(o):s.set(o,c),i=i.add(o)}return new Qa(t.key,s,new ws(i.toArray()),ur.none())}}function eF(t,e,n){t instanceof xf?function(i,o,c){const u=i.value.clone(),h=ET(i.fieldTransforms,o,c.transformResults);u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Qa?function(i,o,c){if(!Dm(i.precondition,o))return void o.convertToUnknownDocument(c.version);const u=ET(i.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(rN(i)),h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Cd(t,e,n,s){return t instanceof xf?function(o,c,u,h){if(!Dm(o.precondition,c))return u;const m=o.value.clone(),y=TT(o.fieldTransforms,h,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,s):t instanceof Qa?function(o,c,u,h){if(!Dm(o.precondition,c))return u;const m=TT(o.fieldTransforms,h,c),y=c.data;return y.setAll(rN(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,s):function(o,c,u){return Dm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(t,e,n)}function tF(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),o=JC(s.transform,i||null);o!=null&&(n===null&&(n=ls.empty()),n.set(s.field,o))}return n||null}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&wc(s,i,(o,c)=>ZU(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends Hp{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qa extends Hp{constructor(e,n,s,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function ET(t,e,n){const s=new Map;pt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,u=e.data.field(o.field);s.set(o.field,XU(c,u,n[i]))}return s}function TT(t,e,n){const s=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);s.set(i.field,WU(o,c,e))}return s}class iN extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nF extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eF(o,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=QC();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=n.has(i.key)?null:u;const h=sN(c,u);h!==null&&s.set(i.key,h),c.isValidDocument()||c.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,(n,s)=>_T(n,s))&&wc(this.baseMutations,e.baseMutations,(n,s)=>_T(n,s))}}class I1{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){pt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return $U}();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,s[c].version);return new I1(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,lt;function aF(t){switch(t){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function aN(t){if(t===void 0)return Fi("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Zt.OK:return ue.OK;case Zt.CANCELLED:return ue.CANCELLED;case Zt.UNKNOWN:return ue.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ue.INTERNAL;case Zt.UNAVAILABLE:return ue.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ue.NOT_FOUND;case Zt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Zt.ABORTED:return ue.ABORTED;case Zt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Zt.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:t})}}(lt=Zt||(Zt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Oa([4294967295,4294967295],0);function ST(t){const e=NC().encode(t),n=new bC;return n.update(e),new Uint8Array(n.digest())}function AT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oa([n,s],0),new Oa([i,o],0)]}class D1{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ud(`Invalid padding: ${n}`);if(s<0)throw new ud(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ud(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ud(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Oa.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(Oa.fromNumber(s)));return i.compare(oF)===1&&(i=new Oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ST(e),[s,i]=AT(n);for(let o=0;o<this.hashCount;o++){const c=this.we(s,i,o);if(!this.Se(c))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new D1(o,i,n);return s.forEach(u=>c.insert(u)),c}insert(e){if(this.pe===0)return;const n=ST(e),[s,i]=AT(n);for(let o=0;o<this.hashCount;o++){const c=this.we(s,i,o);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $p($e.min(),i,new Vt(Xe),Bi(),st())}}class bf{constructor(e,n,s,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bf(s,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class oN{constructor(e,n){this.targetId=e,this.Ce=n}}class lN{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class CT{constructor(){this.Fe=0,this.Me=NT(),this.xe=Rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),n=st(),s=st();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ue(38017,{changeType:o})}}),new bf(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=NT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lF{constructor(e){this.ze=e,this.je=new Map,this.He=Bi(),this.Je=om(),this.Ye=om(),this.Ze=new Vt(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(Bv(o))if(s===0){const c=new Oe(o.path);this.tt(n,c,Ln.newNoDocument(c,$e.min()))}else pt(s===1,20013,{expectedCount:s});else{const c=this.ut(n);if(c!==s){const u=this.ct(e),h=u?this.lt(u,e,c):1;if(h!==0){this.st(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:o=0}=n;let c,u;try{c=za(s).toUint8Array()}catch(h){if(h instanceof jC)return bc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new D1(c,i,o)}catch(h){return bc(h instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(o=>{const c=this.ze.Pt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,c)=>{const u=this._t(c);if(u){if(o.current&&Bv(u.target)){const h=new Oe(u.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,Ln.newNoDocument(h,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let s=st();this.Ye.forEach((o,c)=>{let u=!0;c.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(s=s.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const i=new $p(e,n,this.Ze,this.He,s);return this.He=Bi(),this.Je=om(),this.Ye=om(),this.Ze=new Vt(Xe),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new CT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new cn(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new cn(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new CT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function om(){return new Vt(Oe.comparator)}function NT(){return new Vt(Oe.comparator)}const cF={asc:"ASCENDING",desc:"DESCENDING"},uF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dF={and:"AND",or:"OR"};class fF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hv(t,e){return t.useProto3Json||Lp(e)?e:{value:e}}function fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hF(t,e){return fp(t,e.toTimestamp())}function Yr(t){return pt(!!t,49232),$e.fromTimestamp(function(n){const s=Ba(n);return new ln(s.seconds,s.nanos)}(t))}function j1(t,e){return $v(t,e).canonicalString()}function $v(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uN(t){const e=Rt.fromString(t);return pt(pN(e),10190,{key:e.toString()}),e}function qv(t,e){return j1(t.databaseId,e.path)}function P0(t,e){const n=uN(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(fN(n))}function dN(t,e){return j1(t.databaseId,e)}function mF(t){const e=uN(t);return e.length===4?Rt.emptyPath():fN(e)}function Gv(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fN(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RT(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function pF(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(pt(y===void 0||typeof y=="string",58123),Rn.fromBase64String(y||"")):(pt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Rn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(m){const y=m.code===void 0?ue.UNKNOWN:aN(m.code);return new Se(y,m.message||"")}(c);n=new lN(s,i,o,u||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=P0(t,s.document.name),o=Yr(s.document.updateTime),c=s.document.createTime?Yr(s.document.createTime):$e.min(),u=new ls({mapValue:{fields:s.document.fields}}),h=Ln.newFoundDocument(i,o,c,u),m=s.targetIds||[],y=s.removedTargetIds||[];n=new jm(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=P0(t,s.document),o=s.readTime?Yr(s.readTime):$e.min(),c=Ln.newNoDocument(i,o),u=s.removedTargetIds||[];n=new jm([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=P0(t,s.document),o=s.removedTargetIds||[];n=new jm([],o,i,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:o}=s,c=new iF(i,o),u=s.targetId;n=new oN(u,c)}}return n}function gF(t,e){let n;if(e instanceof xf)n={update:RT(t,e.key,e.value)};else if(e instanceof iN)n={delete:qv(t,e.key)};else if(e instanceof Qa)n={update:RT(t,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof nF))return Ue(16599,{ft:e.type});n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,c){const u=c.transform;if(u instanceof Kd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Yd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dp)return{fieldPath:c.field.canonicalString(),increment:u.Re};throw Ue(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)}(t,e.precondition)),n}function yF(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map(n=>function(i,o){let c=i.updateTime?Yr(i.updateTime):Yr(o);return c.isEqual($e.min())&&(c=Yr(o)),new JU(c,i.transformResults||[])}(n,e))):[]}function vF(t,e){return{documents:[dN(t,e.path)]}}function xF(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dN(t,i);const o=function(m){if(m.length!==0)return mN(hr.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Xl(b.field),direction:_F(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=Hv(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:i}}function bF(t){let e=mF(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){pt(s===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(v){const b=hN(v);return b instanceof hr&&zC(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(b=>function(T){return new cp(Ql(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(b))}(n.orderBy));let u=null;n.limit&&(u=function(v){let b;return b=typeof v=="object"?v.value:v,Lp(b)?null:b}(n.limit));let h=null;n.startAt&&(h=function(v){const b=!!v.before,_=v.values||[];return new lp(_,b)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const b=!v.before,_=v.values||[];return new lp(_,b)}(n.endAt)),UU(e,i,c,o,u,"F",h,m)}function wF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ql(n.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ql(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ql(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return en.create(Ql(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(s=>hN(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function _F(t){return cF[t]}function EF(t){return uF[t]}function TF(t){return dF[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return Nn.fromServerFormat(t.fieldPath)}function mN(t){return t instanceof en?function(n){if(n.op==="=="){if(gT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(pT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(pT(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:EF(n.op),value:n.value}}}(t):t instanceof hr?function(n){const s=n.getFilters().map(i=>mN(i));return s.length===1?s[0]:{compositeFilter:{op:TF(n.op),filters:s}}}(t):Ue(54877,{filter:t})}function SF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,s,i,o=$e.min(),c=$e.min(),u=Rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.wt=e}}function CF(t){const e=bF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.Cn=new RF}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Fa.min())}updateCollectionGroup(e,n,s){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class RF{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new cn(Rt.comparator),o=!i.has(s);return this.index[n]=i.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new cn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gN=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(gN,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Tc(0)}static lr(){return new Tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",IF=1048576;function jT([t,e],[n,s]){const i=Xe(t,n);return i===0?Xe(e,s):i}class DF{constructor(e){this.Er=e,this.buffer=new cn(jT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jF{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(DT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uc(n)?Te(DT,"Ignoring IndexedDB error during garbage collection: ",n):await Lc(n)}await this.mr(3e5)})}}class MF{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Vp.le);const s=new DF(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(IT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,o,c,u,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(s=v,u=Date.now(),this.removeTargets(e,s,n))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,s))).next(v=>(m=Date.now(),Yl()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function OF(t,e){return new MF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.changes=new el(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?de.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Cd(s.mutation,i,ws.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,st()).next(()=>s))}getLocalViewOfDocuments(e,n,s=st()){const i=Lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(o=>{let c=cd();return o.forEach((u,h)=>{c=c.insert(u,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,st()))}populateOverlays(e,n,s){const i=[];return s.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,u)=>{n.set(c,u)})})}computeViews(e,n,s,i){let o=Bi();const c=Ad(),u=function(){return Ad()}();return n.forEach((h,m)=>{const y=s.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Qa)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Cd(y.mutation,m,y.mutation.getFieldMask(),ln.now())):c.set(m.key,ws.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var v;return u.set(m,new PF(y,(v=c.get(m))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const s=Ad();let i=new Vt((c,u)=>c-u),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const u of c)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let y=s.get(h)||ws.empty();y=u.applyToLocalView(m,y),s.set(h,y);const v=(i.get(u.batchId)||st()).add(h);i=i.insert(u.batchId,v)})}).next(()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,y=h.value,v=QC();y.forEach(b=>{if(!o.has(b)){const _=sN(n.get(b),s.get(b));_!==null&&v.set(b,_),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return de.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(c){return Oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-o.size):de.resolve(Lo());let u=Hd,h=o;return c.next(m=>de.forEach(m,(y,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{h=h.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,h,m,st())).next(y=>({batchId:u,changes:XC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(s=>{let i=cd();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const o=n.collectionGroup;let c=cd();return this.indexManager.getCollectionParents(e,o).next(u=>de.forEach(u,h=>{const m=function(v,b){return new vf(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,s,i).next(y=>{y.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,i))).next(c=>{o.forEach((h,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Ln.newInvalidDocument(y)))});let u=cd();return c.forEach((h,m)=>{const y=o.get(h);y!==void 0&&Cd(y.mutation,m,ws.empty(),ln.now()),Bp(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:CF(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.overlays=new Vt(Oe.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Lo();return de.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&s.set(i,o)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,o)=>{this.bt(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(s)),de.resolve()}getOverlaysForCollection(e,n,s){const i=Lo(),o=n.length+1,c=new Oe(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>s&&i.set(h.getKey(),h)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let o=new Vt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=o.get(m.largestBatchId);y===null&&(y=Lo(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=Lo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=i)););return de.resolve(u)}bt(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const c=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new rF(n,s));let o=this.Qr.get(n);o===void 0&&(o=st(),this.Qr.set(n,o)),this.Qr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.$r=new cn(yn.Ur),this.Kr=new cn(yn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new yn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new yn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Oe(new Rt([])),s=new yn(n,e),i=new yn(n,e+1),o=[];return this.Kr.forEachInRange([s,i],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Oe(new Rt([])),s=new yn(n,e),i=new yn(n,e+1);let o=st();return this.Kr.forEachInRange([s,i],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new yn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class yn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Oe.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new cn(yn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sF(o,n,s,i);this.mutationQueue.push(c);for(const u of i)this.Xr=this.Xr.add(new yn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?E1:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([s,i],c=>{const u=this.ei(c.Zr);o.push(u)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn(Xe);return n.forEach(i=>{const o=new yn(i,0),c=new yn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],u=>{s=s.add(u.Zr)})}),de.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let o=s;Oe.isDocumentKey(o)||(o=o.child(""));const c=new yn(new Oe(o),0);let u=new cn(Xe);return this.Xr.forEachWhile(h=>{const m=h.key.path;return!!s.isPrefixOf(m)&&(m.length===i&&(u=u.add(h.Zr)),!0)},c),de.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return de.forEach(n.mutations,i=>{const o=new yn(i.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new yn(n,0),i=this.Xr.firstAfterOrEqual(s);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.ii=e,this.docs=function(){return new Vt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),o=i?i.size:0,c=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return de.resolve(s?s.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let s=Bi();return n.forEach(i=>{const o=this.docs.get(i);s=s.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),de.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let o=Bi();const c=n.path,u=new Oe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||yU(gU(y),s)<=0||(i.has(y.key)||Bp(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,s,i){Ue(9500)}si(e,n){return de.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new HF(this)}getSize(e){return de.resolve(this.size)}}class HF extends kF{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.persistence=e,this.oi=new el(n=>A1(n),C1),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new M1,this.targetCount=0,this.ui=Tc.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Tc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,s){let i=0;const o=[];return this.oi.forEach((c,u)=>{u.sequenceNumber<=n&&s.get(u.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return de.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),de.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return de.resolve(s)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.ci={},this.overlays={},this.li=new Vp(0),this.hi=!1,this.hi=!0,this.Pi=new FF,this.referenceDelegate=e(this),this.Ti=new $F(this),this.indexManager=new NF,this.remoteDocumentCache=function(i){return new zF(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new AF(n),this.Ei=new LF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new BF(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){Te("MemoryPersistence","Starting transaction:",e);const i=new qF(this.li.next());return this.referenceDelegate.di(),s(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return de.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class qF extends xU{constructor(e){super(),this.currentSequenceNumber=e}}class O1{constructor(e){this.persistence=e,this.Vi=new M1,this.mi=null}static fi(e){return new O1(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),de.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,s=>{const i=Oe.fromPath(s);return this.pi(e,i).next(o=>{o||n.removeEntry(i,$e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class hp{constructor(e,n){this.persistence=e,this.yi=new el(s=>_U(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=OF(this,n)}static fi(e,n){return new hp(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(o=>o?de.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,c=>this.Dr(e,c,n).next(u=>{u||(s++,o.removeEntry(c,$e.min()))})).next(()=>o.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}Dr(e,n,s){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return de.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=st(),i=st();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new k1(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return EP()?8:bU(Hn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(e,n,i,s).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new GF;return this.bs(e,n,c).next(u=>{if(o.result=u,this.fs)return this.Ds(e,n,c,u.size)})}).next(()=>o.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(Yl()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Yl()<=nt.DEBUG&&Te("QueryEngine","Query:",Wl(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(Yl()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):de.resolve())}ws(e,n){if(bT(n))return de.resolve(null);let s=Kr(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=up(n,null,"F"),s=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(o=>{const c=st(...o);return this.ys.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,s).next(h=>{const m=this.vs(n,u);return this.Cs(n,m,c,h.readTime)?this.ws(e,up(n,null,"F")):this.Fs(e,m,n,h)}))})))}Ss(e,n,s,i){return bT(n)||i.isEqual($e.min())?de.resolve(null):this.ys.getDocuments(e,s).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,s,i)?de.resolve(null):(Yl()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wl(n)),this.Fs(e,c,n,pU(i,Hd)).next(u=>u))})}vs(e,n){let s=new cn(YC(e));return n.forEach((i,o)=>{Bp(e,o)&&(s=s.add(o))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,s){return Yl()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.ys.getDocumentsMatchingQuery(e,n,Fa.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="LocalStore",YF=3e8;class WF{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Vt(Xe),this.Os=new el(o=>A1(o),C1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VF(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function XF(t,e,n,s){return new WF(t,e,n,s)}async function vN(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(o=>{const c=[],u=[];let h=st();for(const m of i){c.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of o){u.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(s,h).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:u}))})})}function QF(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,m,y){const v=m.batch,b=v.keys();let _=de.resolve();return b.forEach(T=>{_=_.next(()=>y.getEntry(h,T)).next(N=>{const I=m.docVersions.get(T);pt(I!==null,48541),N.version.compareTo(I)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(n,s,e,o).next(()=>o.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let h=st();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function xN(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function ZF(t,e){const n=qe(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const u=[];e.targetChanges.forEach((y,v)=>{const b=i.get(v);if(!b)return;u.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,v)));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Rn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,s)),i=i.insert(v,_),function(N,I,O){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=YF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(b,_,y)&&u.push(n.Ti.updateTargetData(o,_))});let h=Bi(),m=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),u.push(JF(o,c,e.documentUpdates).next(y=>{h=y.qs,m=y.Qs})),!s.isEqual($e.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,s));u.push(y)}return de.waitFor(u).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,m)).next(()=>h)}).then(o=>(n.xs=i,o))}function JF(t,e,n){let s=st(),i=st();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let c=Bi();return n.forEach((u,h)=>{const m=o.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):Te(P1,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{qs:c,Qs:i}})}function eB(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=E1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tB(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(o=>o?(i=o,de.resolve(i)):n.Ti.allocateTargetId(s).next(c=>(i=new Ia(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Kv(t,e,n){const s=qe(t),i=s.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,c=>s.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Uc(c))throw c;Te(P1,`Failed to update sequence numbers for target ${e}: ${c}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function MT(t,e,n){const s=qe(t);let i=$e.min(),o=st();return s.persistence.runTransaction("Execute query","readwrite",c=>function(h,m,y){const v=qe(h),b=v.Os.get(y);return b!==void 0?de.resolve(v.xs.get(b)):v.Ti.getTargetData(m,y)}(s,c,Kr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,u.targetId).next(h=>{o=h})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,e,n?i:$e.min(),n?o:st())).next(u=>(nB(s,BU(e),u),{documents:u,$s:o})))}function nB(t,e,n){let s=t.Ns.get(e)||$e.min();n.forEach((i,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),t.Ns.set(e,s)}class OT{constructor(){this.activeTargetIds=KU()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sB{constructor(){this.xo=new OT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new OT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class PT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(kT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function Yv(){return lm===null?lm=function(){return 268435456+Math.round(2147483648*Math.random())}():lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="RestConnection",iB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aB{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===ap?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,o){const c=Yv(),u=this.jo(e,n.toUriEncodedString());Te(V0,`Sending RPC '${e}' ${c}:`,u,s);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,o);const{host:m}=new URL(u),y=df(m);return this.Jo(e,u,h,s,y).then(v=>(Te(V0,`Received RPC '${e}' ${c}: `,v),v),v=>{throw bc(V0,`RPC '${e}' ${c} failed with error: `,v,"url: ",u,"request:",s),v})}Yo(e,n,s,i,o,c){return this.zo(e,n,s,i,o)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),s&&s.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const s=iB[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class lB extends aB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,o){const c=Yv();return new Promise((u,h)=>{const m=new wC;m.setWithCredentials(!0),m.listenOnce(_C.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Nm.NO_ERROR:const v=m.getResponseJson();Te(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),u(v);break;case Nm.TIMEOUT:Te(On,`RPC '${e}' ${c} timed out`),h(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const b=m.getStatus();if(Te(On,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const N=function(O){const P=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(P)>=0?P:ue.UNKNOWN}(T.status);h(new Se(N,T.message))}else h(new Se(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Te(On,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(i);Te(On,`RPC '${e}' ${c} sending request:`,i),m.send(n,"POST",y,s,15)})}T_(e,n,s){const i=Yv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=SC(),u=TC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const y=o.join("");Te(On,`Creating RPC '${e}' stream ${i}: ${y}`,h);const v=c.createWebChannel(y,h);let b=!1,_=!1;const T=new oB({Zo:I=>{_?Te(On,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(b||(Te(On,`Opening RPC '${e}' stream ${i} transport.`),v.open(),b=!0),Te(On,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Xo:()=>v.close()}),N=(I,O,P)=>{I.listen(O,R=>{try{P(R)}catch($){setTimeout(()=>{throw $},0)}})};return N(v,ld.EventType.OPEN,()=>{_||(Te(On,`RPC '${e}' stream ${i} transport opened.`),T.__())}),N(v,ld.EventType.CLOSE,()=>{_||(_=!0,Te(On,`RPC '${e}' stream ${i} transport closed`),T.u_())}),N(v,ld.EventType.ERROR,I=>{_||(_=!0,bc(On,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),T.u_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))}),N(v,ld.EventType.MESSAGE,I=>{var O;if(!_){const P=I.data[0];pt(!!P,16349);const R=P,$=(R==null?void 0:R.error)||((O=R[0])===null||O===void 0?void 0:O.error);if($){Te(On,`RPC '${e}' stream ${i} received error:`,$);const B=$.status;let q=function(M){const V=Zt[M];if(V!==void 0)return aN(V)}(B),D=$.message;q===void 0&&(q=ue.INTERNAL,D="Unknown error status: "+B+" with message "+$.message),_=!0,T.u_(new Se(q,D)),v.close()}else Te(On,`RPC '${e}' stream ${i} received:`,P),T.c_(P)}}),N(u,EC.STAT_EVENT,I=>{I.stat===Pv.PROXY?Te(On,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Pv.NOPROXY&&Te(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function L0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new fF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,s=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-s);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class wN{constructor(e,n,s,i,o,c,u,h){this.xi=e,this.y_=s,this.w_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new bN(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.S_===n&&this.K_(s,i)},s=>{e(()=>{const i=new Se(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(i)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.W_(i))}),this.stream.onMessage(i=>{s(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Te(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Te(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cB extends wN{constructor(e,n,s,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,c),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=pF(this.serializer,e),s=function(o){if(!("targetChange"in o))return $e.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Yr(c.readTime):$e.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Gv(this.serializer),n.addTarget=function(o,c){let u;const h=c.target;if(u=Bv(h)?{documents:vF(o,h)}:{query:xF(o,h).gt},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=cN(o,c.resumeToken);const m=Hv(o,c.expectedCount);m!==null&&(u.expectedCount=m)}else if(c.snapshotVersion.compareTo($e.min())>0){u.readTime=fp(o,c.snapshotVersion.toTimestamp());const m=Hv(o,c.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const s=wF(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Gv(this.serializer),n.removeTarget=e,this.L_(n)}}class uB extends wN{constructor(e,n,s,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=yF(e.writeResults,e.commitTime),s=Yr(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Gv(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>gF(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{}class fB extends dB{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,$v(n,s),i,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ue.UNKNOWN,o.toString())})}Yo(e,n,s,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Yo(e,$v(n,s),i,c,u,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class hB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Fi(n),this.oa=!1):Te("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class mB{constructor(e,n,s,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{s.enqueueAndForget(async()=>{tl(this)&&(Te(Ko,"Restarting streams for network reachability change."),await async function(h){const m=qe(h);m.Ta.add(4),await wf(m),m.da.set("Unknown"),m.Ta.delete(4),await Gp(m)}(this))})}),this.da=new hB(s,i)}}async function Gp(t){if(tl(t))for(const e of t.Ia)await e(!0)}async function wf(t){for(const e of t.Ia)await e(!1)}function _N(t,e){const n=qe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),F1(n)?U1(n):Fc(n).M_()&&L1(n,e))}function V1(t,e){const n=qe(t),s=Fc(n);n.Pa.delete(e),s.M_()&&EN(n,e),n.Pa.size===0&&(s.M_()?s.N_():tl(n)&&n.da.set("Unknown"))}function L1(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).H_(e)}function EN(t,e){t.Aa.Ke(e),Fc(t).J_(e)}function U1(t){t.Aa=new lF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.da._a()}function F1(t){return tl(t)&&!Fc(t).F_()&&t.Pa.size>0}function tl(t){return qe(t).Ta.size===0}function TN(t){t.Aa=void 0}async function pB(t){t.da.set("Online")}async function gB(t){t.Pa.forEach((e,n)=>{L1(t,e)})}async function yB(t,e){TN(t),F1(t)?(t.da.ca(e),U1(t)):t.da.set("Unknown")}async function vB(t,e,n){if(t.da.set("Online"),e instanceof lN&&e.state===2&&e.cause)try{await async function(i,o){const c=o.cause;for(const u of o.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Pa.delete(u),i.Aa.removeTarget(u))}(t,e)}catch(s){Te(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mp(t,s)}else if(e instanceof jm?t.Aa.Xe(e):e instanceof oN?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual($e.min()))try{const s=await xN(t.localStore);n.compareTo(s)>=0&&await function(o,c){const u=o.Aa.It(c);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Pa.get(m);y&&o.Pa.set(m,y.withResumeToken(h.resumeToken,c))}}),u.targetMismatches.forEach((h,m)=>{const y=o.Pa.get(h);if(!y)return;o.Pa.set(h,y.withResumeToken(Rn.EMPTY_BYTE_STRING,y.snapshotVersion)),EN(o,h);const v=new Ia(y.target,h,m,y.sequenceNumber);L1(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(s){Te(Ko,"Failed to raise snapshot:",s),await mp(t,s)}}async function mp(t,e,n){if(!Uc(e))throw e;t.Ta.add(1),await wf(t),t.da.set("Offline"),n||(n=()=>xN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(Ko,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Gp(t)})}function SN(t,e){return e().catch(n=>mp(t,n,e))}async function Kp(t){const e=qe(t),n=$a(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:E1;for(;xB(e);)try{const i=await eB(e.localStore,s);if(i===null){e.ha.length===0&&n.N_();break}s=i.batchId,bB(e,i)}catch(i){await mp(e,i)}AN(e)&&CN(e)}function xB(t){return tl(t)&&t.ha.length<10}function bB(t,e){t.ha.push(e);const n=$a(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function AN(t){return tl(t)&&!$a(t).F_()&&t.ha.length>0}function CN(t){$a(t).start()}async function wB(t){$a(t).ta()}async function _B(t){const e=$a(t);for(const n of t.ha)e.Z_(n.mutations)}async function EB(t,e,n){const s=t.ha.shift(),i=I1.from(s,e,n);await SN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kp(t)}async function TB(t,e){e&&$a(t).Y_&&await async function(s,i){if(function(c){return aF(c)&&c!==ue.ABORTED}(i.code)){const o=s.ha.shift();$a(s).O_(),await SN(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kp(s)}}(t,e),AN(t)&&CN(t)}async function LT(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(Ko,"RemoteStore received new credentials");const s=tl(n);n.Ta.add(3),await wf(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Gp(n)}async function SB(t,e){const n=qe(t);e?(n.Ta.delete(2),await Gp(n)):e||(n.Ta.add(2),await wf(n),n.da.set("Unknown"))}function Fc(t){return t.Ra||(t.Ra=function(n,s,i){const o=qe(n);return o.ra(),new cB(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:pB.bind(null,t),n_:gB.bind(null,t),i_:yB.bind(null,t),j_:vB.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),F1(t)?U1(t):t.da.set("Unknown")):(await t.Ra.stop(),TN(t))})),t.Ra}function $a(t){return t.Va||(t.Va=function(n,s,i){const o=qe(n);return o.ra(),new uB(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:wB.bind(null,t),i_:TB.bind(null,t),X_:_B.bind(null,t),ea:EB.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Kp(t)):(await t.Va.stop(),t.ha.length>0&&(Te(Ko,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,o){const c=Date.now()+s,u=new B1(e,n,c,i,o);return u.start(s),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z1(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),Uc(t))return new Se(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(e){return new dc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Oe.comparator(n.key,s.key):(n,s)=>Oe.comparator(n.key,s.key),this.keyedMap=cd(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.ma=new Vt(Oe.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class Sc{constructor(e,n,s,i,o,c,u,h,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,i,o){const c=[];return n.forEach(u=>{c.push({type:0,doc:u})}),new Sc(e,n,dc.emptySet(n),c,s,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class CB{constructor(){this.queries=FT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const i=qe(n),o=i.queries;i.queries=FT(),o.forEach((c,u)=>{for(const h of u.ya)h.onError(s)})})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function FT(){return new el(t=>KC(t),Fp)}async function NN(t,e){const n=qe(t);let s=3;const i=e.query;let o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(s=2):(o=new AB,s=e.Sa()?0:1);try{switch(s){case 0:o.pa=await n.onListen(i,!0);break;case 1:o.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=z1(c,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&H1(n)}async function RN(t,e){const n=qe(t),s=e.query;let i=3;const o=n.queries.get(s);if(o){const c=o.ya.indexOf(e);c>=0&&(o.ya.splice(c,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function NB(t,e){const n=qe(t);let s=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const u of c.ya)u.va(i)&&(s=!0);c.pa=i}}s&&H1(n)}function RB(t,e,n){const s=qe(t),i=s.queries.get(e);if(i)for(const o of i.ya)o.onError(n);s.queries.delete(e)}function H1(t){t.ba.forEach(e=>{e.next()})}var Wv,BT;(BT=Wv||(Wv={})).Ca="default",BT.Cache="cache";class IN{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Sc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Wv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.key=e}}class jN{constructor(e){this.key=e}}class IB{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=st(),this.mutatedKeys=st(),this.Ha=YC(e),this.Ja=new dc(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new UT,i=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,v)=>{const b=i.get(y),_=Bp(this.query,v)?v:null,T=!!b&&this.mutatedKeys.has(b.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;b&&_?b.data.isEqual(_.data)?T!==N&&(s.track({type:3,doc:_}),I=!0):this.eu(b,_)||(s.track({type:2,doc:_}),I=!0,(h&&this.Ha(_,h)>0||m&&this.Ha(_,m)<0)&&(u=!0)):!b&&_?(s.track({type:0,doc:_}),I=!0):b&&!_&&(s.track({type:1,doc:b}),I=!0,(h||m)&&(u=!0)),I&&(_?(c=c.add(_),o=N?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),s.track({type:1,doc:y})}return{Ja:c,Xa:s,Cs:u,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,v)=>function(_,T){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:I})}};return N(_)-N(T)}(y.type,v.type)||this.Ha(y.doc,v.doc)),this.tu(s),i=i!=null&&i;const u=n&&!i?this.nu():[],h=this.ja.size===0&&this.current&&!i?1:0,m=h!==this.za;return this.za=h,c.length!==0||m?{snapshot:new Sc(this.query,e.Ja,o,c,e.mutatedKeys,h===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new UT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=st(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new jN(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new DN(s))}),n}su(e){this.Ga=e.$s,this.ja=st();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Sc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const $1="SyncEngine";class DB{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class jB{constructor(e){this.key=e,this._u=!1}}class MB{constructor(e,n,s,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new el(u=>KC(u),Fp),this.cu=new Map,this.lu=new Set,this.hu=new Vt(Oe.comparator),this.Pu=new Map,this.Tu=new M1,this.Iu={},this.Eu=new Map,this.du=Tc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function OB(t,e,n=!0){const s=LN(t);let i;const o=s.uu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await MN(s,e,n,!0),i}async function kB(t,e){const n=LN(t);await MN(n,e,!0,!1)}async function MN(t,e,n,s){const i=await tB(t.localStore,Kr(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let u;return s&&(u=await PB(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&_N(t.remoteStore,i),u}async function PB(t,e,n,s,i){t.Ru=(v,b,_)=>async function(N,I,O,P){let R=I.view.Za(O);R.Cs&&(R=await MT(N.localStore,I.query,!1).then(({documents:D})=>I.view.Za(D,R)));const $=P&&P.targetChanges.get(I.targetId),B=P&&P.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(R,N.isPrimaryClient,$,B);return HT(N,I.targetId,q.ru),q.snapshot}(t,v,b,_);const o=await MT(t.localStore,e,!0),c=new IB(e,o.$s),u=c.Za(o.documents),h=bf.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),m=c.applyChanges(u,t.isPrimaryClient,h);HT(t,n,m.ru);const y=new DB(e,n,c);return t.uu.set(e,y),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),m.snapshot}async function VB(t,e,n){const s=qe(t),i=s.uu.get(e),o=s.cu.get(i.targetId);if(o.length>1)return s.cu.set(i.targetId,o.filter(c=>!Fp(c,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Kv(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&V1(s.remoteStore,i.targetId),Xv(s,i.targetId)}).catch(Lc)):(Xv(s,i.targetId),await Kv(s.localStore,i.targetId,!0))}async function LB(t,e){const n=qe(t),s=n.uu.get(e),i=n.cu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),V1(n.remoteStore,s.targetId))}async function UB(t,e,n){const s=GB(t);try{const i=await function(c,u){const h=qe(c),m=ln.now(),y=u.reduce((_,T)=>_.add(T.key),st());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=Bi(),N=st();return h.Bs.getEntries(_,y).next(I=>{T=I,T.forEach((O,P)=>{P.isValidDocument()||(N=N.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,T)).next(I=>{v=I;const O=[];for(const P of u){const R=tF(P,v.get(P.key).overlayedDocument);R!=null&&O.push(new Qa(P.key,R,UC(R.value.mapValue),ur.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,O,u)}).next(I=>{b=I;const O=I.applyToLocalDocumentSet(v,N);return h.documentOverlayCache.saveOverlays(_,I.batchId,O)})}).then(()=>({batchId:b.batchId,changes:XC(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(c,u,h){let m=c.Iu[c.currentUser.toKey()];m||(m=new Vt(Xe)),m=m.insert(u,h),c.Iu[c.currentUser.toKey()]=m}(s,i.batchId,n),await _f(s,i.changes),await Kp(s.remoteStore)}catch(i){const o=z1(i,"Failed to persist write");n.reject(o)}}async function ON(t,e){const n=qe(t);try{const s=await ZF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const c=n.Pu.get(o);c&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c._u=!0:i.modifiedDocuments.size>0?pt(c._u,14607):i.removedDocuments.size>0&&(pt(c._u,42227),c._u=!1))}),await _f(n,s,e)}catch(s){await Lc(s)}}function zT(t,e,n){const s=qe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.uu.forEach((o,c)=>{const u=c.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(c,u){const h=qe(c);h.onlineState=u;let m=!1;h.queries.forEach((y,v)=>{for(const b of v.ya)b.Da(u)&&(m=!0)}),m&&H1(h)}(s.eventManager,e),i.length&&s.au.j_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FB(t,e,n){const s=qe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Pu.get(e),o=i&&i.key;if(o){let c=new Vt(Oe.comparator);c=c.insert(o,Ln.newNoDocument(o,$e.min()));const u=st().add(o),h=new $p($e.min(),new Map,new Vt(Xe),c,u);await ON(s,h),s.hu=s.hu.remove(o),s.Pu.delete(e),q1(s)}else await Kv(s.localStore,e,!1).then(()=>Xv(s,e,n)).catch(Lc)}async function BB(t,e){const n=qe(t),s=e.batch.batchId;try{const i=await QF(n.localStore,e);PN(n,s,null),kN(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _f(n,i)}catch(i){await Lc(i)}}async function zB(t,e,n){const s=qe(t);try{const i=await function(c,u){const h=qe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,u).next(v=>(pt(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(s.localStore,e);PN(s,e,n),kN(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _f(s,i)}catch(i){await Lc(i)}}function kN(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function PN(t,e,n){const s=qe(t);let i=s.Iu[s.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),s.Iu[s.currentUser.toKey()]=i}}function Xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.cu.get(e))t.uu.delete(s),n&&t.au.Vu(s,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(s=>{t.Tu.containsKey(s)||VN(t,s)})}function VN(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(V1(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),q1(t))}function HT(t,e,n){for(const s of n)s instanceof DN?(t.Tu.addReference(s.key,e),HB(t,s)):s instanceof jN?(Te($1,"Document no longer in limbo: "+s.key),t.Tu.removeReference(s.key,e),t.Tu.containsKey(s.key)||VN(t,s.key)):Ue(19791,{mu:s})}function HB(t,e){const n=e.key,s=n.path.canonicalString();t.hu.get(n)||t.lu.has(s)||(Te($1,"New document in limbo: "+n),t.lu.add(s),q1(t))}function q1(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Oe(Rt.fromString(e)),s=t.du.next();t.Pu.set(s,new jB(n)),t.hu=t.hu.insert(n,s),_N(t.remoteStore,new Ia(Kr(N1(n.path)),s,"TargetPurposeLimboResolution",Vp.le))}}async function _f(t,e,n){const s=qe(t),i=[],o=[],c=[];s.uu.isEmpty()||(s.uu.forEach((u,h)=>{c.push(s.Ru(h,e,n).then(m=>{var y;if((m||n)&&s.isPrimaryClient){const v=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){i.push(m);const v=k1.Rs(h.targetId,m);o.push(v)}}))}),await Promise.all(c),s.au.j_(i),await async function(h,m){const y=qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(m,b=>de.forEach(b.ds,_=>y.persistence.referenceDelegate.addReference(v,b.targetId,_)).next(()=>de.forEach(b.As,_=>y.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))}catch(v){if(!Uc(v))throw v;Te(P1,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const _=y.xs.get(b),T=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(T);y.xs=y.xs.insert(b,N)}}}(s.localStore,o))}async function $B(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te($1,"User change. New user:",e.toKey());const s=await vN(n.localStore,e);n.currentUser=e,function(o,c){o.Eu.forEach(u=>{u.forEach(h=>{h.reject(new Se(ue.CANCELLED,c))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _f(n,s.ks)}}function qB(t,e){const n=qe(t),s=n.Pu.get(e);if(s&&s._u)return st().add(s.key);{let i=st();const o=n.cu.get(e);if(!o)return i;for(const c of o){const u=n.uu.get(c);i=i.unionWith(u.view.Ya)}return i}}function LN(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ON.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FB.bind(null,e),e.au.j_=NB.bind(null,e.eventManager),e.au.Vu=RB.bind(null,e.eventManager),e}function GB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zB.bind(null,e),e}class pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return XF(this.persistence,new KF,e.initialUser,this.serializer)}yu(e){return new yN(O1.fi,this.serializer)}pu(e){return new sB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pp.provider={build:()=>new pp};class KB extends pp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){pt(this.persistence.referenceDelegate instanceof hp,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jF(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new yN(s=>hp.fi(s,n),this.serializer)}}class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$B.bind(null,this.syncEngine),await SB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CB}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),s=function(o){return new lB(o)}(e.databaseInfo);return function(o,c,u,h){return new fB(o,c,u,h)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,o,c,u){return new mB(s,i,o,c,u)}(this.localStore,this.datastore,e.asyncQueue,n=>zT(this.syncEngine,n,0),function(){return PT.C()?new PT:new rB}())}createSyncEngine(e,n){return function(i,o,c,u,h,m,y){const v=new MB(i,o,c,u,h,m);return y&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=qe(i);Te(Ko,"RemoteStore shutting down."),o.Ta.add(5),await wf(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class YB{constructor(e,n,s,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=RC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async c=>{Te(qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Te(qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=z1(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function U0(t,e){t.asyncQueue.verifyOperationInProgress(),Te(qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await vN(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WB(t);Te(qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>LT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>LT(e.remoteStore,i)),t._onlineComponents=e}async function WB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(qa,"Using user provided OfflineComponentProvider");try{await U0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bc("Error using user provided cache. Falling back to memory cache: "+n),await U0(t,new pp)}}else Te(qa,"Using default OfflineComponentProvider"),await U0(t,new KB(void 0));return t._offlineComponents}async function FN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(qa,"Using user provided OnlineComponentProvider"),await $T(t,t._uninitializedComponentsProvider._online)):(Te(qa,"Using default OnlineComponentProvider"),await $T(t,new Qv))),t._onlineComponents}function XB(t){return FN(t).then(e=>e.syncEngine)}async function BN(t){const e=await FN(t),n=e.eventManager;return n.onListen=OB.bind(null,e.syncEngine),n.onUnlisten=VB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LB.bind(null,e.syncEngine),n}function QB(t,e,n={}){const s=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,u,h,m){const y=new UN({next:b=>{y.Cu(),c.enqueueAndForget(()=>RN(o,v));const _=b.docs.has(u);!_&&b.fromCache?m.reject(new Se(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?m.reject(new Se(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new IN(N1(u.path),y,{includeMetadataChanges:!0,La:!0});return NN(o,v)}(await BN(t),t.asyncQueue,e,n,s)),s.promise}function ZB(t,e,n={}){const s=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,u,h,m){const y=new UN({next:b=>{y.Cu(),c.enqueueAndForget(()=>RN(o,v)),b.fromCache&&h.source==="server"?m.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new IN(u,y,{includeMetadataChanges:!0,La:!0});return NN(o,v)}(await BN(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e,n){if(!n)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JB(t,e,n,s){if(e===!0&&s===!0)throw new Se(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GT(t){if(!Oe.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KT(t){if(Oe.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(t);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ez(t,e){if(e<=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firestore.googleapis.com",YT=!0;class WT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$N,this.ssl=YT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IF)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zN((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wp{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aU;switch(s.type){case"firstParty":return new uU(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Mp("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qT.get(n);s&&(Te("ComponentProvider","Removing Datastore"),qT.delete(n),s.terminate())}(this),Promise.resolve()}}function tz(t,e,n,s={}){var i;t=Zr(t,Wp);const o=df(e),c=t._getSettings(),u=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;c.host!==$N&&c.host!==h&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:h,ssl:o,emulatorOptions:s});if(!zo(m,u)&&(t._setSettings(m),o&&(M6(`https://${h}`),Mp("Firestore",!0)),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=Vn.MOCK_USER;else{y=mP(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vn(b)}t._authCredentials=new oU(new CC(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class es{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new es(this.firestore,e,this._key)}}class ka extends nl{constructor(e,n,s){super(e,n,N1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new es(this.firestore,null,new Oe(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function sl(t,e,...n){if(t=un(t),HN("collection","path",e),t instanceof Wp){const s=Rt.fromString(e,...n);return KT(s),new ka(t,null,s)}{if(!(t instanceof es||t instanceof ka))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Rt.fromString(e,...n));return KT(s),new ka(t.firestore,null,s)}}function Bt(t,e,...n){if(t=un(t),arguments.length===1&&(e=RC.newId()),HN("doc","path",e),t instanceof Wp){const s=Rt.fromString(e,...n);return GT(s),new es(t,null,new Oe(s))}{if(!(t instanceof es||t instanceof ka))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Rt.fromString(e,...n));return GT(s),new es(t.firestore,t instanceof ka?t.converter:null,new Oe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="AsyncQueue";class QT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new bN(this,"async_queue_retry"),this.ec=()=>{const s=L0();s&&Te(XT,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=L0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=L0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Oi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Uc(e))throw e;Te(XT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Fi("INTERNAL UNHANDLED ERROR: ",ZT(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=B1.createAndSchedule(this,e,n,s,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&Ue(47125,{_c:ZT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function ZT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bc extends Wp{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new QT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QT(e),this._firestoreClient=void 0,await e}}}function nz(t,e){const n=typeof t=="object"?t:V6(),s=typeof t=="string"?t:ap,i=f1(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const o=fP("firestore");o&&tz(i,...o)}return i}function G1(t){if(t._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sz(t),t._firestoreClient}function sz(t){var e,n,s;const i=t._freezeSettings(),o=function(u,h,m,y){return new SU(u,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zN(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YB(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(Rn.fromBase64String(e))}catch(n){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ac(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=/^__.*__$/;class iz{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}class qN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{hc:t})}}class W1{constructor(e,n,s,i,o,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new W1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:s,Ec:!1});return i.dc(e),i}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:s,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return gp(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(GN(this.hc)&&rz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class az{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qp(e)}gc(e,n,s,i=!1){return new W1({hc:e,methodName:n,fc:s,path:Nn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new az(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KN(t,e,n,s,i,o={}){const c=t.gc(o.merge||o.mergeFields?2:0,e,n,i);Q1("Data must be an object, but it was:",c,s);const u=YN(s,c);let h,m;if(o.merge)h=new ws(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=Zv(e,v,n);if(!c.contains(b))throw new Se(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XN(y,b)||y.push(b)}h=new ws(y),m=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=c.fieldTransforms;return new iz(new ls(u),h,m)}class Jp extends Qp{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jp}}class X1 extends Qp{_toFieldTransform(e){return new QU(e.path,new Kd)}isEqual(e){return e instanceof X1}}function oz(t,e,n,s){const i=t.gc(1,e,n);Q1("Data must be an object, but it was:",i,s);const o=[],c=ls.empty();Xa(s,(h,m)=>{const y=Z1(e,h,n);m=un(m);const v=i.Ac(y);if(m instanceof Jp)o.push(y);else{const b=Ef(m,v);b!=null&&(o.push(y),c.set(y,b))}});const u=new ws(o);return new qN(c,u,i.fieldTransforms)}function lz(t,e,n,s,i,o){const c=t.gc(1,e,n),u=[Zv(e,s,n)],h=[i];if(o.length%2!=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)u.push(Zv(e,o[b])),h.push(o[b+1]);const m=[],y=ls.empty();for(let b=u.length-1;b>=0;--b)if(!XN(m,u[b])){const _=u[b];let T=h[b];T=un(T);const N=c.Ac(_);if(T instanceof Jp)m.push(_);else{const I=Ef(T,N);I!=null&&(m.push(_),y.set(_,I))}}const v=new ws(m);return new qN(y,v,c.fieldTransforms)}function cz(t,e,n,s=!1){return Ef(n,t.gc(s?4:3,e))}function Ef(t,e){if(WN(t=un(t)))return Q1("Unsupported field value:",e,t),YN(t,e);if(t instanceof Qp)return function(s,i){if(!GN(i.hc))throw i.Vc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,i){const o=[];let c=0;for(const u of s){let h=Ef(u,i.Rc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(t,e)}return function(s,i){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YU(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=ln.fromDate(s);return{timestampValue:fp(i.serializer,o)}}if(s instanceof ln){const o=new ln(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fp(i.serializer,o)}}if(s instanceof K1)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ac)return{bytesValue:cN(i.serializer,s._byteString)};if(s instanceof es){const o=i.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw i.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j1(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Y1)return function(c,u){return{mapValue:{fields:{[VC]:{stringValue:LC},[op]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw u.Vc("VectorValues must only contain numeric values.");return R1(u.serializer,m)})}}}}}}(s,i);throw i.Vc(`Unsupported field value: ${Yp(s)}`)}(t,e)}function YN(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(s,i)=>{const o=Ef(i,e.Ic(s));o!=null&&(n[s]=o)}),{mapValue:{fields:n}}}function WN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof K1||t instanceof Ac||t instanceof es||t instanceof Qp||t instanceof Y1)}function Q1(t,e,n){if(!WN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Yp(n);throw s==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+s)}}function Zv(t,e,n){if((e=un(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return Z1(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const uz=new RegExp("[~\\*/\\[\\]]");function Z1(t,e,n){if(e.search(uz)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,s,i){const o=s&&!s.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${s}`),c&&(h+=` in document ${i}`),h+=")"),new Se(ue.INVALID_ARGUMENT,u+t+h)}function XN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,s,i,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(J1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dz extends QN{data(){return super.data()}}function J1(t,e){return typeof e=="string"?Z1(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eb{}class ZN extends eb{}function zc(t,e,...n){let s=[];e instanceof eb&&s.push(e),s=s.concat(n),function(o){const c=o.filter(h=>h instanceof tb).length,u=o.filter(h=>h instanceof eg).length;if(c>1||c>0&&u>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class eg extends ZN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new eg(e,n,s)}_apply(e){const n=this._parse(e);return JN(e._query,n),new nl(e.firestore,e.converter,zv(e._query,n))}_parse(e){const n=Zp(e.firestore);return function(o,c,u,h,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){eS(v,y);const T=[];for(const N of v)T.push(JT(h,o,N));b={arrayValue:{values:T}}}else b=JT(h,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||eS(v,y),b=cz(u,c,v,y==="in"||y==="not-in");return en.create(m,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zi(t,e,n){const s=e,i=J1("where",t);return eg._create(i,s,n)}class tb extends eb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tb(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let c=i;const u=o.getFlattenedFilters();for(const h of u)JN(c,h),c=zv(c,h)}(e._query,n),new nl(e.firestore,e.converter,zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nb extends ZN{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new nb(e,n,s)}_apply(e){return new nl(e.firestore,e.converter,up(e._query,this._limit,this._limitType))}}function hz(t){return ez("limit",t),nb._create("limit",t,"F")}function JT(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GC(e)&&n.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Rt.fromString(n));if(!Oe.isDocumentKey(s))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mT(t,new Oe(s))}if(n instanceof es)return mT(t,n._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function eS(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JN(t,e){const n=function(i,o){for(const c of i)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mz{convertValue(e,n="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xa(e,(i,o)=>{s[i]=this.convertValue(o,n)}),s}convertVectorValue(e){var n,s,i;const o=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[op].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(c=>Gt(c.doubleValue));return new Y1(o)}convertGeoPoint(e){return new K1(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Up(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Rt.fromString(e);pt(pN(s),9688,{name:e});const i=new qd(s.get(1),s.get(3)),o=new Oe(s.popFirst(5));return i.isEqual(n)||Fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tR extends QN{constructor(e,n,s,i,o,c){super(e,n,s,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(J1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mm extends tR{data(e={}){return super.data(e)}}class pz{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dd(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mm(this._firestore,this._userDataWriter,s.key,s,new dd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(u=>{const h=new Mm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Mm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return u.type!==0&&(m=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),y=c.indexOf(u.doc.key)),{type:gz(u.type),doc:h,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){t=Zr(t,es);const e=Zr(t.firestore,Bc);return QB(G1(e),t._key).then(n=>vz(e,t,n))}class nR extends mz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}function Hc(t){t=Zr(t,nl);const e=Zr(t.firestore,Bc),n=G1(e),s=new nR(e);return fz(t._query),ZB(n,t._query).then(i=>new pz(e,s,t,i))}function sb(t,e,n){t=Zr(t,es);const s=Zr(t.firestore,Bc),i=eR(t.converter,e,n);return rb(s,[KN(Zp(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function tg(t,e,n,...s){t=Zr(t,es);const i=Zr(t.firestore,Bc),o=Zp(i);let c;return c=typeof(e=un(e))=="string"||e instanceof Xp?lz(o,"updateDoc",t._key,e,n,s):oz(o,"updateDoc",t._key,e),rb(i,[c.toMutation(t._key,ur.exists(!0))])}function yz(t,e){const n=Zr(t.firestore,Bc),s=Bt(t),i=eR(t.converter,e);return rb(n,[KN(Zp(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,ur.exists(!1))]).then(()=>s)}function rb(t,e){return function(s,i){const o=new Oi;return s.asyncQueue.enqueueAndForget(async()=>UB(await XB(s),i,o)),o.promise}(G1(t),e)}function vz(t,e,n){const s=n.docs.get(e._key),i=new nR(t);return new tR(t,i,e._key,s,new dd(n.hasPendingWrites,n.fromCache),e.converter)}function Xd(){return new X1("serverTimestamp")}(function(e,n=!0){(function(i){Vc=i})(kc),vc(new Ho("firestore",(s,{instanceIdentifier:i,options:o})=>{const c=s.getProvider("app").getImmediate(),u=new Bc(new lU(s.getProvider("auth-internal")),new dU(c,s.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(m.options.projectId,y)}(c,i),c);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ma(nT,sT,e),Ma(nT,sT,"esm2017")})();const xz={apiKey:"AIzaSyDpeisD1tArmExEdsn46D2QbOZWz_XSCr0",authDomain:"healsync-801eb.firebaseapp.com",projectId:"healsync-801eb",storageBucket:"healsync-801eb.firebasestorage.app",messagingSenderId:"702905905248",appId:"1:702905905248:web:dcfdd9933dac76c9475305"},sR=P6(xz),Fr=rU(sR),Tt=nz(sR);function bz(){const t="BCDFGHJKLMNPQRSTVWXYZ",e="AEIOU";let n="";for(let i=0;i<4;i++)i%2===0?n+=t[Math.floor(Math.random()*t.length)]:n+=e[Math.floor(Math.random()*e.length)];const s=Math.floor(1e3+Math.random()*9e3);return`DR-${n}-${s}`}async function wz(t){try{const e=sl(Tt,"users"),n=zc(e,zi("doctorId","==",t));return!(await Hc(n)).empty}catch(e){throw console.error("Error checking doctor ID:",e),e}}async function _z(){let t,e=0;const n=10;do if(t=bz(),e++,e>=n)throw new Error("Unable to generate unique doctor ID after multiple attempts");while(await wz(t));return t}function Ez(t){return/^DR-[BCDFGHJKLMNPQRSTVWXYZAEIOU]{4}-\d{4}$/.test(t)}async function Tz(t){try{if(!Ez(t))throw new Error("Invalid doctor ID format");const e=sl(Tt,"users"),n=zc(e,zi("doctorId","==",t),zi("role","==","doctor")),s=await Hc(n);if(s.empty)return null;const i=s.docs[0];return{id:i.id,...i.data()}}catch(e){throw console.error("Error finding doctor by ID:",e),e}}async function Sz(t,e){try{const n=t.split("_");if(n.length!==2)return{success:!1,error:"Invalid share link format."};const[s,i]=n;if(s!==e)return{success:!1,error:"You are not authorized to view this patient's profile."};const o=Bt(Tt,"shared_profiles",t),c=await $n(o);if(!c.exists())return{success:!1,error:"Shared profile not found."};const u=c.data();return u.doctorId!==e?{success:!1,error:"You are not authorized to view this patient's profile."}:u.status!=="active"?{success:!1,error:"This patient profile is no longer shared with you."}:{success:!0,data:u}}catch(n){return console.error("Error fetching shared profile record:",n),{success:!1,error:"Failed to load patient profile. Please try again."}}}async function Az(t){try{const e=Bt(Tt,"users",t),n=await $n(e);if(n.exists()){const s=n.data();return{success:!0,data:{name:s.name||"Unknown Patient",email:s.email||""}}}else return{success:!1,error:"Patient information not found."}}catch(e){return console.error("Error fetching patient basic info:",e),{success:!1,error:"Failed to load patient information."}}}async function Cz(t){try{const e=sl(Tt,"shared_profiles"),n=zc(e,zi("doctorId","==",t),zi("status","==","active")),s=await Hc(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),{success:!0,data:i}}catch(e){return console.error("Error fetching shared profiles:",e),{success:!1,error:e.message}}}async function Nz(t){try{const e=Bt(Tt,"userProfile",t),n=await $n(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"Patient profile not found."}}catch(e){return console.error("Error fetching patient profile:",e),{success:!1,error:"Failed to load patient profile."}}}async function Rz(t,e,n){try{const s=`${t}_${e}`,i=Bt(Tt,"shared_profiles",s),o=await $n(i);if(!o.exists())return{success:!1,error:"You don't have access to this patient's profile."};const c=o.data();if(c.status!=="active"||c.doctorId!==t)return{success:!1,error:"Your access to this patient's profile has been revoked or is invalid."};const u=Bt(Tt,"users",t),h=await $n(u);if(!h.exists())return{success:!1,error:"Doctor information not found."};const m=h.data(),y={patientId:e,doctorId:t,doctorIdCode:c.doctorIdCode,doctorName:c.doctorName||m.name,visitDate:n.visitDate,symptoms:n.symptoms||[],diagnosis:n.diagnosis||"",medicines:n.medicines||[],prescribedTests:n.prescribedTests||[],followUpNotes:n.followUpNotes||"",...n.fileName&&{fileName:n.fileName,fileType:n.fileType,fileUrl:n.fileUrl},createdAt:Xd(),lastModifiedAt:Xd(),createdBy:t,shareRecordId:s,isActive:!0},v=sl(Tt,"medicalRecords");return{success:!0,recordId:(await yz(v,y)).id,message:"Medical record added successfully."}}catch(s){return console.error("Error adding medical record:",s),{success:!1,error:"Failed to add medical record. Please try again."}}}async function Iz(t,e,n){try{const s=Bt(Tt,"medicalRecords",t),i=await $n(s);if(!i.exists())return{success:!1,error:"Medical record not found."};const o=i.data(),c=Bt(Tt,"shared_profiles",o.shareRecordId),u=await $n(c);if(!u.exists()||u.data().status!=="active")return{success:!1,error:"You don't have access to this patient's profile."};if(o.createdBy!==e)return{success:!1,error:"You can only update medical records you created."};const h=o.createdAt;let m;if(h&&h.seconds)m=h.seconds*1e3;else if(typeof h=="number")m=h;else return{success:!1,error:"Cannot verify record creation time. Update not allowed."};const y=Date.now(),v=30*60*1e3;if(y-m>v)return{success:!1,error:"Medical record cannot be updated after 30 minutes of creation."};const b={...n,lastModifiedAt:Xd()};return await tg(s,b),{success:!0,message:"Medical record updated successfully."}}catch(s){return console.error("Error updating medical record:",s),{success:!1,error:"Failed to update medical record."}}}async function Dz(t,e,n=null,s=20){try{const i=`${t}_${e}`,o=Bt(Tt,"shared_profiles",i),c=await $n(o);if(!c.exists()||c.data().status!=="active")return{success:!1,error:"You don't have access to this patient's profile."};const u=sl(Tt,"medicalRecords"),h=zc(u,zi("patientId","==",e)),m=await Hc(h),y=[];m.forEach(T=>{y.push({id:T.id,...T.data()})});const v=y.filter(T=>T.isActive!==!1);v.sort((T,N)=>{var P,R,$,B;const I=new Date(T.visitDate||((R=(P=T.createdAt)==null?void 0:P.toDate)==null?void 0:R.call(P))||0);return new Date(N.visitDate||((B=($=N.createdAt)==null?void 0:$.toDate)==null?void 0:B.call($))||0)-I});const b=v.slice(0,s),_=v.length>s;return{success:!0,data:b,pagination:{hasMore:_,lastDoc:null,currentPageSize:b.length,requestedPageSize:s}}}catch(i){return console.error("Error fetching medical records:",i),{success:!1,error:"Failed to fetch medical records."}}}const rR=E.createContext(),jz=({children:t})=>{const[e,n]=E.useState(null),[s,i]=E.useState(null),[o,c]=E.useState(null),[u,h]=E.useState(!0);E.useEffect(()=>{const T=GV(Fr,async N=>{N?(n(N),await m(N.uid)):(n(null),i(null),c(null)),h(!1)});return()=>T()},[]);const m=async T=>{try{const N=Bt(Tt,"users",T),I=await $n(N);if(I.exists()){const O=I.data();i(O.role);const P=Bt(Tt,"userProfile",T),R=await $n(P);R.exists()?c({...O,...R.data()}):c(O)}}catch(N){console.error("Error fetching user profile:",N)}},y=async(T,N,I,O)=>{try{const P=await FV(Fr,N,I);await HV(P.user,{displayName:T});let R=null;O==="doctor"&&(R=await _z());const $=Bt(Tt,"users",P.user.uid),B={name:T,email:N,role:O,createdAt:new Date().toISOString(),onboardingCompleted:!1};return R&&(B.doctorId=R),await sb($,B),i(O),c({...B,onboardingCompleted:!1}),P}catch(P){throw console.error("Signup error:",P),P}},v=async(T,N)=>{try{return await BV(Fr,T,N)}catch(I){throw console.error("Login error:",I),I}},b=async()=>{await KV(Fr),n(null),i(null),c(null)},_=async()=>{e!=null&&e.uid&&await m(e.uid)};return f.jsx(rR.Provider,{value:{user:e,userRole:s,userProfile:o,loading:u,signup:y,login:v,logout:b,refreshUserProfile:_},children:t})},In=()=>E.useContext(rR),Yo=()=>{var I;const[t,e]=E.useState(localStorage.getItem("theme")||"light"),[n,s]=E.useState(!1),[i,o]=E.useState(!1),c=E.useRef(null),{user:u,userRole:h,logout:m}=In(),y=Xs(),{register:v,handleSubmit:b,reset:_}=A6();E.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t),localStorage.setItem("theme",t)},[t]),E.useEffect(()=>{const O=P=>{c.current&&!c.current.contains(P.target)&&o(!1)};return i?document.addEventListener("mousedown",O):document.removeEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[i]);const T=()=>{e(O=>O==="light"?"dark":"light")},N=async()=>{try{await m(),console.log("Logged out"),y("/login")}catch(O){console.log("Logout failed",O)}};return f.jsx("nav",{className:"w-full px-2 sm:px-4 text-text sticky top-3 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:`relative flex flex-row justify-between items-center gap-2 rounded-2xl 
          bg-white/70 dark:bg-black/70 
          supports-[backdrop-filter]:bg-white/50 dark:supports-[backdrop-filter]:bg-black/60 
          backdrop-blur border border-primary shadow-xl overflow-visible px-3 sm:px-4 py-2`,children:[f.jsx(Bn,{to:"/",children:f.jsx(ct.div,{className:"text-2xl font-bold text-primary",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:"HealSync"})}),f.jsxs(ct.div,{className:"flex flex-row items-center gap-2 sm:gap-6 w-auto",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[u?f.jsx("div",{className:"flex flex-row items-center gap-2 relative w-auto",children:f.jsxs("div",{className:"relative",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[f.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary text-background font-bold text-lg cursor-pointer",children:(I=u==null?void 0:u.displayName)==null?void 0:I.charAt(0).toUpperCase()}),f.jsx(Tx,{children:n&&f.jsxs(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-40 max-w-[80vw] sm:w-56 sm:max-w-xs rounded-xl shadow-2xl z-[100] p-2 sm:p-4 text-sm pointer-events-auto 
                        bg-white dark:bg-black border border-secondary/60`,style:{minWidth:"140px"},children:[f.jsx("div",{className:"font-semibold text-text mb-1 truncate",children:u==null?void 0:u.displayName}),f.jsx("div",{className:"text-xs text-gray-500 mb-3 capitalize truncate",children:h||"Loading..."}),f.jsx("button",{onClick:N,className:"w-full text-left px-3 py-2 rounded-md bg-accent text-background hover:opacity-90 transition",children:"Logout"})]})})]})}):f.jsxs("div",{className:"flex flex-row items-center gap-2 w-auto",children:[f.jsx(Bn,{to:"/signup",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-primary text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Sign Up"}),f.jsx(Bn,{to:"/login",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-accent text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Login"})]}),f.jsx("button",{onClick:T,className:"p-2 sm:p-2 rounded-full border border-gray-300 dark:border-gray-600 hover:scale-110 transition","aria-label":"Toggle Theme",children:t==="light"?f.jsx(Pk,{}):f.jsx(kk,{})})]})]})})})},ib=()=>{const t=E.useMemo(()=>new Date().getFullYear(),[]);return f.jsx("footer",{className:"w-full mt-10",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:f.jsxs("div",{className:"relative rounded-2xl px-5 md:px-8 py-8 md:py-10 glass-elevated overflow-hidden",children:[f.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.35] bg-gradient-to-br from-primary/25 via-accent/10 to-transparent"}),f.jsxs("div",{className:"relative flex flex-col gap-6 md:gap-4 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"flex flex-col gap-2 max-w-sm",children:[f.jsx("span",{className:"text-lg font-semibold tracking-tight bg-gradient-to-r from-text to-text/70 dark:from-white dark:to-white/70 bg-clip-text text-transparent",children:"HealSync"}),f.jsx("p",{className:"text-xs md:text-sm text-secondary leading-relaxed",children:"Unified, secure & shareable health records."})]}),f.jsxs("nav",{"aria-label":"Social",className:"flex gap-6 md:gap-7 items-center",children:[f.jsx("a",{href:"https://github.com/raghavvvgaba/HealSync",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"text-secondary hover:text-accent transition-colors text-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 rounded-full",children:f.jsx(vk,{})}),f.jsx("a",{href:"https://linkedin.com/in/raghavvvgaba",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-secondary hover:text-accent transition-colors text-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 rounded-full",children:f.jsx(xk,{})}),f.jsx("a",{href:"mailto:raghavvvgaba@gmail.com","aria-label":"Email",className:"text-secondary hover:text-accent transition-colors text-xl focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 rounded-full",children:f.jsx(Ip,{})})]})]}),f.jsx("div",{className:"mt-6 mb-5 h-px bg-gradient-to-r from-transparent via-text/10 dark:via-white/10 to-transparent"}),f.jsxs("div",{className:"relative flex flex-col md:flex-row items-start md:items-center justify-between gap-4 text-[11px] md:text-xs text-secondary",children:[f.jsxs("p",{children:["© ",t," HealSync. All rights reserved."]}),f.jsx("p",{className:"flex items-center gap-1 text-secondary/70",children:"Built by Raghav Gaba"})]})]})})})},Mz=[{id:"profiles",icon:f.jsx(Ra,{className:"text-3xl md:text-4xl text-accent"}),title:"Comprehensive Health Profiles",blurb:"Complete health information management for patients and doctors.",points:["Basic info, medical history & lifestyle data","Emergency contacts & accessibility needs","Blood group, allergies & current medications"],accent:"from-accent/20 via-accent/10 to-transparent"},{id:"sharing",icon:f.jsx(Km,{className:"text-3xl md:text-4xl text-accent"}),title:"Secure Doctor Sharing",blurb:"Share your complete health profile with doctors using unique Doctor IDs.",points:["Simple DR-XXXX-1234 ID system","Instant access for authorized doctors","Revoke access anytime"],accent:"from-primary/25 via-primary/10 to-transparent"},{id:"records",icon:f.jsx(Tk,{className:"text-3xl md:text-4xl text-accent"}),title:"Medical Records Management",blurb:"Doctors can add & manage comprehensive medical records for their patients.",points:["Diagnosis, symptoms & prescribed medications","Test recommendations & follow-up notes","Secure access with audit trails"],accent:"from-accent/30 via-accent/10 to-transparent"},{id:"ai",icon:f.jsx(u6,{className:"text-3xl md:text-4xl text-accent"}),title:"AI Health Assistant",blurb:"Get instant answers to health questions and general medical guidance.",points:["24/7 health information support","General wellness advice","Medical term explanations"],accent:"from-primary/30 via-primary/10 to-transparent"}],Oz=[{icon:f.jsx(u6,{className:"text-accent"}),title:"Create Account",text:"Sign up as a patient or doctor and get started immediately."},{icon:f.jsx(Ra,{className:"text-accent"}),title:"Complete Profile",text:"Fill in your health information, medical history & emergency contacts."},{icon:f.jsx(Km,{className:"text-accent"}),title:"Share with Doctors",text:"Use simple Doctor IDs (DR-XXXX-1234) to share your profile securely."},{icon:f.jsx(n1,{className:"text-accent"}),title:"Manage Health Together",text:"Doctors can view your profile and add medical records after visits."}],kz=[{quote:"Finally, a simple way to share my complete health history with new doctors. No more carrying paper files!",name:"Sarah M.",role:"Patient"},{quote:"HealSync makes it easy to access my patients' medical history and add visit notes securely.",name:"Dr. Johnson",role:"Family Physician"},{quote:"The AI assistant helped me understand my prescription better. Great feature for quick health questions.",name:"Mike R.",role:"Patient"}],Pz=[{question:"Is my health data secure with HealSync?",answer:"Yes! HealSync uses Firebase's secure infrastructure with role-based access controls. Only doctors you explicitly share with can access your data."},{question:"How do I share my profile with a doctor?",answer:"Ask your doctor for their unique Doctor ID (format: DR-XXXX-1234), then use the 'Share with Doctor' button on your profile to grant them access."},{question:"Can doctors add medical records to my profile?",answer:"Yes, once you've shared your profile with a doctor, they can add medical records including diagnosis, symptoms, medications, and follow-up notes."},{question:"Is HealSync free to use?",answer:"Yes, HealSync is currently free for both patients and healthcare providers. We're focused on building a great product first."}],cm=({eyebrow:t,title:e,sub:n})=>f.jsxs("div",{className:"mb-10 text-center max-w-3xl mx-auto",children:[t&&f.jsx(ct.span,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-block text-xs tracking-widest uppercase font-semibold text-accent/80 mb-3",children:t}),f.jsx(ct.h2,{initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold bg-gradient-to-br from-text to-text/70 dark:from-white dark:to-white/70 bg-clip-text text-transparent",children:e}),n&&f.jsx(ct.p,{initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-4 text-base md:text-lg text-secondary max-w-2xl mx-auto",children:n})]}),Vz=({feature:t,idx:e})=>f.jsxs(ct.div,{initial:{opacity:0,y:24,scale:.98},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.4},transition:{duration:.55,delay:e*.08},className:"relative group rounded-2xl p-6 md:p-7 glass-elevated lift-on-hover shine-on-hover overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br from-accent/10 via-transparent to-primary/10"}),f.jsxs("div",{className:"flex items-center gap-4 mb-4 relative z-10",children:[f.jsx("span",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-primary/20 via-surface/60 to-surface shadow-inner border border-white/10",children:t.icon}),f.jsx("h3",{className:"text-xl font-semibold text-text dark:text-white",children:t.title})]}),f.jsx("p",{className:"text-secondary text-sm md:text-base mb-4 relative z-10",children:t.blurb}),f.jsx("ul",{className:"space-y-2 text-sm relative z-10",children:t.points.map((n,s)=>f.jsxs("li",{className:"flex items-start gap-2 text-text/90 dark:text-white/90",children:[f.jsx("span",{className:"mt-[5px] w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_0_3px_rgba(251,191,36,0.25)]"}),f.jsx("span",{children:n})]},s))}),f.jsx("div",{className:`pointer-events-none absolute -top-1/2 left-0 right-0 h-full blur-3xl opacity-50 bg-gradient-to-b ${t.accent}`})]}),Lz=({step:t,index:e})=>f.jsxs(ct.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.55,delay:e*.1},className:"relative flex flex-col gap-4 p-6 rounded-2xl glass-elevated lift-on-hover",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-gradient-to-br from-accent/30 to-primary/30 text-accent text-xl font-bold border border-white/10 shadow-inner",children:t.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-lg",children:t.title}),f.jsx("p",{className:"text-secondary text-sm mt-1",children:t.text})]})]}),f.jsx("span",{className:"absolute -top-3 -right-3 text-[11px] px-2 py-1 rounded-full bg-gradient-to-r from-primary/40 to-accent/40 backdrop-blur-md border border-white/10 text-white/90 font-semibold shadow",children:e+1})]}),Uz=({t,idx:e})=>f.jsxs(ct.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.55,delay:e*.08},className:"relative rounded-2xl p-6 glass-elevated shine-on-hover",children:[f.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-primary/15 via-transparent to-accent/20 opacity-60"}),f.jsxs("div",{className:"relative",children:[f.jsxs("p",{className:"text-sm md:text-base text-text/90 dark:text-white/90 leading-relaxed italic",children:['"',t.quote,'"']}),f.jsxs("div",{className:"mt-5",children:[f.jsx("p",{className:"font-semibold text-text dark:text-white",children:t.name}),f.jsx("p",{className:"text-xs text-secondary tracking-wide",children:t.role})]})]})]}),Fz=({question:t,answer:e})=>{const[n,s]=E.useState(!1);return f.jsxs("div",{className:"rounded-xl border soft-divider overflow-hidden backdrop-blur-sm bg-surface/60 dark:bg-surface/40 border-white/10",children:[f.jsxs("button",{onClick:()=>s(!n),className:"w-full flex justify-between items-center px-5 py-4 text-left text-base md:text-lg font-semibold text-text dark:text-white hover:bg-white/40 dark:hover:bg-white/5 transition-colors",children:[f.jsx("span",{children:t}),f.jsx("span",{className:"text-accent text-xl leading-none",children:n?"−":"+"})]}),f.jsx(Tx,{initial:!1,children:n&&f.jsx(ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"overflow-hidden",children:f.jsx("div",{className:"px-5 pb-5 text-sm md:text-base text-secondary leading-relaxed",children:e})},"faqcontent")})]})},Bz=()=>{const{user:t,userRole:e}=In(),n=Xs(),s=()=>{n(t?e==="doctor"?"/doctor":"/user":"/signup")};return E.useMemo(()=>new Date().getFullYear(),[]),f.jsxs(f.Fragment,{children:[f.jsx(Yo,{}),f.jsxs("div",{className:"aurora-bg min-h-screen w-full overflow-x-hidden text-text dark:text-white selection:bg-accent/30 selection:text-text",children:[f.jsxs("section",{className:"relative flex flex-col justify-center items-center min-h-[92vh] px-6 pt-28 md:pt-32 text-center",children:[f.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[f.jsx("div",{className:"absolute w-[38rem] h-[38rem] -top-40 -left-40 rounded-full bg-gradient-to-br from-primary/35 to-accent/20 blur-3xl opacity-40 animate-pulse"}),f.jsx("div",{className:"absolute w-[30rem] h-[30rem] top-1/3 -right-40 rounded-full bg-gradient-to-tl from-accent/30 to-primary/20 blur-3xl opacity-40 animate-[pulse_9s_ease-in-out_infinite_alternate]"})]}),f.jsxs(ct.div,{initial:{opacity:0,y:28},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl mx-auto",children:[f.jsxs(ct.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full glass text-xs tracking-wide font-medium text-accent shadow hover-glow-accent",children:[f.jsx(Gm,{className:"text-accent"})," Secure • Share • Thrive"]}),f.jsx("h1",{className:"mt-6 text-4xl md:text-6xl font-extrabold leading-tight bg-[linear-gradient(92deg,var(--color-text),rgba(var(--primary-rgb)/0.85))] dark:bg-[linear-gradient(92deg,#fff,rgba(var(--primary-rgb)/0.85))] bg-clip-text text-transparent",children:"Your Complete Health Profile, Digitized"}),f.jsx("p",{className:"mt-6 text-base md:text-xl text-secondary max-w-2xl mx-auto leading-relaxed",children:"HealSync helps patients create comprehensive health profiles and share them securely with doctors. Simple, secure, and always accessible."}),f.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx("button",{onClick:s,className:"glass-cta px-7 py-3.5 text-base font-semibold shadow-lg hover:shadow-xl active:scale-[0.97] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent",children:t?"Go to Dashboard":"Get Started Free"}),f.jsx("a",{href:"#features",className:"px-7 py-3.5 rounded-xl font-semibold text-sm md:text-base bg-white/70 dark:bg-white/5 backdrop-blur-md border border-white/20 hover:bg-white/90 dark:hover:bg-white/10 transition-colors text-text dark:text-white lift-on-hover",children:"Explore Features"})]}),f.jsx("div",{className:"mt-10 grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-2xl mx-auto text-[11px] md:text-xs text-secondary",children:["Doctor ID System","Profile Sharing","Medical Records","AI Assistant"].map(i=>f.jsx("div",{className:"px-3 py-2 rounded-lg glass text-secondary/80 dark:text-secondary backdrop-blur-md border border-white/10",children:i},i))})]}),f.jsx(ct.button,{type:"button",onClick:()=>{const i=document.getElementById("features");i&&i.scrollIntoView({behavior:"smooth"})},initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:1,duration:.55},className:"absolute bottom-8 md:bottom-10 w-10 h-10 rounded-full flex items-center justify-center border border-white/15 bg-white/5 dark:bg-white/5 backdrop-blur-md text-accent hover:border-accent/60 hover:bg-accent/10 transition-all focus:outline-none focus:ring-2 focus:ring-accent/60","aria-label":"Scroll to features",children:f.jsx("svg",{className:"w-5 h-5 animate-bounce",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),f.jsxs("section",{id:"features",className:"relative py-24 px-6",children:[f.jsx(cm,{eyebrow:"Capabilities",title:"Why Choose HealSync?",sub:"Everything you need to create, manage & securely share your health information with healthcare providers."}),f.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 xl:grid-cols-3 gap-8",children:[Mz.map((i,o)=>f.jsx(Vz,{feature:i,idx:o},i.id)),f.jsxs(ct.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"relative rounded-2xl p-8 md:p-10 flex flex-col justify-between overflow-hidden glass-elevated col-span-full xl:col-span-1",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/20 via-primary/10 to-transparent"}),f.jsxs("div",{className:"relative",children:[f.jsxs("h3",{className:"text-2xl font-bold mb-4 text-text dark:text-white flex items-center gap-3",children:[f.jsx(Gm,{className:"text-accent"})," Built on Security"]}),f.jsx("p",{className:"text-secondary text-sm md:text-base leading-relaxed mb-6",children:"Your health data is protected with Firebase's enterprise-grade security, role-based access controls, and encrypted data transmission."}),f.jsx("ul",{className:"grid grid-cols-1 gap-3 text-sm",children:["Firebase Authentication","Role-based access control","Encrypted data transmission","Secure sharing permissions"].map(i=>f.jsxs("li",{className:"flex items-center gap-2 text-text/90 dark:text-white/90",children:[f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent"})," ",i]},i))})]}),f.jsx("div",{className:"mt-8 flex flex-wrap gap-3",children:["Firebase","Secure","GDPR Ready","Encrypted"].map(i=>f.jsx("span",{className:"text-[11px] tracking-wide px-3 py-1 rounded-full glass border border-white/10 text-secondary/80",children:i},i))})]})]})]}),f.jsxs("section",{className:"relative py-28 px-6",children:[f.jsx(cm,{eyebrow:"Workflow",title:"Simple & Secure Health Management",sub:"A straightforward process to create, maintain and share your health profile with healthcare providers."}),f.jsx("div",{className:"max-w-6xl mx-auto grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Oz.map((i,o)=>f.jsx(Lz,{step:i,index:o},i.title))})]}),f.jsxs("section",{className:"relative py-24 px-6",children:[f.jsx(cm,{eyebrow:"Voices",title:"Trusted By Patients & Healthcare Providers",sub:"Real experiences from people using HealSync to manage their health information."}),f.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8",children:kz.map((i,o)=>f.jsx(Uz,{t:i,idx:o},i.name))})]}),f.jsx("section",{className:"relative py-28 px-6",children:f.jsx(ct.div,{initial:{opacity:0,scale:.96},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"relative max-w-4xl mx-auto rounded-3xl overflow-hidden p-[1.5px] bg-gradient-to-br from-primary/40 via-accent/40 to-primary/10",children:f.jsxs("div",{className:"relative rounded-3xl p-10 md:p-16 bg-[radial-gradient(circle_at_30%_20%,rgba(var(--primary-rgb)/0.25),rgba(var(--surface-rgb)/0.5)_60%)] backdrop-blur-xl border border-white/15",children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none mix-blend-overlay opacity-40 bg-[linear-gradient(120deg,rgba(255,255,255,0.08),transparent_60%)]"}),f.jsxs("div",{className:"text-center relative z-10",children:[f.jsx(Mk,{className:"text-5xl md:text-6xl text-accent mx-auto mb-6 drop-shadow"}),f.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:"Ready To Organize Your Health Information?"}),f.jsx("p",{className:"text-secondary text-base md:text-lg mb-10 max-w-2xl mx-auto",children:"Create your comprehensive health profile today and share it securely with your healthcare providers when needed."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx("button",{onClick:s,className:"glass-cta px-8 py-4 font-semibold text-base md:text-lg",children:t?"Go To Dashboard":"Create Your Account"}),f.jsx("a",{href:"#faq",className:"px-8 py-4 rounded-xl font-semibold text-sm md:text-base bg-white/70 dark:bg-white/5 backdrop-blur-md border border-white/20 hover:bg-white/90 dark:hover:bg-white/10 transition-colors text-text dark:text-white lift-on-hover",children:"Questions?"})]})]})]})})}),f.jsxs("section",{id:"faq",className:"relative py-24 px-6",children:[f.jsx(cm,{eyebrow:"Answers",title:"Frequently Asked Questions",sub:"Have more questions? Reach out after creating an account & we'll help."}),f.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:Pz.map((i,o)=>f.jsx(Fz,{question:i.question,answer:i.answer},i.question))})]}),f.jsx(ib,{})]})]})};async function zz(t,e){try{return console.log("Attempting to save to Firestore:",{userId:t,profileData:e}),console.log("Current auth user:",Fr.currentUser),console.log("Auth state:",Fr.currentUser?"authenticated":"not authenticated"),await sb(Bt(Tt,"userProfile",t),e,{merge:!0}),console.log("Successfully saved to Firestore"),{success:!0}}catch(n){return console.error("Error adding/updating user profile:",n),console.error("Error details:",n.code,n.message),{success:!1,error:n.message}}}async function Qd(t){try{const e=Bt(Tt,"userProfile",t),n=await $n(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User profile not found"}}catch(e){return console.error("Error fetching user profile:",e),{success:!1,error:e.message}}}async function Hz(t,e){try{return await tg(Bt(Tt,"userProfile",t),e),{success:!0}}catch(n){return console.error("Error editing user profile:",n),{success:!1,error:n.message}}}async function $z(t,e){try{const n=await Tz(e);if(!n)return{success:!1,error:"Doctor not found. Please check the Doctor ID and try again."};const s=n.id,i=`${s}_${t}`,o=Bt(Tt,"shared_profiles",i),c=await $n(o);if(c.exists()&&c.data().status==="active")return{success:!1,error:"Profile already shared with this doctor."};const u={patientId:t,doctorId:s,doctorIdCode:e,doctorName:n.name||"Unknown Doctor",sharedAt:Xd(),status:"active"},h=Bt(Tt,"shared_profiles",i);return await sb(h,u),{success:!0,shareId:i,doctorName:n.name}}catch(n){return console.error("Error sharing profile with doctor:",n),{success:!1,error:n.message}}}async function qz(t){try{const e=sl(Tt,"shared_profiles"),n=zc(e,zi("patientId","==",t),zi("status","==","active")),s=await Hc(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),{success:!0,data:i}}catch(e){return console.error("Error fetching patient shared profiles:",e),{success:!1,error:e.message}}}async function Gz(t,e){try{const n=`${e}_${t}`,s=Bt(Tt,"shared_profiles",n);return(await $n(s)).exists()?(await tg(s,{status:"revoked",revokedAt:Xd()}),{success:!0,message:"Profile access successfully revoked."}):{success:!1,error:"Share record not found."}}catch(n){return console.error("Error revoking profile access:",n),{success:!1,error:n.message}}}async function iR(t,e=null,n=20,s=!1){try{const i=sl(Tt,"medicalRecords");let o=zc(i,zi("patientId","==",t),hz(n));const c=await Hc(o),u=[];let h=null;c.forEach(v=>{const b=v.data();!s&&b.isActive===!1||(u.push({id:v.id,...b}),h=v)});const m=u.sort((v,b)=>{var N,I;const _=new Date(v.visitDate||((N=v.createdAt)==null?void 0:N.toDate())||0);return new Date(b.visitDate||((I=b.createdAt)==null?void 0:I.toDate())||0)-_}),y=u.length===n;return{success:!0,data:m,hasMore:y,lastDoc:h}}catch(i){return console.error("Error fetching patient medical records:",i),i.code==="failed-precondition"?{success:!1,error:"Database index not ready. Please try again in a moment."}:{success:!1,error:i.message||"Failed to fetch medical records."}}}const Kz=()=>{var _,T,N,I,O;const{user:t}=In(),[e,n]=E.useState(null),[s,i]=E.useState(!0),[o,c]=E.useState(null);E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{i(!0);const R=await Qd(t.uid);R.success?n(R.data):c("Failed to load profile data")}catch{c("An error occurred while loading data")}finally{i(!1)}})()},[t]);const u=P=>{if(!P)return null;const R=new Date(P),$=new Date;let B=$.getFullYear()-R.getFullYear();const q=$.getMonth()-R.getMonth();return(q<0||q===0&&$.getDate()<R.getDate())&&B--,B},h=(P,R)=>{if(!(P!=null&&P.value)||!(R!=null&&R.value))return null;const $=P.unit==="lbs"?P.value*.453592:P.value,B=R.unit==="ft"?R.value*.3048:R.value/100;return($/(B*B)).toFixed(1)};if(s)return f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[f.jsx("div",{className:"animate-pulse h-7 bg-white/10 rounded w-1/2 mb-2"}),f.jsx("div",{className:"animate-pulse h-4 bg-white/10 rounded w-1/3"})]});if(o||!(e!=null&&e.basic))return f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center",children:f.jsx(xd,{})}),f.jsx("h2",{className:"text-lg font-bold text-text",children:"Profile data not available"})]}),f.jsx("p",{className:"text-secondary mb-4",children:o||"Complete your profile to see your health overview."}),f.jsxs(Bn,{to:"edit-profile",className:"glass-cta inline-flex items-center gap-2 px-4 py-2",children:[f.jsx(qm,{})," Complete Profile"]})]});const{basic:m,medical:y}=e,v=u(m.dob),b=h(m.weight,m.height);return f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary to-accent text-white flex items-center justify-center shadow-lg",children:f.jsx(xd,{className:"text-xl"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text truncate",children:m.fullName||"Unknown User"}),f.jsxs("p",{className:"text-xs sm:text-sm text-secondary truncate",children:["Patient ID: ",((_=t==null?void 0:t.uid)==null?void 0:_.substring(0,8).toUpperCase())||"N/A"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-2",children:[f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Nk,{className:"text-primary"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Height"})]}),f.jsxs("span",{className:"text-lg font-bold text-text",children:[(T=m.height)==null?void 0:T.value," ",((N=m.height)==null?void 0:N.unit)||"cm"]})]}),f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Ik,{className:"text-accent"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Weight"})]}),f.jsxs("span",{className:"text-lg font-bold text-text",children:[(I=m.weight)==null?void 0:I.value," ",((O=m.weight)==null?void 0:O.unit)||"kg"]})]}),f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Rk,{className:"text-red-400"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Blood Group"})]}),f.jsx("span",{className:"text-lg font-bold text-text",children:m.bloodGroup||"Not set"})]}),f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(t1,{className:"text-orange-400"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Age"})]}),f.jsx("span",{className:"text-lg font-bold text-text",children:v?`${v} years`:"Not set"})]}),f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(r1,{className:"text-red-400"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Blood Type"})]}),f.jsx("span",{className:"text-lg font-bold text-text",children:m.bloodGroup||"Not set"})]}),f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(i1,{className:"text-green-400"}),f.jsx("span",{className:"text-xs font-medium text-secondary",children:"Gender"})]}),f.jsx("span",{className:"text-lg font-bold text-text",children:m.gender||"Not set"})]})]}),b&&f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider mt-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(gc,{className:"text-green-400"}),f.jsx("span",{className:"font-medium text-text",children:"Body Mass Index (BMI)"})]}),f.jsx("span",{className:"text-2xl font-bold text-green-400",children:b})]}),f.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-2",children:f.jsx("div",{className:`h-2 rounded-full ${b<18.5?"bg-blue-500":b<25?"bg-green-500":b<30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(b/35*100,100)}%`}})}),f.jsx("p",{className:"text-xs text-secondary",children:b<18.5?"Underweight":b<25?"Normal weight":b<30?"Overweight":"Obese"})]}),(y==null?void 0:y.conditions)&&y.conditions.length>0&&f.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider mt-2",children:[f.jsx("h3",{className:"font-semibold text-text mb-3",children:"Medical Conditions"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.conditions.slice(0,4).map((P,R)=>f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",children:P},R)),y.conditions.length>4&&f.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/10 text-secondary",children:["+",y.conditions.length-4," more"]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t soft-divider",children:[f.jsxs(Bn,{to:"edit-profile",className:"flex-1 glass-cta flex items-center justify-center gap-2 px-4 py-3",children:[f.jsx(qm,{className:"text-sm"}),f.jsx("span",{className:"font-medium",children:"Edit"})]}),f.jsxs(Bn,{to:"view-profile",className:"flex-1 glass rounded-lg border soft-divider text-text flex items-center justify-center gap-2 px-4 py-3 hover-glow-primary",children:[f.jsx(Oc,{className:"text-sm"}),f.jsx("span",{className:"font-medium",children:"View Full"})]})]}),f.jsx("div",{className:"pt-2",children:f.jsx("p",{className:"text-xs text-secondary text-center",children:"Keep your health information updated for better care"})})]})};function yp(t){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M384 22.545L307.271 99.27l25.458 25.458L366 91.457v329.086l-33.271-33.272-25.458 25.458L384 489.455l76.729-76.726-25.458-25.458L402 420.543V91.457l33.271 33.272L460.73 99.27 384 22.545zm-242.443.258c-23.366 3.035-44.553 30.444-44.553 65.935 0 19.558 6.771 36.856 16.695 48.815l11.84 14.263-18.217 3.424c-12.9 2.425-22.358 9.24-30.443 20.336-8.085 11.097-14.266 26.558-18.598 44.375-7.843 32.28-9.568 71.693-9.842 106.436h42.868l11.771 157.836c29.894 6.748 61.811 6.51 90.602.025l10.414-157.861h40.816c-.027-35.168-.477-75.125-7.584-107.65-3.918-17.933-9.858-33.371-18.04-44.342-8.185-10.97-18.08-17.745-32.563-19.989l-18.592-2.88 11.736-14.704c9.495-11.897 15.932-28.997 15.932-48.082 0-37.838-23.655-65.844-49.399-65.844l-4.843-.093z"},child:[]}]})(t)}const Yz=()=>{const t=Xs(),{user:e}=In(),[n,s]=E.useState([]),[i,o]=E.useState(!0),[c,u]=E.useState(null),[h,m]=E.useState(null),[y,v]=E.useState(!0),[b,_]=E.useState(!1);E.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const R=setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0},0);return()=>clearTimeout(R)},[]),E.useEffect(()=>{e!=null&&e.uid&&T(!0)},[e]);const T=async(R=!1)=>{try{R?(o(!0),u(null),s([]),m(null)):_(!0);const $=await iR(e.uid,R?null:h,20,!1);if($.success){const B=$.data||[];s(R?B:q=>[...q,...B]),m($.lastDoc||null),v(!!$.hasMore)}else u($.error||"Failed to fetch medical records"),R&&s([])}catch($){console.error("Error fetching medical records:",$),u("Failed to load medical records"),R&&s([])}finally{o(!1),_(!1)}},N=()=>{!b&&y&&T(!1)},I=()=>{T(!0),window.scrollTo({top:0,left:0,behavior:"auto"})},O=({items:R,colorClass:$})=>f.jsx("div",{className:"flex flex-wrap gap-2",children:R&&R.length>0?R.map((B,q)=>f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${$}`,children:B},q)):f.jsx("span",{className:"text-sm text-gray-500 italic",children:"None specified"})}),P=({record:R})=>{var $,B;return f.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-base sm:text-lg font-semibold text-text",children:R.diagnosis||"Medical Record"}),f.jsxs("p",{className:"text-xs sm:text-sm text-secondary",children:[R.visitDate?new Date(R.visitDate).toLocaleDateString():"No date specified",($=R.createdAt)!=null&&$.toDate?` at ${new Date(R.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""," ","• ",R.doctorName||((B=R.doctor)==null?void 0:B.name)||"Unknown Doctor"]})]}),R.fileUrl&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",title:"View file",children:f.jsx(Oc,{className:"text-sm"})}),f.jsx("a",{href:R.fileUrl,download:!0,className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",title:"Download file",children:f.jsx(l6,{className:"text-sm"})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Symptoms"}),f.jsx(O,{items:R.symptoms,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Medicines"}),f.jsx(O,{items:R.medicines,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})]}),R.prescribedTests&&R.prescribedTests.length>0&&f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Prescribed Tests"}),f.jsx(O,{items:R.prescribedTests,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})]}),R.followUpNotes&&f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Follow-up Notes"}),f.jsx("p",{className:"text-sm text-secondary glass p-3 rounded-lg border soft-divider",children:R.followUpNotes})]})]})]})};return f.jsx("div",{className:"min-h-screen bg-background aurora-bg text-text px-3 sm:px-6 py-6",children:f.jsxs("div",{ref:R=>{R&&console.log("MedicalHistoryPage scroll position:",window.scrollY,document.documentElement.scrollTop)},children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[f.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 glass rounded-full px-3 py-1.5 text-sm text-secondary hover-glow-primary",children:[f.jsx(Ok,{size:18}),f.jsx("span",{className:"font-medium",children:"Back"})]}),f.jsx("button",{onClick:I,disabled:i,className:"glass rounded-lg border soft-divider px-4 py-2 text-sm text-text hover-glow-primary disabled:opacity-50",title:"Refresh records",children:f.jsxs("span",{className:"inline-flex items-center gap-2",children:[f.jsx(s1,{className:`${i?"animate-spin":""}`}),"Refresh"]})})]}),f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text mb-4",children:"Your Complete Medical History"}),i&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Lr,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),f.jsx("p",{className:"text-secondary",children:"Loading your medical records..."})]}),c&&!i&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Fd,{className:"text-red-400 text-5xl mb-4 mx-auto"}),f.jsx("p",{className:"text-red-500 mb-2 text-lg",children:"Failed to load medical records"}),f.jsx("p",{className:"text-sm text-secondary mb-6",children:c}),f.jsx("button",{onClick:I,className:"glass-cta px-6 py-3",children:"Try Again"})]}),!i&&!c&&f.jsx(f.Fragment,{children:n.length>0?f.jsxs("div",{className:"space-y-4",children:[n.map(R=>f.jsx(P,{record:R},R.id)),y&&f.jsx("div",{className:"text-center pt-2",children:f.jsx("button",{onClick:N,disabled:b,className:"px-6 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b?f.jsxs("span",{className:"inline-flex items-center gap-2",children:[f.jsx(Lr,{className:"animate-spin"}),"Loading..."]}):"Load More Records"})}),f.jsx("div",{className:"text-center mt-4 pt-4 border-t soft-divider",children:f.jsxs("p",{className:"text-sm text-secondary",children:["Showing ",n.length," medical records",!y&&n.length>0&&" (all records loaded)"]})})]}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx(oc,{className:"text-secondary text-6xl mb-6 mx-auto"}),f.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"No Medical Records Found"}),f.jsx("p",{className:"text-secondary mb-6",children:"Your medical history will appear here once doctors add records to your profile."}),f.jsx("button",{onClick:I,className:"glass-cta px-6 py-3",children:"Check for New Records"})]})})]})})},Wz=({records:t,loading:e,error:n,onRefresh:s})=>{const i=(t==null?void 0:t.slice(0,3))||[],o=(t==null?void 0:t.length)||0;return f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider flex flex-col gap-6 hover-glow-primary",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:f.jsx(oc,{className:"text-sm"})}),f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Medical History"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"glass px-3 py-1 rounded-full text-xs sm:text-sm text-secondary border soft-divider",children:[o," ",o===1?"record":"records"]}),s&&f.jsx("button",{onClick:s,disabled:e,className:"p-2 text-secondary hover:text-text transition-colors duration-200 disabled:opacity-50",title:"Refresh records",children:f.jsx(s1,{className:`text-sm ${e?"animate-spin":""}`})})]})]}),e&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-secondary",children:"Loading medical records..."})]}),n&&!e&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Fd,{className:"text-red-400 text-4xl mb-4 mx-auto"}),f.jsx("p",{className:"text-red-500 mb-2",children:"Failed to load medical records"}),f.jsx("p",{className:"text-sm text-secondary mb-4",children:n}),s&&f.jsx("button",{onClick:s,className:"glass-cta px-4 py-2",children:"Try Again"})]}),!e&&!n&&f.jsxs(f.Fragment,{children:[i.length>0?f.jsx("div",{className:"space-y-3",children:i.map((c,u)=>{var h,m;return f.jsxs("div",{className:"p-4 glass rounded-lg border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tv,{className:"text-primary text-sm"}),f.jsx("h3",{className:"font-semibold text-text text-sm",children:c.diagnosis||"General Checkup"})]}),c.visitDate&&f.jsxs("span",{className:"text-xs text-secondary flex items-center gap-1",children:[f.jsx(t1,{}),new Date(c.visitDate).toLocaleDateString()]}),c.createdAt&&f.jsxs("span",{className:"text-xs text-secondary flex items-center gap-1 mt-1",children:[f.jsx("span",{children:"📝"}),"Added at ",new Date(c.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(c.doctorName||((h=c.doctor)==null?void 0:h.name))&&f.jsxs("p",{className:"text-sm text-secondary mb-2",children:[f.jsx("span",{className:"font-medium",children:"Doctor:"})," ",c.doctorName||((m=c.doctor)==null?void 0:m.name)]}),c.symptoms&&c.symptoms.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.symptoms.slice(0,3).map((y,v)=>f.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-secondary",children:y},v)),c.symptoms.length>3&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-secondary",children:["+",c.symptoms.length-3," more"]})]})]},c.id||u)})}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx(oc,{className:"text-gray-400 text-4xl mb-4 mx-auto"}),f.jsx("p",{className:"text-secondary mb-2",children:"No medical records yet"}),f.jsx("p",{className:"text-sm text-secondary",children:"Your medical history will appear here"})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t soft-divider",children:f.jsxs(Bn,{to:"medical-history",className:"flex-1 glass-cta flex items-center justify-center gap-2 px-4 py-3",children:[f.jsx(oc,{className:"text-sm"}),f.jsx("span",{className:"font-medium",children:"View All Records"}),f.jsx(n6,{className:"text-sm"})]})}),f.jsx("div",{className:"pt-2",children:f.jsx("p",{className:"text-xs text-secondary text-center",children:"Keep your medical records updated and organized"})})]})]})},Xz=()=>{const{user:t}=In(),[e,n]=E.useState([]),[s,i]=E.useState(!0),[o,c]=E.useState(null),[u,h]=E.useState(null),[m,y]=E.useState(null),[v,b]=E.useState({doctorId:null,doctorName:""}),[_,T]=E.useState(!1),[N,I]=E.useState(!1),[O,P]=E.useState(null),[R,$]=E.useState(""),[B,q]=E.useState(""),{register:D,handleSubmit:C,reset:M,formState:{errors:V}}=A6();E.useEffect(()=>{t!=null&&t.uid&&U()},[t]);const U=async()=>{try{i(!0),c(null);const pe=await qz(t.uid);pe.success?n(pe.data):c(pe.error)}catch(pe){c("Failed to fetch shared profiles"),console.error("Error fetching shared profiles:",pe)}finally{i(!1)}},F=(pe,Y)=>{b({doctorId:pe,doctorName:Y})},L=async()=>{const{doctorId:pe,doctorName:Y}=v;h(pe),b({doctorId:null,doctorName:""});try{const Z=await Gz(t.uid,pe);Z.success?(n(se=>se.filter(we=>we.doctorId!==pe)),y({type:"success",message:`Successfully revoked ${Y}'s access to your profile.`})):y({type:"error",message:Z.error||"Failed to revoke access"})}catch(Z){y({type:"error",message:"An unexpected error occurred"}),console.error("Error revoking access:",Z)}finally{h(null),setTimeout(()=>y(null),5e3)}},xe=async pe=>{if(!t){$("You must be logged in to share your profile"),P("error");return}I(!0),P(null),$("");try{const Y=pe.doctorId.toUpperCase(),Z=await $z(t.uid,Y);Z.success?(q(Z.doctorName||""),P("success"),await U(),setTimeout(()=>{M(),T(!1),P(null),$(""),q("")},2e3)):($(Z.error||"Failed to share profile"),P("error"))}catch(Y){console.error("Error sharing profile:",Y),$("An unexpected error occurred. Please try again."),P("error")}I(!1)};return s?f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:f.jsx(Ra,{className:"text-sm"})}),f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Shared with Doctors"})]}),f.jsxs("div",{className:"flex items-center justify-center py-8 text-secondary",children:[f.jsx(Lr,{className:"animate-spin text-primary text-2xl"}),f.jsx("span",{className:"ml-3",children:"Loading shared profiles..."})]})]}):f.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider flex flex-col gap-6 hover-glow-primary xl:max-w-5xl xl:mx-auto",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-accent text-white flex items-center justify-center shadow-inner flex-shrink-0",children:f.jsx(Ra,{className:"text-lg"})}),f.jsx("h2",{className:"text-xl font-bold text-text leading-tight",children:"Shared with Doctors"}),f.jsxs("span",{className:"glass px-2.5 py-1 rounded-full text-[11px] font-medium tracking-wide text-secondary border soft-divider uppercase whitespace-nowrap leading-none ml-2",children:[e.length," ",e.length===1?"doctor":"doctors"]})]}),f.jsxs("button",{onClick:()=>T(!_),className:"glass-cta flex items-center gap-2 h-12 px-5 rounded-xl text-base font-medium w-full justify-center whitespace-nowrap",children:[f.jsx(_v,{className:"text-lg"}),f.jsx("span",{children:"Share with Doctor"})]})]}),f.jsx(Tx,{children:_&&f.jsxs(ct.form,{onSubmit:C(xe),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 glass rounded-lg border soft-divider space-y-3",children:[f.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Doctor's ID"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("input",{type:"text",placeholder:"e.g., DR-HALE-1234",...D("doctorId",{required:"Doctor ID is required",pattern:{value:/^DR-[BCDFGHJKLMNPQRSTVWXYZAEIOU]{4}-\d{4}$/i,message:"Invalid doctor ID format (DR-XXXX-1234)"}}),className:"w-full px-3 py-2 rounded-md glass border soft-divider text-text placeholder:text-secondary/70 text-sm uppercase focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",maxLength:12}),V.doctorId&&f.jsx("p",{className:"text-red-400 text-xs",children:V.doctorId.message}),f.jsx("p",{className:"text-secondary text-xs",children:"Format: DR-XXXX-1234"})]}),O==="error"&&f.jsx("div",{className:"text-red-400 text-xs glass border soft-divider p-2 rounded",children:R||"An error occurred. Please try again."}),O==="success"&&f.jsxs("div",{className:"text-green-400 text-xs glass border soft-divider p-2 rounded",children:["Profile shared successfully",B?` with Dr. ${B}!`:"!"]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{type:"submit",disabled:N,className:"flex-1 glass-cta px-3 py-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Sharing...":"Share Profile"}),f.jsx("button",{type:"button",onClick:()=>{T(!1),P(null),$(""),M()},className:"px-4 py-2 glass rounded-md border soft-divider text-text hover-glow-primary text-sm font-medium",children:"Cancel"})]})]})}),m&&f.jsx("div",{className:`glass border soft-divider p-4 rounded-lg ${m.type==="success"?"text-green-400":"text-red-400"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[m.type==="success"?f.jsx(i6,{}):f.jsx(Fd,{}),f.jsx("span",{className:"text-text",children:m.message})]})}),o&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Fd,{className:"text-red-500 text-3xl mb-3 mx-auto"}),f.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:o}),f.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}),!o&&e.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Ra,{className:"text-secondary text-4xl mb-4 mx-auto"}),f.jsx("p",{className:"text-secondary mb-2",children:"No doctors have access to your profile yet"}),f.jsx("p",{className:"text-sm text-secondary",children:"Share your profile with doctors to see them here"})]}),!o&&e.length>0&&f.jsx("div",{className:"space-y-4 md:max-h-96 md:overflow-y-auto",children:e.map(pe=>{var Y;return f.jsx("div",{className:"p-4 glass rounded-lg border soft-divider hover-glow-primary",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(Ra,{className:"text-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-text",children:pe.doctorName||"Unknown Doctor"}),f.jsxs("p",{className:"text-sm text-secondary",children:["ID: ",pe.doctorIdCode]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-secondary",children:[f.jsx(t1,{className:"text-secondary"}),f.jsxs("span",{children:["Shared on ",(Y=pe.sharedAt)!=null&&Y.toDate?pe.sharedAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date"]})]})]}),v.doctorId===pe.doctorId?f.jsx("div",{className:"sm:ml-4 w-full sm:w-auto flex flex-col sm:items-end gap-2",children:f.jsxs("div",{className:"p-3 glass rounded-lg border soft-divider w-full sm:w-auto",children:[f.jsxs("p",{className:"text-sm text-text mb-2",children:["Are you sure you want to revoke ",f.jsx("span",{className:"font-bold",children:pe.doctorName}),"'s access?"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:L,className:"px-3 py-1 rounded-lg glass-cta font-semibold text-sm",disabled:u===pe.doctorId,children:u===pe.doctorId?"Revoking...":"Confirm"}),f.jsx("button",{onClick:()=>b({doctorId:null,doctorName:""}),className:"px-3 py-1 rounded-lg glass border soft-divider text-text hover-glow-primary text-sm",disabled:u===pe.doctorId,children:"Cancel"})]})]})}):f.jsxs("button",{onClick:()=>F(pe.doctorId,pe.doctorName),disabled:u===pe.doctorId,className:"sm:ml-4 w-full sm:w-auto justify-center sm:justify-start mt-2 sm:mt-0 flex items-center gap-2 px-3 py-2 glass rounded-lg border soft-divider text-red-400 hover-glow-primary transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:[u===pe.doctorId?f.jsx(Lr,{className:"animate-spin"}):f.jsx(jk,{}),u===pe.doctorId?"Revoking...":"Revoke Access"]})]})},pe.id)})}),e.length>0&&f.jsx("div",{className:"pt-4 border-t soft-divider",children:f.jsx("p",{className:"text-xs text-secondary text-center",children:"Revoked access cannot be restored. The doctor will need a new invitation to access your profile again."})})]})};var tS;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(tS||(tS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nS;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(nS||(nS={}));var sS;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(sS||(sS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=["user","model","function","system"];var iS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(iS||(iS={}));var aS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aS||(aS={}));var oS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(oS||(oS={}));var lS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(lS||(lS={}));var Nd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Nd||(Nd={}));var cS;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(cS||(cS={}));var uS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(uS||(uS={}));var dS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dS||(dS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Kl extends Fn{constructor(e,n){super(e),this.response=n}}class aR extends Fn{constructor(e,n,s,i){super(e),this.status=n,this.statusText=s,this.errorDetails=i}}class Pa extends Fn{}class oR extends Fn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="https://generativelanguage.googleapis.com",Zz="v1beta",Jz="0.24.1",eH="genai-js";var Wo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Wo||(Wo={}));class tH{constructor(e,n,s,i,o){this.model=e,this.task=n,this.apiKey=s,this.stream=i,this.requestOptions=o}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Zz;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Qz}/${s}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function nH(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${eH}/${Jz}`),e.join(" ")}async function sH(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",nH(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let s=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(i){throw new Pa(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${i.message}`)}for(const[i,o]of s.entries()){if(i==="x-goog-api-key")throw new Pa(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Pa(`Header name ${i} can only be set using the apiClient field`);n.append(i,o)}}return n}async function rH(t,e,n,s,i,o){const c=new tH(t,e,n,s,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},lH(o)),{method:"POST",headers:await sH(c),body:i})}}async function Tf(t,e,n,s,i,o={},c=fetch){const{url:u,fetchOptions:h}=await rH(t,e,n,s,i,o);return iH(u,h,c)}async function iH(t,e,n=fetch){let s;try{s=await n(t,e)}catch(i){aH(i,t)}return s.ok||await oH(s,t),s}function aH(t,e){let n=t;throw n.name==="AbortError"?(n=new oR(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof aR||t instanceof Pa||(n=new Fn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function oH(t,e){let n="",s;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,s=i.error.details)}catch{}throw new aR(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,s)}function lH(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Om(t.candidates[0]))throw new Kl(`${Ea(t)}`,t);return cH(t)}else if(t.promptFeedback)throw new Kl(`Text not available. ${Ea(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Om(t.candidates[0]))throw new Kl(`${Ea(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fS(t)[0]}else if(t.promptFeedback)throw new Kl(`Function call not available. ${Ea(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Om(t.candidates[0]))throw new Kl(`${Ea(t)}`,t);return fS(t)}else if(t.promptFeedback)throw new Kl(`Function call not available. ${Ea(t)}`,t)},t}function cH(t){var e,n,s,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(i=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0?void 0:i.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function fS(t){var e,n,s,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(i=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0?void 0:i.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const uH=[Nd.RECITATION,Nd.SAFETY,Nd.LANGUAGE];function Om(t){return!!t.finishReason&&uH.includes(t.finishReason)}function Ea(t){var e,n,s;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const o=t.candidates[0];Om(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function Zd(t){return this instanceof Zd?(this.v=t,this):new Zd(t)}function dH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){s[b]&&(i[b]=function(_){return new Promise(function(T,N){o.push([b,_,T,N])>1||u(b,_)})})}function u(b,_){try{h(s[b](_))}catch(T){v(o[0][3],T)}}function h(b){b.value instanceof Zd?Promise.resolve(b.value.v).then(m,y):v(o[0][2],b)}function m(b){u("next",b)}function y(b){u("throw",b)}function v(b,_){b(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function fH(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=pH(e),[s,i]=n.tee();return{stream:mH(s),response:hH(i)}}async function hH(t){const e=[],n=t.getReader();for(;;){const{done:s,value:i}=await n.read();if(s)return ab(gH(e));e.push(i)}}function mH(t){return dH(this,arguments,function*(){const n=t.getReader();for(;;){const{value:s,done:i}=yield Zd(n.read());if(i)break;yield yield Zd(ab(s))}})}function pH(t){const e=t.getReader();return new ReadableStream({start(s){let i="";return o();function o(){return e.read().then(({value:c,done:u})=>{if(u){if(i.trim()){s.error(new Fn("Failed to parse stream"));return}s.close();return}i+=c;let h=i.match(hS),m;for(;h;){try{m=JSON.parse(h[1])}catch{s.error(new Fn(`Error parsing JSON response: "${h[1]}"`));return}s.enqueue(m),i=i.substring(h[0].length),h=i.match(hS)}return o()}).catch(c=>{let u=c;throw u.stack=c.stack,u.name==="AbortError"?u=new oR("Request aborted when reading from the stream"):u=new Fn("Error reading from the stream"),u})}}})}function gH(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const s of t){if(s.candidates){let i=0;for(const o of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].groundingMetadata=o.groundingMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[]});const c={};for(const u of o.content.parts)u.text&&(c.text=u.text),u.functionCall&&(c.functionCall=u.functionCall),u.executableCode&&(c.executableCode=u.executableCode),u.codeExecutionResult&&(c.codeExecutionResult=u.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[i].content.parts.push(c)}i++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n,s){const i=await Tf(e,Wo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),s);return fH(i)}async function cR(t,e,n,s){const o=await(await Tf(e,Wo.GENERATE_CONTENT,t,!1,JSON.stringify(n),s)).json();return{response:ab(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Jd(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return yH(e)}function yH(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),s=!0);if(s&&i)throw new Fn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!i)throw new Fn("No content is provided for sending chat message.");return s?e:n}function vH(t,e){var n;let s={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Pa("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(i)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const o=Jd(t);s.contents=[o]}return{generateContentRequest:s}}function mS(t){let e;return t.contents?e=t:e={contents:[Jd(t)]},t.systemInstruction&&(e.systemInstruction=uR(t.systemInstruction)),e}function xH(t){return typeof t=="string"||Array.isArray(t)?{content:Jd(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],bH={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function wH(t){let e=!1;for(const n of t){const{role:s,parts:i}=n;if(!e&&s!=="user")throw new Fn(`First content should be with role 'user', got ${s}`);if(!rS.includes(s))throw new Fn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(rS)}`);if(!Array.isArray(i))throw new Fn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Fn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of i)for(const h of pS)h in u&&(o[h]+=1);const c=bH[s];for(const u of pS)if(!c.includes(u)&&o[u]>0)throw new Fn(`Content with role '${s}' can't contain '${u}' part`);e=!0}}function gS(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="SILENT_ERROR";class _H{constructor(e,n,s,i={}){this.model=n,this.params=s,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s!=null&&s.history&&(wH(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,i,o,c,u,h;await this._sendPromise;const m=Jd(e),y={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},v=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>cR(this._apiKey,this.model,y,v)).then(_=>{var T;if(gS(_.response)){this._history.push(m);const N=Object.assign({parts:[],role:"model"},(T=_.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(N)}else{const N=Ea(_.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}b=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,b}async sendMessageStream(e,n={}){var s,i,o,c,u,h;await this._sendPromise;const m=Jd(e),y={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},v=Object.assign(Object.assign({},this._requestOptions),n),b=lR(this._apiKey,this.model,y,v);return this._sendPromise=this._sendPromise.then(()=>b).catch(_=>{throw new Error(yS)}).then(_=>_.response).then(_=>{if(gS(_)){this._history.push(m);const T=Object.assign({},_.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{const T=Ea(_);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(_=>{_.message!==yS&&console.error(_)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t,e,n,s){return(await Tf(e,Wo.COUNT_TOKENS,t,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e,n,s){return(await Tf(e,Wo.EMBED_CONTENT,t,!1,JSON.stringify(n),s)).json()}async function SH(t,e,n,s){const i=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Tf(e,Wo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=uR(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const i=mS(e),o=Object.assign(Object.assign({},this._requestOptions),n);return cR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},i),o)}async generateContentStream(e,n={}){var s;const i=mS(e),o=Object.assign(Object.assign({},this._requestOptions),n);return lR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},i),o)}startChat(e){var n;return new _H(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=vH(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return EH(this.apiKey,this.model,s,i)}async embedContent(e,n={}){const s=xH(e),i=Object.assign(Object.assign({},this._requestOptions),n);return TH(this.apiKey,this.model,s,i)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return SH(this.apiKey,this.model,e,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Fn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new vS(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new Pa("Cached content must contain a `name` field.");if(!e.model)throw new Pa("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const c of i)if(n!=null&&n[c]&&e[c]&&(n==null?void 0:n[c])!==e[c]){if(c==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===h)continue}throw new Pa(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new vS(this.apiKey,o,s)}}class CH{constructor(){if(this.apiKey="AIzaSyB5DLN-62BqX98qn8IUMPYotTJpuuiww6o",this.modelName="gemini-1.5-flash",this.isEnabled=!0,!this.apiKey&&this.isEnabled){console.warn("Gemini API key not configured. AI features will be disabled."),this.isEnabled=!1;return}if(this.isEnabled)try{this.genAI=new AH(this.apiKey),this.model=this.genAI.getGenerativeModel({model:this.modelName,generationConfig:{temperature:.7,topK:1,topP:1,maxOutputTokens:2048},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]}),console.log("Gemini AI service initialized successfully")}catch(e){console.error("Failed to initialize Gemini AI:",e),this.isEnabled=!1}}isServiceAvailable(){return this.isEnabled&&this.model}async generateResponse(e,n=[]){var s,i,o;if(!this.isServiceAvailable())throw new Error("Gemini AI service is not available");try{const u=`${n.map(v=>`${v.role==="user"?"Human":"Assistant"}: ${v.content}`).join(`
`)}
Human: ${e}
Assistant:`;return{success:!0,content:(await(await this.model.generateContent(u)).response).text(),usage:{promptTokens:0,completionTokens:0,totalTokens:0}}}catch(c){throw console.error("Error generating AI response:",c),(s=c.message)!=null&&s.includes("API_KEY")?new Error("AI service authentication failed. Please check configuration."):(i=c.message)!=null&&i.includes("RATE_LIMIT")?new Error("AI service is temporarily busy. Please try again in a moment."):(o=c.message)!=null&&o.includes("SAFETY")?new Error("Your request was blocked by safety filters. Please rephrase your question."):new Error("AI service is currently unavailable. Please try again later.")}}async generateStreamResponse(e,n=[],s){if(!this.isServiceAvailable())throw new Error("Gemini AI service is not available");try{const o=`${n.map(h=>`${h.role==="user"?"Human":"Assistant"}: ${h.content}`).join(`
`)}
Human: ${e}
Assistant:`,c=await this.model.generateContentStream(o);let u="";for await(const h of c.stream){const m=h.text();u+=m,s&&s(m)}return{success:!0,content:u}}catch(i){throw console.error("Error generating streaming AI response:",i),i}}async testConnection(){if(!this.isServiceAvailable())return{success:!1,error:"Service not available"};try{const n=await this.generateResponse("Hello, please respond with 'AI service is working correctly'");return{success:!0,message:"Connection successful"}}catch(e){return{success:!1,error:e.message}}}}const um=new CH,xS=`You are a helpful health information assistant for HealSync, a medical records platform. Your role is to provide general health education and support.

IMPORTANT GUIDELINES:
- Provide general health information and education only
- Always recommend consulting healthcare professionals for medical concerns
- Never provide specific medical diagnoses or treatment plans
- Be empathetic, supportive, and use simple language
- Include medical disclaimers when appropriate
- Focus on evidence-based information
- Encourage healthy lifestyle choices
- Emphasize the importance of professional medical care

WHAT YOU CAN HELP WITH:
✅ General health information and education
✅ Explanation of medical terms and procedures
✅ Lifestyle and wellness tips
✅ Understanding symptoms (general information only)
✅ Medication information (general, not specific to individuals)
✅ Health prevention strategies
✅ Mental health awareness and support

WHAT YOU CANNOT DO:
❌ Provide specific medical diagnoses
❌ Replace professional medical advice
❌ Analyze personal medical records
❌ Prescribe medications or treatments
❌ Handle medical emergencies
❌ Give advice on stopping medications

RESPONSE FORMAT:
- Start with helpful information
- Use bullet points or numbered lists when appropriate
- Include emojis sparingly for readability
- End with appropriate medical disclaimers
- Keep responses concise but informative (200-400 words)

EMERGENCY SITUATIONS:
If someone mentions emergency symptoms (chest pain, difficulty breathing, severe bleeding, etc.), immediately advise them to seek emergency medical care.

Remember: You are providing educational information only. All medical decisions should be made in consultation with qualified healthcare providers.`;let NH=class{constructor(){this.conversationHistory=[],this.maxHistoryLength=10}async askHealthQuestion(e,n=null){try{const s=this.sanitizeInput(e);if(!um.isServiceAvailable())return this.getFallbackResponse();if(this.containsEmergencyKeywords(s))return this.getEmergencyResponse();const i=`${xS}

User Question: ${s}`,o=await um.generateResponse(i,this.conversationHistory);if(o.success)return this.addToHistory("user",s),this.addToHistory("assistant",o.content),this.logInteraction(n,"success"),{success:!0,content:o.content,type:"ai_response",timestamp:new Date().toISOString(),disclaimer:this.getMedicalDisclaimer()};throw new Error(o.error||"Failed to get AI response")}catch(s){return console.error("Error in AI Health Assistant:",s),this.logInteraction(n,"error",s.message),this.getErrorResponse(s.message)}}async streamHealthResponse(e,n,s=null){try{const i=this.sanitizeInput(e);if(!um.isServiceAvailable())return this.getFallbackResponse();if(this.containsEmergencyKeywords(i))return this.getEmergencyResponse();const o=`${xS}

User Question: ${i}`;let c="";if((await um.generateStreamResponse(o,this.conversationHistory,h=>{c+=h,n&&n(h)})).success)return this.addToHistory("user",i),this.addToHistory("assistant",c),this.logInteraction(s,"success"),{success:!0,content:c,type:"ai_response",timestamp:new Date().toISOString(),disclaimer:this.getMedicalDisclaimer()}}catch(i){return console.error("Error in streaming AI response:",i),this.logInteraction(s,"error",i.message),this.getErrorResponse(i.message)}}sanitizeInput(e){return!e||typeof e!="string"?"":e.replace(/\b\d{3}-\d{2}-\d{4}\b/g,"[SSN]").replace(/\b\d{3}-\d{3}-\d{4}\b/g,"[PHONE]").replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL]").replace(/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,"[DATE]").replace(/\b(my name is|i'm|i am)\s+[A-Za-z]+/gi,"my name is [NAME]").trim()}containsEmergencyKeywords(e){const n=["chest pain","heart attack","stroke","can't breathe","difficulty breathing","severe bleeding","unconscious","seizure","overdose","poisoning","severe allergic reaction","anaphylaxis","suicide","self harm"],s=e.toLowerCase();return n.some(i=>s.includes(i))}addToHistory(e,n){this.conversationHistory.push({role:e,content:n,timestamp:Date.now()}),this.conversationHistory.length>this.maxHistoryLength*2&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength*2))}clearHistory(){this.conversationHistory=[]}getHistory(){return this.conversationHistory}logInteraction(e,n,s=null){try{const i={timestamp:new Date().toISOString(),status:n,hasUserId:!!e,error:s?"error_occurred":null,service:"ai_health_assistant"};console.log("AI Interaction Log:",i)}catch(i){console.error("Failed to log AI interaction:",i)}}getEmergencyResponse(){return{success:!0,content:`🚨 **EMERGENCY NOTICE**

This appears to be a medical emergency. Please:

1. **Call emergency services immediately** (911 in the US)
2. **Seek immediate medical attention**
3. **Do not delay for any reason**

If you're experiencing:
- Chest pain or heart problems
- Difficulty breathing
- Severe bleeding
- Signs of stroke
- Allergic reactions
- Thoughts of self-harm

**Please contact emergency services or go to the nearest emergency room immediately.**

This AI assistant cannot help with emergency medical situations. Your safety is the priority.`,type:"emergency_response",timestamp:new Date().toISOString(),isEmergency:!0}}getFallbackResponse(){return{success:!0,content:`I'm sorry, but the AI health assistant is currently unavailable. However, I can still help you with some general guidance:

**For general health questions:**
- Consult reputable health websites like WebMD, Mayo Clinic, or CDC
- Speak with a healthcare professional
- Contact your doctor's office for advice

**For urgent concerns:**
- Call your healthcare provider
- Visit an urgent care center
- Go to the emergency room if serious

**For emergencies:**
- Call 911 (US) or your local emergency number immediately

Remember, while AI can provide helpful information, it should never replace professional medical advice.`,type:"fallback_response",timestamp:new Date().toISOString(),disclaimer:this.getMedicalDisclaimer()}}getErrorResponse(e){return{success:!1,content:`I apologize, but I'm experiencing some technical difficulties right now. 

**What you can do:**
- Try asking your question again in a few moments
- Consult with a healthcare professional for medical concerns
- Visit reputable health websites for general information

**For urgent health matters:**
- Contact your healthcare provider directly
- Call a nurse hotline if available
- Seek immediate medical attention if needed

Please don't hesitate to reach out to a medical professional for any health concerns.`,type:"error_response",timestamp:new Date().toISOString(),error:"service_unavailable",disclaimer:this.getMedicalDisclaimer()}}getMedicalDisclaimer(){return"⚕️ **Medical Disclaimer:** This information is for educational purposes only and should not replace professional medical advice. Always consult with a qualified healthcare provider for medical concerns."}getSuggestedTopics(){return["What is a healthy diet?","How much exercise do I need?","What are the signs of dehydration?","How can I improve my sleep?","What is normal blood pressure?","How to manage stress effectively?","What are the benefits of regular checkups?","How to maintain good mental health?"]}getHealthTips(){return["💧 Stay hydrated - aim for 8 glasses of water daily","🚶‍♀️ Take regular breaks to move and stretch","😴 Prioritize 7-9 hours of quality sleep","🥗 Include fruits and vegetables in your meals","🧘‍♀️ Practice stress management techniques","🩺 Schedule regular health checkups","🚭 Avoid smoking and limit alcohol","🧼 Wash hands frequently to prevent illness"]}};const dm=new NH,F0=({message:t,isTyping:e=!1})=>{const n=t.role==="user",s=t.isEmergency,i=t.type==="error_response";return f.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-3 sm:mb-4 px-1`,children:f.jsxs("div",{className:`flex max-w-[90%] sm:max-w-[80%] ${n?"flex-row-reverse":"flex-row"} items-start gap-2 sm:gap-3`,children:[f.jsx("div",{className:`
          w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center shrink-0 mt-1 shadow-inner ring-1 ring-black/5 dark:ring-0
          ${n?"bg-gradient-to-br from-primary to-primary/80 text-white":s?"bg-red-500 text-white":i?"bg-yellow-500 text-white":"bg-white/80 text-gray-600 dark:bg-gray-700 dark:text-gray-300 backdrop-blur"}
        `,children:n?f.jsx(ar,{className:"text-sm"}):s||i?f.jsx(Fd,{className:"text-sm"}):f.jsx(yc,{className:"text-sm"})}),f.jsxs("div",{className:`
          group rounded-2xl sm:rounded-2xl px-3.5 sm:px-4 py-2.5 sm:py-3 border text-[13px] sm:text-sm leading-relaxed shadow-sm transition-colors
          ${n?"bg-gradient-to-r from-primary to-primary/80 text-white border-primary/70 shadow-primary/20 shadow-md":s?"bg-red-50 border-red-200 dark:bg-red-900/25 dark:border-red-700/70":i?"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/25 dark:border-yellow-700/70":"bg-white/90 border-gray-200 backdrop-blur supports-[backdrop-filter]:bg-white/70 dark:bg-[#1e242c]/80 dark:border-white/10 dark:supports-[backdrop-filter]:bg-[#1e242c]/60"}
        `,children:[f.jsx("div",{className:`
            whitespace-pre-line
            ${n?"text-white":s?"text-red-800 dark:text-red-200":i?"text-yellow-800 dark:text-yellow-200":"text-gray-800 dark:text-gray-100"}
          `,children:e?f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),f.jsx("span",{className:"ml-2 text-secondary",children:"AI is thinking..."})]}):f.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:t.content.split(`
`).map((o,c)=>{if(o.startsWith("**")&&o.endsWith("**"))return f.jsx("h4",{className:"font-bold text-base mb-2 mt-3 first:mt-0",children:o.slice(2,-2)},c);if(o.startsWith("- ")||o.startsWith("• ")||o.startsWith("✅ ")||o.startsWith("❌ "))return f.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[f.jsx("span",{className:"shrink-0 mt-1",children:o.startsWith("✅ ")?"✅":o.startsWith("❌ ")?"❌":(o.startsWith("• "),"•")}),f.jsx("span",{children:o.replace(/^[-•✅❌]\s*/,"")})]},c);if(/^\d+\.\s/.test(o))return f.jsx("div",{className:"mb-1",children:f.jsx("span",{className:"font-medium",children:o})},c);if(o.trim()==="")return f.jsx("div",{className:"h-2"},c);const u=o.split(/(\*\*.*?\*\*)/);return f.jsx("p",{className:"mb-2 last:mb-0 leading-relaxed",children:u.map((h,m)=>h.startsWith("**")&&h.endsWith("**")?f.jsx("strong",{children:h.slice(2,-2)},m):h)},c)})})}),t.timestamp&&!e&&f.jsx("div",{className:`
              text-[10px] sm:text-xs mt-2 opacity-70 select-none
              ${n?"text-white/80":"text-gray-500 dark:text-secondary"}
            `,children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),!n&&!e&&t.disclaimer&&f.jsx("div",{className:`
              text-[10px] sm:text-xs mt-3 p-2 rounded-lg border-t leading-snug tracking-tight
              ${s?"bg-red-100/70 border-red-300 text-red-700 dark:bg-red-900/30 dark:border-red-700 dark:text-red-300":"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-300"}
            `,children:t.disclaimer})]})]})})},dR=({isOpen:t,onClose:e})=>{const{user:n}=In(),[s,i]=E.useState([]),[o,c]=E.useState(""),[u,h]=E.useState(!1),[m,y]=E.useState(!1),[v,b]=E.useState(""),[_,T]=E.useState(!0),[N,I]=E.useState(null),O=E.useRef(null),P=E.useRef(null),R=E.useRef("");E.useEffect(()=>{if(t&&s.length===0){const U={role:"assistant",content:`👋 Hello! I'm your AI Health Assistant. I'm here to provide general health information and answer your health-related questions.

**I can help you with:**
• Understanding medical terms and conditions
• General health and wellness advice
• Lifestyle recommendations
• Explaining symptoms (general information)
• Health prevention tips

**Please remember:** I provide educational information only and cannot replace professional medical advice. For specific medical concerns, always consult with a healthcare provider.

What would you like to know about health today?`,timestamp:new Date().toISOString(),type:"welcome",disclaimer:"⚕️ **Medical Disclaimer:** This information is for educational purposes only and should not replace professional medical advice."};i([U])}},[t,s.length]),E.useEffect(()=>{$()},[s,v]),E.useEffect(()=>{t&&P.current&&P.current.focus()},[t]);const $=()=>{var U;(U=O.current)==null||U.scrollIntoView({behavior:"smooth"})},B=async()=>{if(!o.trim()||u||m)return;const U={role:"user",content:o.trim(),timestamp:new Date().toISOString()};i(F=>[...F,U]),c(""),T(!1),I(null),y(!0),b(""),R.current="";try{const F=await dm.streamHealthResponse(o.trim(),L=>{R.current+=L,b(R.current)},n==null?void 0:n.uid);if(F.success){const L={role:"assistant",content:F.content,timestamp:F.timestamp,type:F.type,isEmergency:F.isEmergency,disclaimer:F.disclaimer};i(xe=>[...xe,L])}else throw new Error(F.error||"Failed to get response")}catch(F){console.error("Error sending message:",F),I(F.message);const L={role:"assistant",content:`I apologize, but I'm having trouble responding right now. Please try again in a moment.

**For immediate health concerns:**
• Contact your healthcare provider
• Call a nurse hotline
• Visit urgent care or emergency room if needed

Error: ${F.message}`,timestamp:new Date().toISOString(),type:"error_response"};i(xe=>[...xe,L])}finally{y(!1),b(""),R.current=""}},q=U=>{c(U),T(!1),P.current&&P.current.focus()},D=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),B())},C=()=>{i([]),T(!0),I(null),dm.clearHistory()},M=dm.getSuggestedTopics(),V=dm.getHealthTips();return t?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 via-black/30 to-black/40 backdrop-blur-sm",onClick:e}),f.jsxs("div",{className:"relative w-full sm:max-w-4xl h-[85vh] sm:h-[80vh] flex flex-col rounded-t-3xl sm:rounded-3xl shadow-xl sm:shadow-2xl border border-gray-200/70 dark:border-white/10 bg-white/90 dark:bg-[#0e1116]/90 backdrop-blur supports-[backdrop-filter]:bg-white/70 dark:supports-[backdrop-filter]:bg-[#0e1116]/75 transition-colors",children:[f.jsx("div",{className:"absolute inset-x-0 top-0 h-1.5 bg-gradient-to-r from-primary via-accent to-primary/60 opacity-70"}),f.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-6 py-4 sm:py-5 border-b border-gray-200/80 dark:border-white/10 bg-gradient-to-br from-white/80 to-white/50 dark:from-[#161b22]/70 dark:to-[#161b22]/40 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-[#161b22]/60",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center shadow-md ring-1 ring-white/40",children:f.jsx(yc,{className:"text-white text-base"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100 tracking-tight",children:"AI Health Assistant"}),f.jsx("p",{className:"text-[11px] sm:text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"General health guidance"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:C,className:"p-2 rounded-lg hover:bg-primary/10 dark:hover:bg-white/10 text-primary dark:text-indigo-300 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/40 dark:focus:ring-indigo-500/40",title:"Clear conversation",children:f.jsx(s1,{className:"text-sm"})}),f.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-500/10 text-red-500 dark:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-300/60 dark:focus:ring-red-500/40",title:"Close assistant",children:f.jsx(Sv,{className:"text-sm"})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-5 space-y-4 scroll-smooth custom-scrollbar",children:[N&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:f.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm",children:N})}),s.map((U,F)=>f.jsx(F0,{message:U},F)),m&&v&&f.jsx(F0,{message:{role:"assistant",content:v,timestamp:new Date().toISOString()}}),m&&!v&&f.jsx(F0,{message:{role:"assistant",content:""},isTyping:!0}),_&&s.length<=1&&f.jsxs("div",{className:"space-y-4 mt-2 sm:mt-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2 tracking-wide",children:[f.jsx(Ak,{className:"text-yellow-500 shrink-0"}),f.jsx("span",{className:"hidden sm:inline",children:"Suggested Questions"}),f.jsx("span",{className:"sm:hidden",children:"Try Asking"})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2",children:M.map((U,F)=>f.jsx("button",{onClick:()=>q(U),className:"text-left p-2.5 sm:p-3 rounded-xl border border-gray-200 dark:border-white/10 hover:border-primary/40 dark:hover:border-indigo-400/50 hover:bg-primary/5 dark:hover:bg-white/10 active:scale-[.98] transition-all text-[11px] sm:text-sm text-gray-700 dark:text-gray-200 font-medium bg-white/70 dark:bg-white/5 backdrop-blur-sm",children:U},F))})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 tracking-wide",children:"💡 Quick Tips"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2",children:V.slice(0,4).map((U,F)=>f.jsx("div",{className:"p-2.5 sm:p-3 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-500/10 dark:to-teal-500/10 border border-emerald-200/70 dark:border-emerald-500/30 text-[11px] sm:text-sm text-emerald-800 dark:text-emerald-200 font-medium shadow-sm",children:U},F))})]})]}),f.jsx("div",{ref:O})]}),f.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200/80 dark:border-white/10 bg-gradient-to-b from-white/60 to-white/70 dark:from-[#0e1116]/70 dark:to-[#0e1116]/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 dark:supports-[backdrop-filter]:bg-[#0e1116]/60",children:[f.jsxs("div",{className:"flex gap-2 sm:gap-3 items-end",children:[f.jsx("div",{className:"flex-1 relative",children:f.jsx("textarea",{ref:P,value:o,onChange:U=>c(U.target.value),onKeyPress:D,placeholder:"Ask a health question...",className:"w-full px-3.5 sm:px-4 py-2.5 sm:py-3 rounded-2xl border border-gray-300 dark:border-white/10 bg-white/80 dark:bg-white/5 text-gray-800 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 resize-none focus:outline-none focus:ring-2 focus:ring-primary/30 dark:focus:ring-indigo-500/40 focus:border-primary/40 dark:focus:border-indigo-400/40 min-h-[44px] max-h-32 shadow-inner",rows:2,disabled:u||m})}),f.jsxs("button",{onClick:B,disabled:!o.trim()||u||m,className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-primary via-indigo-500 to-accent text-white rounded-2xl font-medium hover:brightness-110 active:scale-[.97] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2 shrink-0 shadow-md focus:outline-none focus:ring-2 focus:ring-primary/40 dark:focus:ring-indigo-500/40",children:[f.jsx(Ck,{className:"text-sm"}),"Send"]})]}),f.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-snug",children:"This AI provides general health information only. Consult healthcare professionals for personal medical advice."})]})]})]}):null},RH=()=>{var _;const t=Xs(),{user:e,userProfile:n}=In(),[s,i]=E.useState([]),[o,c]=E.useState(!0),[u,h]=E.useState(null),[m,y]=E.useState(!1);E.useEffect(()=>{n&&n.onboardingCompleted===!1&&t("/user/onboarding")},[n,t]),E.useEffect(()=>{e!=null&&e.uid&&v()},[e]);const v=async()=>{try{c(!0),h(null);const T=await iR(e.uid,null,20,!1);T.success?i(T.data||[]):(h(T.error||"Failed to fetch medical records"),i([]))}catch(T){console.error("Error fetching medical records:",T),h("Failed to load medical records"),i([])}finally{c(!1)}},b=()=>{const T=new Date().getHours();return T<12?"Good Morning":T<17?"Good Afternoon":"Good Evening"};return f.jsxs("div",{className:"min-h-screen bg-background aurora-bg",children:[f.jsx("div",{className:"relative bg-gradient-to-br from-primary/25 via-accent/20 to-transparent px-3 sm:px-6 pt-6 sm:pt-8 pb-4 sm:pb-6 border-b soft-divider",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[f.jsxs("div",{className:"flex items-start gap-4 sm:gap-5",children:[f.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl glass flex items-center justify-center shadow-lg",children:f.jsx(ar,{className:"text-primary text-xl sm:text-2xl"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-text leading-tight break-words",children:[b(),", ",f.jsx("span",{className:"text-primary",children:(e==null?void 0:e.displayName)||((_=e==null?void 0:e.email)==null?void 0:_.split("@")[0])||"User"})]}),f.jsx("div",{className:"mt-3 inline-flex items-center gap-2 glass rounded-full px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-secondary",children:"Your personalized health overview"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[f.jsxs("div",{className:"glass rounded-xl sm:rounded-2xl px-4 sm:px-5 py-2.5 sm:py-3 flex items-center gap-3 shadow-lg",children:[f.jsx(a6,{className:"text-primary shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-[10px] sm:text-xs text-secondary",children:"Today"}),f.jsx("div",{className:"text-xs sm:text-sm font-semibold text-text truncate",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),f.jsxs("button",{className:"relative rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-white shadow-xl bg-gradient-to-r from-accent to-accent/80 hover:from-accent/90 hover:to-accent/70 transition-all",children:[f.jsx(s6,{className:"text-base sm:text-lg"}),f.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-full bg-accent shadow"})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"lg:col-span-8 space-y-6 sm:space-y-8 min-w-0",children:[f.jsx("div",{className:"min-w-0",children:f.jsx(Kz,{})}),f.jsx("div",{className:"min-w-0",children:f.jsx(Wz,{records:s,loading:o,error:u,onRefresh:v})})]}),f.jsxs("div",{className:"lg:col-span-4 space-y-6 sm:space-y-8 min-w-0",children:[f.jsx(Xz,{}),f.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:f.jsx(yc,{className:"text-white text-lg"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text",children:"AI Health Assistant"}),f.jsx("p",{className:"text-xs text-secondary",children:"24/7 health guidance"})]})]}),f.jsx("p",{className:"text-sm text-secondary leading-relaxed mb-4",children:"Get instant answers to your health questions, understand medical terms, and receive personalized wellness tips from our AI assistant."}),f.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[f.jsx(o6,{}),"Start Conversation"]})]}),f.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text mb-3",children:"💡 Health Tip of the Day"}),f.jsx("p",{className:"text-sm text-secondary leading-relaxed",children:"Stay hydrated! Aim to drink at least 8 glasses of water throughout the day to maintain optimal health and energy levels."}),f.jsx("button",{className:"mt-3 text-sm text-primary hover:opacity-80 font-medium",children:"Learn more →"})]})]})]}),f.jsx("button",{onClick:()=>y(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-2xl hover:scale-110 transition-all duration-300 flex items-center justify-center z-40 lg:hidden",title:"Open AI Health Assistant",children:f.jsx(yc,{className:"text-xl"})}),f.jsx(dR,{isOpen:m,onClose:()=>y(!1)})]})};function IH(){const t=Xs(),{signup:e,user:n,userRole:s,loading:i}=In(),[o,c]=E.useState(!1),[u,h]=E.useState(!1);E.useEffect(()=>{o||!i&&n&&s&&t(s==="doctor"?"/doctor":"/user")},[n,s,i,t,o]);const[m,y]=E.useState({name:"",email:"",password:"",role:"user"}),[v,b]=E.useState(""),[_,T]=E.useState(!1),[N,I]=E.useState("weak");if(i)return f.jsxs(f.Fragment,{children:[f.jsx(Yo,{}),f.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"text-primary",children:"Loading..."})})})]});const O=q=>{let D=0;return q.length>=6&&D++,/[A-Z]/.test(q)&&D++,/[0-9]/.test(q)&&D++,/[^A-Za-z0-9]/.test(q)&&D++,D>=4?"strong":D>=2?"moderate":"weak"},P=q=>{const D=q.target.value;y(C=>({...C,password:D})),I(O(D))},R=q=>{y({...m,[q.target.name]:q.target.value}),b("")},$=q=>{y(D=>({...D,role:q}))},B=async q=>{var D;if(q.preventDefault(),N==="weak"){b("Please choose a stronger password (include uppercase, numbers, symbols).");return}try{c(!0),await e(m.name,m.email,m.password,m.role),h(!0);const C=m.role==="doctor"?"/doctor":"/user/onboarding";setTimeout(()=>{t(C)},1400)}catch(C){console.error("Signup failed:",C.message),console.error("Full error:",C),C.code==="auth/email-already-in-use"?b("An account with this email already exists."):(D=C.code)!=null&&D.startsWith("firestore/")?b("Account created but profile setup failed. Please try logging in."):b("Signup failed. Please try again.")}};return f.jsxs(f.Fragment,{children:[f.jsx(Yo,{}),f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-secondary/10 via-background to-primary/10 flex",children:[f.jsxs(ct.div,{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[f.jsx("div",{className:"absolute top-16 right-16 w-36 h-36 bg-secondary/20 rounded-full blur-xl"}),f.jsx("div",{className:"absolute bottom-16 left-16 w-44 h-44 bg-primary/20 rounded-full blur-xl"}),f.jsx("div",{className:"absolute top-1/3 right-1/4 w-28 h-28 bg-accent/20 rounded-full blur-lg"})]}),f.jsx("div",{className:"relative z-10 mb-8",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-52 h-52 bg-gradient-to-br from-secondary to-primary rounded-3xl flex items-center justify-center shadow-2xl transform -rotate-6",children:f.jsx("div",{className:"w-36 h-36 bg-white rounded-2xl flex items-center justify-center",children:f.jsx(f4,{className:"text-7xl text-secondary"})})}),f.jsx(ct.div,{className:"absolute -top-6 -left-6 w-18 h-18 bg-primary rounded-2xl flex items-center justify-center shadow-lg",animate:{x:[-3,3,-3]},transition:{duration:4,repeat:1/0},children:f.jsx(gc,{className:"text-2xl text-white"})}),f.jsx(ct.div,{className:"absolute -bottom-6 -right-6 w-18 h-18 bg-accent rounded-2xl flex items-center justify-center shadow-lg",animate:{x:[3,-3,3]},transition:{duration:4,repeat:1/0,delay:1.5},children:f.jsx(f6,{className:"text-2xl text-white"})})]})}),f.jsxs("div",{className:"space-y-6 text-center max-w-md",children:[f.jsx("h1",{className:"text-4xl font-bold text-secondary mb-2",children:"Join HealSync"}),f.jsx("p",{className:"text-lg text-text/80 mb-8",children:"Start your journey to better healthcare management"})]})]}),f.jsx(ct.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 ",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:f.jsxs("div",{className:"w-full max-w-md",children:[u&&f.jsx(ct.div,{initial:{opacity:0,x:40,y:-20},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:20,y:-10},role:"alert",className:"fixed top-5 right-5 z-50 px-5 py-4 rounded-2xl shadow-xl bg-primary text-white text-sm font-medium flex items-center gap-2 max-w-[90vw] sm:max-w-xs w-auto",style:{pointerEvents:"auto"},children:f.jsx("span",{children:"Account created successfully! Redirecting…"})}),f.jsxs("div",{className:"lg:hidden text-center mb-8",children:[f.jsx(ct.div,{className:"w-20 h-20 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:f.jsx(f4,{className:"text-3xl text-white"})}),f.jsx("h1",{className:"text-2xl font-bold text-secondary",children:"HealSync"}),f.jsx("p",{className:"text-text/70",children:"Start creating your account"})]}),f.jsxs(ct.form,{onSubmit:B,className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border border-accent-40 p-8 rounded-3xl shadow-2xl dark:shadow-white/5 space-y-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-3xl lg:text-3xl font-bold text-secondary",children:"Create Account"}),f.jsx("p",{className:"text-text/70 mt-2",children:"Choose your account type and get started"})]}),f.jsxs("div",{className:"flex gap-3 p-2 bg-gray-100/80 dark:bg-white/5 rounded-2xl backdrop-blur-sm",children:[f.jsxs("button",{type:"button",onClick:()=>$("user"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${m.role==="user"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[f.jsx(m6,{className:"text-sm"}),f.jsx("span",{className:"text-sm",children:"User"})]}),f.jsxs("button",{type:"button",onClick:()=>$("doctor"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${m.role==="doctor"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[f.jsx(Ra,{className:"text-sm"}),f.jsx("span",{className:"text-sm",children:"Doctor"})]})]}),v&&f.jsx(ct.div,{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:v}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-text/80",children:"Full Name"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:f.jsx(ar,{className:"text-text drop-shadow-none"})}),f.jsx("input",{name:"name",type:"text",placeholder:"Enter your full name",required:!0,value:m.name,onChange:R,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-text/80",children:"Email Address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:f.jsx(Ip,{className:"text-text drop-shadow-none"})}),f.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0,value:m.email,onChange:R,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-text/80",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:f.jsx(Gm,{className:"text-text drop-shadow-none"})}),f.jsx("input",{name:"password",type:_?"text":"password",placeholder:"Create a strong password",required:!0,value:m.password,onChange:P,className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"}),f.jsx("button",{type:"button",onClick:()=>T(q=>!q),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-secondary transition-colors",children:_?f.jsx(c6,{}):f.jsx(Oc,{})})]}),m.password&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-text/60",children:"Password Strength:"}),f.jsx("span",{className:`text-xs font-semibold ${N==="weak"?"text-red-500":N==="moderate"?"text-yellow-500":"text-green-500"}`,children:N.charAt(0).toUpperCase()+N.slice(1)})]}),f.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-500 ${N==="weak"?"bg-red-500 w-1/3":N==="moderate"?"bg-yellow-500 w-2/3":"bg-green-500 w-full"}`})})]})]}),f.jsxs(ct.button,{type:"submit",className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Create ",m.role==="doctor"?"Doctor":"User"," Account"]}),f.jsx("div",{className:"text-center pt-4",children:f.jsxs("p",{className:"text-text/70",children:["Already have an account?"," ",f.jsx(Bn,{to:"/login",className:"text-secondary font-semibold hover:underline transition-all",children:"Sign In"})]})})]})]})})]})]})}function DH(){const t=Xs(),{login:e,user:n,userRole:s,loading:i}=In();E.useEffect(()=>{!i&&n&&s&&t(s==="doctor"?"/doctor":"/user")},[n,s,i,t]);const[o,c]=E.useState({email:"",password:"",role:"user"}),[u,h]=E.useState(!1),[m,y]=E.useState("");if(i)return f.jsxs(f.Fragment,{children:[f.jsx(Yo,{}),f.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"text-primary",children:"Loading..."})})})]});const v=T=>{c({...o,[T.target.name]:T.target.value}),y("")},b=T=>{c(N=>({...N,role:T}))},_=async T=>{T.preventDefault();try{const{user:N}=await e(o.email,o.password);console.log("Login successful:",N);const I=Bt(Tt,"users",N.uid),O=await $n(I);if(O.exists()){const R=O.data().role;t(R==="doctor"?"/doctor":"/user")}else y("User profile not found. Please contact support.")}catch(N){y("Invalid email or password."),console.error("Login failed:",N.message)}};return f.jsxs(f.Fragment,{children:[f.jsx(Yo,{}),f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex",children:[f.jsxs(ct.div,{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[f.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary/20 rounded-full blur-xl"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-secondary/20 rounded-full blur-xl"}),f.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-accent/20 rounded-full blur-lg"})]}),f.jsx("div",{className:"relative z-10 mb-8",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-primary to-secondary rounded-3xl flex items-center justify-center shadow-2xl transform rotate-6",children:f.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center",children:f.jsx(gc,{className:"text-6xl text-primary"})})}),f.jsx(ct.div,{className:"absolute -top-4 -right-4 w-16 h-16 bg-accent rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[-5,5,-5]},transition:{duration:3,repeat:1/0},children:f.jsx(f6,{className:"text-2xl text-white"})}),f.jsx(ct.div,{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-secondary rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[5,-5,5]},transition:{duration:3,repeat:1/0,delay:1},children:f.jsx(p6,{className:"text-2xl text-white"})})]})}),f.jsxs("div",{className:"space-y-6 text-center max-w-md",children:[f.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Welcome to HealSync"}),f.jsx("p",{className:"text-lg text-text/80 mb-8",children:"Your comprehensive healthcare management platform"})]})]}),f.jsx(ct.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"lg:hidden text-center mb-8",children:[f.jsx(ct.div,{className:"w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:f.jsx(gc,{className:"text-3xl text-white"})}),f.jsx("h1",{className:"text-2xl font-bold text-primary",children:"HealSync"}),f.jsx("p",{className:"text-text/70",children:"Welcome back to your account"})]}),f.jsxs(ct.form,{onSubmit:_,className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border border-accent-40 p-8 rounded-3xl shadow-2xl dark:shadow-white/5 space-y-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-3xl lg:text-3xl font-bold text-primary",children:"Welcome Back"}),f.jsx("p",{className:"text-text/70 mt-2",children:"Choose your account type and login"})]}),f.jsxs("div",{className:"flex gap-3 p-2 bg-gray-100/80 dark:bg-white/5 rounded-2xl backdrop-blur-sm",children:[f.jsxs("button",{type:"button",onClick:()=>b("user"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="user"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[f.jsx(m6,{className:"text-sm"}),f.jsx("span",{className:"text-sm",children:"User"})]}),f.jsxs("button",{type:"button",onClick:()=>b("doctor"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="doctor"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[f.jsx(Ra,{className:"text-sm"}),f.jsx("span",{className:"text-sm",children:"Doctor"})]})]}),m&&f.jsx(ct.div,{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:m}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-text/80",children:"Email Address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:f.jsx(Ip,{className:"text-text drop-shadow-none"})}),f.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0,value:o.email,onChange:v,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-text/80",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:f.jsx(Gm,{className:"text-text drop-shadow-none"})}),f.jsx("input",{name:"password",type:u?"text":"password",placeholder:"Enter your password",required:!0,value:o.password,onChange:v,className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"}),f.jsx("button",{type:"button",onClick:()=>h(T=>!T),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-primary transition-colors",children:u?f.jsx(c6,{}):f.jsx(Oc,{})})]})]}),f.jsxs(ct.button,{type:"submit",className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Log In as ",o.role==="doctor"?"Doctor":"User"]}),f.jsx("div",{className:"text-center pt-4",children:f.jsxs("p",{className:"text-text/70",children:["Don't have an account?"," ",f.jsx(Bn,{to:"/signup",className:"text-primary font-semibold hover:underline transition-all",children:"Create Account"})]})})]})]})})]})]})}function bS({children:t,requiredRole:e}){const{user:n,userRole:s,loading:i}=In();return i?f.jsx("div",{className:"text-center py-10",children:"Loading..."}):n?e&&s!==e?s==="doctor"?f.jsx(Qh,{to:"/doctor"}):s==="user"?f.jsx(Qh,{to:"/user"}):f.jsx(Qh,{to:"/"}):t:f.jsx(Qh,{to:"/login"})}function jH(){return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(Yo,{}),f.jsxs("div",{className:"flex-1",children:[f.jsx(xA,{})," "]}),f.jsx(ib,{})]})}function MH(){return f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(Yo,{}),f.jsxs("div",{className:"flex-1 p-4",children:[f.jsx(xA,{})," "]}),f.jsx(ib,{})]})}function OH(){const{user:t}=In(),[e,n]=E.useState(null),[s,i]=E.useState(!0),[o,c]=E.useState(!1);E.useEffect(()=>{(async()=>{if(t)try{const y=Bt(Tt,"users",t.uid),v=await $n(y);v.exists()&&v.data().doctorId&&n(v.data().doctorId)}catch(y){console.error("Error fetching doctor ID:",y)}finally{i(!1)}})()},[t]);const u=async()=>{if(e)try{await navigator.clipboard.writeText(e),c(!0),setTimeout(()=>c(!1),2e3)}catch(m){console.error("Failed to copy doctor ID:",m)}},h=async()=>{if(e)try{navigator.share?await navigator.share({title:"HealSync Doctor ID",text:`Here is my Doctor ID: ${e}
Use HealSync to share your records with me.`,url:window.location.origin}):await u()}catch{await u()}};return s?f.jsx("div",{className:"glass-elevated rounded-3xl p-6",children:f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-5 bg-[rgba(var(--primary-rgb)/0.25)] rounded w-1/3 mb-3"}),f.jsx("div",{className:"h-10 bg-[rgba(var(--surface-rgb)/0.2)] rounded w-2/3"})]})}):e?f.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden hover-glow-primary",children:[f.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:f.jsx(Sk,{})}),f.jsx("h3",{className:"text-lg font-semibold text-text",children:"Your Doctor ID"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:h,className:"inline-flex sm:hidden items-center justify-center w-9 h-9 rounded-full glass border soft-divider text-primary hover:brightness-110",title:"Share with Patients","aria-label":"Share with Patients",children:f.jsx(Km,{className:"text-sm"})}),f.jsx("span",{className:"hidden sm:inline-flex px-3 py-1.5 rounded-full text-xs text-primary bg-[rgba(var(--primary-rgb)/0.15)] border soft-divider",children:"Share with Patients"})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[f.jsxs("div",{className:"flex-1 rounded-2xl p-4 border soft-divider glass",children:[f.jsx("div",{className:"text-secondary text-xs mb-1",children:"Doctor ID"}),f.jsx("code",{className:"text-xl font-mono font-bold text-primary tracking-wider",children:e})]}),f.jsxs("button",{onClick:u,className:`glass-cta flex items-center gap-2 px-5 py-3 ${o?"brightness-110":""}`,title:"Copy Doctor ID",children:[o?f.jsx(wk,{className:"text-sm"}):f.jsx(_k,{className:"text-sm"}),o?"Copied!":"Copy"]})]}),f.jsxs("div",{className:"rounded-2xl p-5 border soft-divider glass",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-primary",children:[f.jsx(Km,{}),f.jsx("h4",{className:"font-medium",children:"How patients can share with you:"})]}),f.jsxs("ol",{className:"text-sm text-secondary space-y-2 ml-5 list-decimal",children:[f.jsxs("li",{children:["Ask your patients to use the ",f.jsx("span",{className:"text-primary font-medium",children:'"Share to Doctor"'})," button on their profile"]}),f.jsxs("li",{children:["They should enter your Doctor ID: ",f.jsx("code",{className:"px-2 py-0.5 rounded bg-[rgba(var(--primary-rgb)/0.15)] text-primary font-mono text-xs border soft-divider",children:e})]}),f.jsx("li",{children:"You'll receive instant access to their medical records and profile"})]})]})]})]}):f.jsxs("div",{className:"glass-elevated rounded-3xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Doctor ID Not Found"}),f.jsx("p",{className:"text-secondary text-sm",children:"Your doctor ID was not found. Please contact support if this issue persists."})]})}function kH(){const{user:t}=In(),e=Xs(),[n,s]=E.useState([]),[i,o]=E.useState(!0),[c,u]=E.useState(null);E.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{o(!0);const v=await Cz(t.uid);if(v.success){const b=await Promise.all(v.data.map(async _=>{try{const T=Bt(Tt,"users",_.patientId),N=await $n(T),I=N.exists()?N.data().name:"Unknown Patient",O=N.exists()?N.data().email:"";return{..._,patientName:I,patientEmail:O}}catch(T){return console.error(`Error fetching patient data for ${_.patientId}:`,T),{..._,patientName:"Unknown Patient",patientEmail:""}}}));s(b)}else u(v.error)}catch(v){console.error("Error fetching shared profiles:",v),u("Failed to load shared profiles")}finally{o(!1)}},m=v=>{e(`/doctor/shared-profile/${v}`)},y=v=>{if(!v)return"Unknown";try{return(v.toDate?v.toDate():new Date(v)).toLocaleDateString()}catch{return"Unknown"}};return i?f.jsx("div",{className:"glass-elevated rounded-3xl p-8",children:f.jsxs("div",{className:"flex items-center justify-center py-8",children:[f.jsx(Lr,{className:"animate-spin text-2xl text-primary mr-2"}),f.jsx("span",{className:"text-secondary",children:"Loading shared profiles..."})]})}):c?f.jsxs("div",{className:"glass-elevated rounded-3xl p-8",children:[f.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Error Loading Profiles"}),f.jsx("p",{className:"text-secondary text-sm",children:c})]}):n.length===0?f.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:f.jsx("h2",{className:"text-xl font-bold text-text",children:"Shared Patient Records"})}),f.jsxs("div",{className:"text-center py-12 px-6",children:[f.jsx(ar,{className:"text-4xl mx-auto mb-4 text-primary/70"}),f.jsx("p",{className:"text-lg text-text mb-2",children:"No patient records shared yet."}),f.jsx("p",{className:"text-sm text-secondary",children:"Share your Doctor ID with patients to receive their medical records."})]})]}):f.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden hover-glow-primary",children:[f.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:f.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-text",children:["Shared Patient Records (",n.length,")"]})}),f.jsx("div",{className:"p-4 sm:p-6",children:f.jsx("div",{className:"space-y-3 sm:space-y-4",children:n.map(v=>f.jsx("div",{className:"glass rounded-xl sm:rounded-2xl p-4 sm:p-5 border soft-divider transition-all lift-on-hover hover-glow-primary",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1.5 sm:mb-2 min-w-0",children:[f.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center shrink-0",children:f.jsx(ar,{})}),f.jsx("h3",{className:"font-semibold text-text truncate",children:v.patientName})]}),f.jsx("p",{className:"text-xs sm:text-sm text-secondary mb-1 truncate",children:v.patientEmail}),f.jsxs("div",{className:"flex items-center gap-2 text-[11px] sm:text-xs text-secondary",children:[f.jsx(r6,{}),f.jsxs("span",{children:["Shared on ",y(v.sharedAt)]})]})]}),f.jsxs("button",{onClick:()=>m(v.id),className:"glass-cta flex items-center justify-center gap-2 w-full sm:w-auto px-4 sm:px-5 py-2 sm:py-2.5",children:[f.jsx(Oc,{className:"text-sm"}),f.jsx("span",{className:"text-sm sm:text-base",children:"View Profile"})]})]})},v.id))})})]})}function PH(){var i;const{user:t}=In(),[e,n]=E.useState(!1),s=()=>{const o=new Date().getHours();return o<12?"Good Morning":o<17?"Good Afternoon":"Good Evening"};return f.jsxs("div",{className:"min-h-screen bg-background aurora-bg",children:[f.jsx("div",{className:"relative bg-gradient-to-br from-primary/25 via-accent/20 to-transparent px-3 sm:px-6 pt-6 sm:pt-8 pb-4 sm:pb-6 border-b soft-divider",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[f.jsxs("div",{className:"flex items-start gap-4 sm:gap-5",children:[f.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl glass flex items-center justify-center shadow-lg",children:f.jsx(Tv,{className:"text-primary text-xl sm:text-2xl"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-text leading-tight break-words",children:[s(),", ",f.jsxs("span",{className:"text-primary",children:["Dr. ",(t==null?void 0:t.displayName)||((i=t==null?void 0:t.email)==null?void 0:i.split("@")[0])||"Doctor"]})]}),f.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 glass rounded-full px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-secondary",children:[f.jsx(gc,{className:"text-accent"}),"Manage patient care with precision"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[f.jsxs("div",{className:"glass rounded-xl sm:rounded-2xl px-4 sm:px-5 py-2.5 sm:py-3 flex items-center gap-3 shadow-lg",children:[f.jsx(a6,{className:"text-primary shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-[10px] sm:text-xs text-secondary",children:"Today"}),f.jsx("div",{className:"text-xs sm:text-sm font-semibold text-text truncate",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),f.jsxs("button",{className:"relative rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-white shadow-xl bg-gradient-to-r from-accent to-accent/80 hover:from-accent/90 hover:to-accent/70 transition-all",children:[f.jsx(s6,{className:"text-base sm:text-lg"}),f.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-full bg-accent shadow"})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"lg:col-span-8 space-y-6 sm:space-y-8",children:[f.jsxs("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl p-4 sm:p-6 hover-glow-primary",children:[f.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-text mb-4 sm:mb-6 flex items-center gap-3",children:[f.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:f.jsx(bk,{className:"text-xs sm:text-sm"})}),"Quick Actions"]}),f.jsxs("div",{className:"flex md:grid md:grid-cols-3 gap-3 sm:gap-4 overflow-x-auto md:overflow-visible snap-x snap-mandatory pb-2 -mx-1 px-1",children:[f.jsxs("button",{className:"group glass rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-primary transition-all border soft-divider snap-start min-w-[240px] md:min-w-0",children:[f.jsx(p6,{className:"text-primary text-xl sm:text-2xl mb-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"View All Patients"}),f.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Manage patient records"})]})]}),f.jsxs("button",{className:"group rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-accent transition-all border soft-divider bg-gradient-to-br from-accent/25 to-accent/10 snap-start min-w-[240px] md:min-w-0",children:[f.jsx(gc,{className:"text-accent text-xl sm:text-2xl mb-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"Schedule Appointment"}),f.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Book new consultations"})]})]}),f.jsxs("button",{className:"group glass rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-primary transition-all border soft-divider snap-start min-w-[240px] md:min-w-0",children:[f.jsx(Tv,{className:"text-secondary text-xl sm:text-2xl mb-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"Medical Reports"}),f.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Generate & view reports"})]})]})]})]}),f.jsx("div",{className:"min-w-0",children:f.jsx(kH,{})})]}),f.jsxs("div",{className:"lg:col-span-4 space-y-6 sm:space-y-8 min-w-0",children:[f.jsx(OH,{}),f.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:f.jsx(yc,{className:"text-white text-lg"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text",children:"AI Health Assistant"}),f.jsx("p",{className:"text-xs text-secondary",children:"Medical reference & support"})]})]}),f.jsx("p",{className:"text-sm text-secondary leading-relaxed mb-4",children:"Access medical reference information, get explanations of conditions and treatments, and stay updated with health guidelines."}),f.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all flex items-center justify-center gap-2",children:[f.jsx(o6,{}),"Consult AI Assistant"]})]})]})]}),f.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-2xl hover:scale-110 transition-all duration-300 flex items-center justify-center z-40 lg:hidden",title:"Open AI Health Assistant",children:f.jsx(yc,{className:"text-xl"})}),f.jsx(dR,{isOpen:e,onClose:()=>n(!1)})]})}function fR(t){return Ae({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.02 5.364a3 3 0 0 0-4.242-4.243L1.121 6.778a3 3 0 1 0 4.243 4.243l5.657-5.657Zm-6.413-.657 2.878-2.879a2 2 0 1 1 2.829 2.829L7.435 7.536zM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8m-.5 1.042a3 3 0 0 0 0 5.917zm1 5.917a3 3 0 0 0 0-5.917z"},child:[]}]})(t)}function hR(t){return Ae({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 0A5.5 5.5 0 0 0 3 5.5v7.047a3.453 3.453 0 0 0 6.687 1.212l.51-1.363a4.6 4.6 0 0 1 .67-1.197l2.008-2.581A5.34 5.34 0 0 0 8.66 0zM7 5.5v2.695q.168-.09.332-.192c.327-.208.577-.44.72-.727a.5.5 0 1 1 .895.448c-.256.513-.673.865-1.079 1.123A9 9 0 0 1 7 9.313V11.5a.5.5 0 0 1-1 0v-6a2.5 2.5 0 0 1 5 0V6a.5.5 0 0 1-1 0v-.5a1.5 1.5 0 1 0-3 0"},child:[]}]})(t)}function vp(t){return Ae({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"},child:[]},{tag:"path",attr:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"},child:[]}]})(t)}function mR(t){return Ae({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"},child:[]}]})(t)}function VH(){var Yt,ts,us,Es,ds,Qs,ri,bn,Ja,Zs,G,ee,ie,_e,ge,me,be,Ne,Ge,ut,Ts,qn,Ss,ns,ss,Dn,As,Cs,Js,Gi,Ki,Ns,Rs,Yi;const{shareId:t}=O8(),e=Xs(),{user:n}=In(),[s,i]=E.useState(null),[o,c]=E.useState(null),[u,h]=E.useState({name:"",email:""}),[m,y]=E.useState(!0),[v,b]=E.useState(null),[_,T]=E.useState("profile"),[N,I]=E.useState([]),[O,P]=E.useState(!1),[R,$]=E.useState(null),[B,q]=E.useState({hasMore:!1,lastDoc:null,currentPageSize:0,requestedPageSize:20}),[D,C]=E.useState(!1),[M,V]=E.useState(!1),[U,F]=E.useState(""),[L,xe]=E.useState(null),[pe,Y]=E.useState(!1),[Z,se]=E.useState(null),we=E.useCallback(async()=>{try{y(!0);const ve=await Sz(t,n.uid);if(!ve.success){b(ve.error);return}i(ve.data);const ze=await Az(ve.data.patientId);ze.success&&h(ze.data);const ft=await Nz(ve.data.patientId);if(!ft.success){b(ft.error);return}c(ft.data)}catch(ve){console.error("Error fetching shared profile:",ve),b("Failed to load patient profile. Please try again.")}finally{y(!1)}},[t,n.uid]),z=E.useCallback(async(ve=!1)=>{if(s)try{P(!0),$(null);const ze=ve?B.lastDoc:null,ft=await Dz(n.uid,s.patientId,ze,20);ft.success?(I(ve?et=>[...et,...ft.data]:ft.data),q(ft.pagination)):$(ft.error)}catch(ze){console.error("Error fetching medical records:",ze),$("Failed to load medical records.")}finally{P(!1)}},[s,n.uid,B.lastDoc]);E.useEffect(()=>{if(!L)return;const ve=setTimeout(()=>xe(null),5e3);return()=>clearTimeout(ve)},[L]),E.useEffect(()=>{n&&we()},[n,t,we]),E.useEffect(()=>{s&&_==="medical-records"&&z()},[s,_,z]);const le=async ve=>{if(s){F("");try{V(!0);const ze=await Rz(n.uid,s.patientId,ve);ze.success?(C(!1),z(),xe({type:"success",message:"Medical record added successfully"})):F(ze.error||"Failed to add medical record")}catch(ze){console.error("Error adding medical record:",ze),F("Failed to add medical record. Please try again.")}finally{V(!1)}}},he=async ve=>{if(Z){F("");try{V(!0);const ze=await Iz(String(Z.id),n.uid,ve);ze.success?(Y(!1),se(null),z(),xe({type:"success",message:"Medical record updated successfully"})):F(ze.error||"Failed to update medical record")}catch(ze){console.error("Error updating medical record:",ze),F("Failed to update medical record. Please try again.")}finally{V(!1)}}},fe=({toast:ve})=>ve?Ks.createPortal(f.jsx("div",{className:"fixed top-20 right-4 z-[9999] pointer-events-none",children:f.jsxs("div",{role:"alert",className:`pointer-events-auto glass-elevated border soft-divider rounded-xl px-5 py-4 text-sm sm:text-base font-semibold shadow-xl flex items-start gap-3 ${ve.type==="success"?"text-green-400":"text-red-400"}`,children:[ve.type==="success"?f.jsx(i6,{className:"mt-0.5 shrink-0"}):f.jsx(Ek,{className:"mt-0.5 shrink-0"}),f.jsx("span",{className:"text-text",children:ve.message})]})}),document.body):null,De=()=>{const[ve,ze]=E.useState({visitDate:new Date().toISOString().split("T")[0],diagnosis:"",symptoms:"",medicines:"",prescribedTests:"",followUpNotes:""}),ft=et=>{et.preventDefault();const vt={...ve,symptoms:ve.symptoms.split(",").map(tn=>tn.trim()).filter(tn=>tn),medicines:ve.medicines.split(",").map(tn=>tn.trim()).filter(tn=>tn),prescribedTests:ve.prescribedTests.split(",").map(tn=>tn.trim()).filter(tn=>tn)};le(vt)};return E.useEffect(()=>{if(!D)return;const et=vt=>{vt.key==="Escape"&&C(!1)};return window.addEventListener("keydown",et),()=>window.removeEventListener("keydown",et)},[]),D?f.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm p-4 sm:p-6 flex items-center justify-center",onClick:()=>C(!1),children:f.jsx("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border soft-divider",onClick:et=>et.stopPropagation(),children:f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Add Medical Record"}),f.jsx("button",{onClick:()=>C(!1),className:"w-9 h-9 rounded-lg glass border soft-divider text-secondary hover-glow-primary flex items-center justify-center","aria-label":"Close",children:f.jsx(Sv,{className:"text-sm"})})]}),U&&f.jsx("div",{className:"mb-3 sm:mb-4 glass border soft-divider rounded-lg p-3 text-red-400 bg-red-500/10",children:U}),f.jsxs("form",{onSubmit:ft,className:"space-y-3 sm:space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Visit Date"}),f.jsx("input",{type:"date",value:ve.visitDate,onChange:et=>{ze(vt=>({...vt,visitDate:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Diagnosis"}),f.jsx("input",{type:"text",value:ve.diagnosis,onChange:et=>{ze(vt=>({...vt,diagnosis:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",placeholder:"Enter diagnosis",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Symptoms (comma-separated)"}),f.jsx("textarea",{value:ve.symptoms,onChange:et=>{ze(vt=>({...vt,symptoms:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Headache, Nausea, Fever"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Medicines (comma-separated)"}),f.jsx("textarea",{value:ve.medicines,onChange:et=>{ze(vt=>({...vt,medicines:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Paracetamol 500mg, Ibuprofen 200mg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Prescribed Tests (comma-separated)"}),f.jsx("textarea",{value:ve.prescribedTests,onChange:et=>{ze(vt=>({...vt,prescribedTests:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Blood Test, X-Ray, MRI"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Follow-up Notes"}),f.jsx("textarea",{value:ve.followUpNotes,onChange:et=>{ze(vt=>({...vt,followUpNotes:et.target.value})),F("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"3",placeholder:"Any additional notes or follow-up instructions"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2 sm:pt-4",children:[f.jsx("button",{type:"submit",disabled:M,className:"flex-1 glass-cta px-4 py-2 flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:M?f.jsxs(f.Fragment,{children:[f.jsx(Lr,{className:"animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ev,{}),"Save Record"]})}),f.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary",children:"Cancel"})]})]})]})})}):null},He=()=>{var et,vt,tn;const[ve,ze]=E.useState({visitDate:Z!=null&&Z.visitDate?new Date(Z.visitDate).toISOString().split("T")[0]:"",diagnosis:(Z==null?void 0:Z.diagnosis)||"",symptoms:((et=Z==null?void 0:Z.symptoms)==null?void 0:et.join(", "))||"",medicines:((vt=Z==null?void 0:Z.medicines)==null?void 0:vt.join(", "))||"",prescribedTests:((tn=Z==null?void 0:Z.prescribedTests)==null?void 0:tn.join(", "))||"",followUpNotes:(Z==null?void 0:Z.followUpNotes)||""});E.useEffect(()=>{var Ke,tt,rt;Z&&ze({visitDate:Z.visitDate?new Date(Z.visitDate).toISOString().split("T")[0]:"",diagnosis:Z.diagnosis||"",symptoms:((Ke=Z.symptoms)==null?void 0:Ke.join(", "))||"",medicines:((tt=Z.medicines)==null?void 0:tt.join(", "))||"",prescribedTests:((rt=Z.prescribedTests)==null?void 0:rt.join(", "))||"",followUpNotes:Z.followUpNotes||""})},[]);const ft=Ke=>{Ke.preventDefault();const tt={...ve,symptoms:ve.symptoms.split(",").map(rt=>rt.trim()).filter(rt=>rt),medicines:ve.medicines.split(",").map(rt=>rt.trim()).filter(rt=>rt),prescribedTests:ve.prescribedTests.split(",").map(rt=>rt.trim()).filter(rt=>rt)};he(tt)};return pe?f.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm p-4 sm:p-6 flex items-center justify-center",onClick:()=>Y(!1),children:f.jsx("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border soft-divider",onClick:Ke=>Ke.stopPropagation(),children:f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Edit Medical Record"}),f.jsx("button",{onClick:()=>{Y(!1),se(null)},className:"w-9 h-9 rounded-lg glass border soft-divider text-secondary hover-glow-primary flex items-center justify-center","aria-label":"Close",children:f.jsx(Sv,{className:"text-sm"})})]}),U&&f.jsx("div",{className:"mb-3 sm:mb-4 glass border soft-divider rounded-lg p-3 text-red-400 bg-red-500/10",children:U}),f.jsxs("form",{onSubmit:ft,className:"space-y-3 sm:space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Visit Date"}),f.jsx("input",{type:"date",value:ve.visitDate,onChange:Ke=>ze(tt=>({...tt,visitDate:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Diagnosis"}),f.jsx("input",{type:"text",value:ve.diagnosis,onChange:Ke=>ze(tt=>({...tt,diagnosis:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",placeholder:"Enter diagnosis",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Symptoms (comma-separated)"}),f.jsx("textarea",{value:ve.symptoms,onChange:Ke=>ze(tt=>({...tt,symptoms:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Headache, Nausea, Fever"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Medicines (comma-separated)"}),f.jsx("textarea",{value:ve.medicines,onChange:Ke=>ze(tt=>({...tt,medicines:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Paracetamol 500mg, Ibuprofen 200mg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Prescribed Tests (comma-separated)"}),f.jsx("textarea",{value:ve.prescribedTests,onChange:Ke=>ze(tt=>({...tt,prescribedTests:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Blood Test, X-Ray, MRI"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Follow-up Notes"}),f.jsx("textarea",{value:ve.followUpNotes,onChange:Ke=>ze(tt=>({...tt,followUpNotes:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"3",placeholder:"Any additional notes or follow-up instructions"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2 sm:pt-4",children:[f.jsx("button",{type:"submit",disabled:M,className:"flex-1 glass-cta px-4 py-2 flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:M?f.jsxs(f.Fragment,{children:[f.jsx(Lr,{className:"animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ev,{}),"Update Record"]})}),f.jsx("button",{type:"button",onClick:()=>{Y(!1),se(null)},className:"px-4 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary",children:"Cancel"})]})]})]})})}):null},Re=({title:ve,children:ze,className:ft="",icon:et})=>f.jsxs("div",{className:`glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary ${ft}`,children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-9 h-9 rounded-lg bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center",children:et&&f.jsx(et,{className:"text-base"})}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text",children:ve})]}),ze]}),Ee=({label:ve,value:ze,icon:ft})=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border soft-divider glass",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ft&&f.jsx(ft,{className:"text-primary text-sm shrink-0"}),f.jsx("span",{className:"text-sm font-medium text-text truncate",children:ve})]}),f.jsx("span",{className:"text-sm text-secondary font-medium max-w-[60%] text-right truncate",children:ze||"Not specified"})]}),Me=({items:ve,colorClass:ze="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"})=>f.jsx("div",{className:"flex flex-wrap gap-2",children:ve&&ve.length>0?ve.map((ft,et)=>f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ze}`,children:ft},et)):f.jsx("span",{className:"text-sm text-gray-500 italic",children:"None specified"})}),jt=({record:ve})=>{const ze=()=>{if(!ve.createdAt)return!1;const ft=ve.createdAt.toDate();return(new Date().getTime()-ft.getTime())/(1e3*60)<30};return f.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-base sm:text-lg font-semibold text-text",children:ve.diagnosis||"Medical Record"}),f.jsxs("p",{className:"text-xs sm:text-sm text-secondary",children:[ve.visitDate?new Date(ve.visitDate).toLocaleDateString():"No date specified",ve.createdAt?` at ${new Date(ve.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""," ","• ",ve.doctorName||"Unknown Doctor"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[ze()&&f.jsx("button",{onClick:()=>{se(ve),Y(!0)},className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:f.jsx(qm,{className:"text-sm"})}),ve.fileName&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:f.jsx(Oc,{className:"text-sm"})}),f.jsx("button",{className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:f.jsx(l6,{className:"text-sm"})})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Symptoms"}),f.jsx(Me,{items:ve.symptoms,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Medicines"}),f.jsx(Me,{items:ve.medicines,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})]}),ve.prescribedTests&&ve.prescribedTests.length>0&&f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Prescribed Tests"}),f.jsx(Me,{items:ve.prescribedTests,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})]}),ve.followUpNotes&&f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Follow-up Notes"}),f.jsx("p",{className:"text-sm text-secondary glass p-3 rounded-lg border soft-divider",children:ve.followUpNotes})]})]})]})};return m?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Lr,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading patient profile..."})]})}):v?f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"Access Denied"}),f.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:v}),f.jsx("button",{onClick:()=>e("/doctor"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90",children:"Back to Dashboard"})]})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 space-y-6 aurora-bg",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[f.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 glass rounded-full px-3 py-1.5 text-sm text-secondary hover-glow-primary",children:[f.jsx(e1,{}),f.jsx("span",{className:"font-medium",children:"Back to Patient List"})]}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs glass border soft-divider text-secondary",children:["Shared on ",((us=(ts=(Yt=s==null?void 0:s.sharedAt)==null?void 0:Yt.toDate)==null?void 0:ts.call(Yt))==null?void 0:us.toLocaleDateString())||"Unknown"]})})]}),f.jsx("div",{className:"glass-elevated rounded-3xl p-5 sm:p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-gradient-to-br from-primary to-accent text-white flex items-center justify-center shadow-lg",children:f.jsx(ar,{className:"text-xl sm:text-2xl"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text truncate",children:u.name||"Patient Name"}),f.jsxs("p",{className:"text-secondary flex items-center gap-2 text-sm truncate",children:[f.jsx(Ip,{className:"text-xs"}),f.jsx("span",{className:"truncate",children:u.email||"No email provided"})]})]})]})}),f.jsxs("div",{className:"glass rounded-xl p-1 border soft-divider flex gap-1",children:[f.jsxs("button",{onClick:()=>T("profile"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 px-2.5 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ${_==="profile"?"bg-[rgba(var(--primary-rgb)/0.15)] text-primary":"text-secondary hover:text-text"}`,children:[f.jsx(ar,{className:"text-xs sm:text-sm"}),"Profile Information"]}),f.jsxs("button",{onClick:()=>T("medical-records"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 px-2.5 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ${_==="medical-records"?"bg-[rgba(var(--primary-rgb)/0.15)] text-primary":"text-secondary hover:text-text"}`,children:[f.jsx(oc,{className:"text-xs sm:text-sm"}),"Medical Records"]})]}),_==="profile"&&o&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[f.jsx(Re,{title:"Basic Information",icon:ar,children:f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ee,{label:"Full Name",value:(Es=o.basic)==null?void 0:Es.fullName,icon:ar}),f.jsx(Ee,{label:"Gender",value:(ds=o.basic)==null?void 0:ds.gender,icon:h6}),f.jsx(Ee,{label:"Date of Birth",value:(Qs=o.basic)!=null&&Qs.dob?new Date(o.basic.dob).toLocaleDateString():null,icon:r6}),f.jsx(Ee,{label:"Contact Number",value:(ri=o.basic)==null?void 0:ri.contactNumber,icon:A0})]})}),f.jsx(Re,{title:"Physical Details",icon:yp,children:f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ee,{label:"Height",value:(bn=o.basic)!=null&&bn.height?`${o.basic.height.value} ${o.basic.height.unit}`:null,icon:yp}),f.jsx(Ee,{label:"Weight",value:(Ja=o.basic)!=null&&Ja.weight?`${o.basic.weight.value} ${o.basic.weight.unit}`:null,icon:i1}),f.jsx(Ee,{label:"Blood Group",value:(Zs=o.basic)==null?void 0:Zs.bloodGroup,icon:r1})]})}),f.jsx(Re,{title:"Emergency Contact",icon:A0,children:f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ee,{label:"Name",value:(ee=(G=o.basic)==null?void 0:G.emergencyContact)==null?void 0:ee.name,icon:ar}),f.jsx(Ee,{label:"Phone",value:(_e=(ie=o.basic)==null?void 0:ie.emergencyContact)==null?void 0:_e.number,icon:A0}),f.jsx(Ee,{label:"Relation",value:(me=(ge=o.basic)==null?void 0:ge.emergencyContact)==null?void 0:me.relation})]})}),f.jsx(Re,{title:"Chronic Conditions",icon:n1,children:f.jsx(Me,{items:(be=o.medical)==null?void 0:be.chronicConditions,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})}),f.jsx(Re,{title:"Allergies",icon:mR,children:f.jsx(Me,{items:(Ne=o.medical)==null?void 0:Ne.allergies,colorClass:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"})}),f.jsx(Re,{title:"Current Medications",icon:fR,children:f.jsx(Me,{items:(Ge=o.medical)==null?void 0:Ge.currentMedications,colorClass:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"})}),f.jsx(Re,{title:"Disabilities",icon:y6,children:f.jsx(Me,{items:(ut=o.medical)==null?void 0:ut.disabilities,colorClass:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"})}),f.jsx(Re,{title:"Vision & Hearing",icon:vp,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(vp,{className:"text-primary"}),"Wears Glasses"]}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(qn=(Ts=o.medical)==null?void 0:Ts.vision)!=null&&qn.wearsGlasses?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(ns=(Ss=o.medical)==null?void 0:Ss.vision)!=null&&ns.wearsGlasses?"Yes":"No"})]}),((Dn=(ss=o.medical)==null?void 0:ss.vision)==null?void 0:Dn.wearsGlasses)&&f.jsxs(f.Fragment,{children:[f.jsx(Ee,{label:"Left Eye",value:(Cs=(As=o.medical)==null?void 0:As.vision)==null?void 0:Cs.leftEye}),f.jsx(Ee,{label:"Right Eye",value:(Gi=(Js=o.medical)==null?void 0:Js.vision)==null?void 0:Gi.rightEye})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(hR,{className:"text-primary"}),"Uses Hearing Aids"]}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(Ki=o.medical)!=null&&Ki.hearingAids?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(Ns=o.medical)!=null&&Ns.hearingAids?"Yes":"No"})]})]})}),f.jsx(Re,{title:"Lifestyle Habits",icon:d6,children:f.jsx(Me,{items:(Rs=o.lifestyle)==null?void 0:Rs.habits,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})}),f.jsx(Re,{title:"Dietary Preferences",icon:g6,children:f.jsx(Me,{items:(Yi=o.lifestyle)==null?void 0:Yi.preferences,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})})]}),_==="medical-records"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Medical Records"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-xs sm:text-sm text-secondary",children:[N.length," record(s) found"]}),f.jsxs("button",{onClick:()=>C(!0),className:"glass-cta px-4 py-2 flex items-center gap-2",children:[f.jsx(_v,{className:"text-sm"}),f.jsx("span",{className:"text-sm",children:"Add Medical Record"})]})]})]}),R&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[f.jsx("p",{className:"text-red-600 dark:text-red-300",children:R}),f.jsx("button",{onClick:()=>z(),className:"mt-2 text-sm text-red-700 dark:text-red-400 hover:underline",children:"Try again"})]}),O&&N.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Lr,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading medical records..."})]}):N.length>0?f.jsxs("div",{className:"space-y-4",children:[N.map((ve,ze)=>f.jsx(jt,{record:ve},ve.id||ze)),B.hasMore&&f.jsx("div",{className:"text-center py-4",children:f.jsx("button",{onClick:()=>z(!0),disabled:O,className:"px-6 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:O?f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Lr,{className:"animate-spin"}),"Loading..."]}):"Load More Records"})})]}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx(oc,{className:"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Medical Records"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No medical records found for this patient."}),f.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity mx-auto",children:[f.jsx(_v,{className:"text-sm"}),"Add First Medical Record"]})]})]}),!o&&!m&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(ar,{className:"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Profile Data"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This patient hasn't completed their profile yet."})]})]}),f.jsx(De,{}),f.jsx(He,{}),f.jsx(fe,{toast:L})]})}const pR=typeof document<"u"?Pe.useLayoutEffect:()=>{};var B0;const LH=(B0=Pe.useInsertionEffect)!==null&&B0!==void 0?B0:pR;function UH(t){const e=E.useRef(null);return LH(()=>{e.current=t},[t]),E.useCallback((...n)=>{const s=e.current;return s==null?void 0:s(...n)},[])}const Za=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Uo=t=>t&&"window"in t&&t.window===t?t:Za(t).defaultView||window;function FH(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function BH(t){return FH(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let zH=!1;function ob(){return zH}function gR(t,e){if(!ob())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:BH(n)?n=n.host:n=n.parentNode}return!1}const Jv=(t=document)=>{var e;if(!ob())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function yR(t){return ob()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function HH(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(s=>t.test(s.brand))||t.test(window.navigator.userAgent)}function $H(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function vR(t){let e=null;return()=>(e==null&&(e=t()),e)}const qH=vR(function(){return $H(/^Mac/i)}),GH=vR(function(){return HH(/Android/i)});function xR(){let t=E.useRef(new Map),e=E.useCallback((i,o,c,u)=>{let h=u!=null&&u.once?(...m)=>{t.current.delete(c),c(...m)}:c;t.current.set(c,{type:o,eventTarget:i,fn:h,options:u}),i.addEventListener(o,h,u)},[]),n=E.useCallback((i,o,c,u)=>{var h;let m=((h=t.current.get(c))===null||h===void 0?void 0:h.fn)||c;i.removeEventListener(o,m,u),t.current.delete(c)},[]),s=E.useCallback(()=>{t.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return E.useEffect(()=>s,[s]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:s}}function KH(t){return t.mozInputSource===0&&t.isTrusted?!0:GH()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function bR(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function YH(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function wR(t){let e=E.useRef({isFocused:!1,observer:null});pR(()=>{const s=e.current;return()=>{s.observer&&(s.observer.disconnect(),s.observer=null)}},[]);let n=UH(s=>{t==null||t(s)});return E.useCallback(s=>{if(s.target instanceof HTMLButtonElement||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=s.target,o=c=>{if(e.current.isFocused=!1,i.disabled){let u=bR(c);n(u)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let u=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let WH=!1,Sf=null,ex=new Set,Rd=new Map,Xo=!1,tx=!1;const XH={Tab:!0,Escape:!0};function lb(t,e){for(let n of ex)n(t,e)}function QH(t){return!(t.metaKey||!qH()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function xp(t){Xo=!0,QH(t)&&(Sf="keyboard",lb("keyboard",t))}function fc(t){Sf="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Xo=!0,lb("pointer",t))}function _R(t){KH(t)&&(Xo=!0,Sf="virtual")}function ER(t){t.target===window||t.target===document||WH||!t.isTrusted||(!Xo&&!tx&&(Sf="virtual",lb("virtual",t)),Xo=!1,tx=!1)}function TR(){Xo=!1,tx=!0}function nx(t){if(typeof window>"u"||typeof document>"u"||Rd.get(Uo(t)))return;const e=Uo(t),n=Za(t);let s=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Xo=!0,s.apply(this,arguments)},n.addEventListener("keydown",xp,!0),n.addEventListener("keyup",xp,!0),n.addEventListener("click",_R,!0),e.addEventListener("focus",ER,!0),e.addEventListener("blur",TR,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",fc,!0),n.addEventListener("pointermove",fc,!0),n.addEventListener("pointerup",fc,!0)),e.addEventListener("beforeunload",()=>{SR(t)},{once:!0}),Rd.set(e,{focus:s})}const SR=(t,e)=>{const n=Uo(t),s=Za(t);e&&s.removeEventListener("DOMContentLoaded",e),Rd.has(n)&&(n.HTMLElement.prototype.focus=Rd.get(n).focus,s.removeEventListener("keydown",xp,!0),s.removeEventListener("keyup",xp,!0),s.removeEventListener("click",_R,!0),n.removeEventListener("focus",ER,!0),n.removeEventListener("blur",TR,!1),typeof PointerEvent<"u"&&(s.removeEventListener("pointerdown",fc,!0),s.removeEventListener("pointermove",fc,!0),s.removeEventListener("pointerup",fc,!0)),Rd.delete(n))};function ZH(t){const e=Za(t);let n;return e.readyState!=="loading"?nx(t):(n=()=>{nx(t)},e.addEventListener("DOMContentLoaded",n)),()=>SR(t,n)}typeof document<"u"&&ZH();function AR(){return Sf!=="pointer"}const JH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function e$(t,e,n){let s=Za(n==null?void 0:n.target);const i=typeof window<"u"?Uo(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Uo(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Uo(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?Uo(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||s.activeElement instanceof i&&!JH.has(s.activeElement.type)||s.activeElement instanceof o||s.activeElement instanceof c&&s.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof u&&!XH[n.key])}function t$(t,e,n){nx(),E.useEffect(()=>{let s=(i,o)=>{e$(!!(n!=null&&n.isTextInput),i,o)&&t(AR())};return ex.add(s),()=>{ex.delete(s)}},e)}function n$(t){let{isDisabled:e,onFocus:n,onBlur:s,onFocusChange:i}=t;const o=E.useCallback(h=>{if(h.target===h.currentTarget)return s&&s(h),i&&i(!1),!0},[s,i]),c=wR(o),u=E.useCallback(h=>{const m=Za(h.target),y=m?Jv(m):Jv();h.target===h.currentTarget&&y===yR(h.nativeEvent)&&(n&&n(h),i&&i(!0),c(h))},[i,n,c]);return{focusProps:{onFocus:!e&&(n||i||s)?u:void 0,onBlur:!e&&(s||i)?o:void 0}}}function s$(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:s,onFocusWithinChange:i}=t,o=E.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:u}=xR(),h=E.useCallback(v=>{v.currentTarget.contains(v.target)&&o.current.isFocusWithin&&!v.currentTarget.contains(v.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(v),i&&i(!1))},[n,i,o,u]),m=wR(h),y=E.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const b=Za(v.target),_=Jv(b);if(!o.current.isFocusWithin&&_===yR(v.nativeEvent)){s&&s(v),i&&i(!0),o.current.isFocusWithin=!0,m(v);let T=v.currentTarget;c(b,"focus",N=>{if(o.current.isFocusWithin&&!gR(T,N.target)){let I=new b.defaultView.FocusEvent("blur",{relatedTarget:N.target});YH(I,T);let O=bR(I);h(O)}},{capture:!0})}},[s,i,m,c,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:h}}}let sx=!1,fm=0;function r$(){sx=!0,setTimeout(()=>{sx=!1},50)}function wS(t){t.pointerType==="touch"&&r$()}function i$(){if(!(typeof document>"u"))return fm===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",wS),fm++,()=>{fm--,!(fm>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",wS)}}function a$(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:s,isDisabled:i}=t,[o,c]=E.useState(!1),u=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(i$,[]);let{addGlobalListener:h,removeAllGlobalListeners:m}=xR(),{hoverProps:y,triggerHoverEnd:v}=E.useMemo(()=>{let b=(N,I)=>{if(u.pointerType=I,i||I==="touch"||u.isHovered||!N.currentTarget.contains(N.target))return;u.isHovered=!0;let O=N.currentTarget;u.target=O,h(Za(N.target),"pointerover",P=>{u.isHovered&&u.target&&!gR(u.target,P.target)&&_(P,P.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:O,pointerType:I}),n&&n(!0),c(!0)},_=(N,I)=>{let O=u.target;u.pointerType="",u.target=null,!(I==="touch"||!u.isHovered||!O)&&(u.isHovered=!1,m(),s&&s({type:"hoverend",target:O,pointerType:I}),n&&n(!1),c(!1))},T={};return typeof PointerEvent<"u"&&(T.onPointerEnter=N=>{sx&&N.pointerType==="mouse"||b(N,N.pointerType)},T.onPointerLeave=N=>{!i&&N.currentTarget.contains(N.target)&&_(N,N.pointerType)}),{hoverProps:T,triggerHoverEnd:_}},[e,n,s,i,u,h,m]);return E.useEffect(()=>{i&&v({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:y,isHovered:o}}function o$(t={}){let{autoFocus:e=!1,isTextInput:n,within:s}=t,i=E.useRef({isFocused:!1,isFocusVisible:e||AR()}),[o,c]=E.useState(!1),[u,h]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),m=E.useCallback(()=>h(i.current.isFocused&&i.current.isFocusVisible),[]),y=E.useCallback(_=>{i.current.isFocused=_,c(_),m()},[m]);t$(_=>{i.current.isFocusVisible=_,m()},[],{isTextInput:n});let{focusProps:v}=n$({isDisabled:s,onFocusChange:y}),{focusWithinProps:b}=s$({isDisabled:!s,onFocusWithinChange:y});return{isFocused:o,isFocusVisible:u,focusProps:s?b:v}}var l$=Object.defineProperty,c$=(t,e,n)=>e in t?l$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z0=(t,e,n)=>(c$(t,typeof e!="symbol"?e+"":e,n),n);let u$=class{constructor(){z0(this,"current",this.detect()),z0(this,"handoffState","pending"),z0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Wr=new u$;function Af(t){var e,n;return Wr.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function CR(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function gr(){let t=[],e={addEventListener(n,s,i,o){return n.addEventListener(s,i,o),e.add(()=>n.removeEventListener(s,i,o))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return CR(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let o=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:o})})},group(n){let s=gr();return n(s),this.add(()=>s.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Cf(){let[t]=E.useState(gr);return E.useEffect(()=>()=>t.dispose(),[t]),t}let xn=(t,e)=>{Wr.isServer?E.useEffect(t,e):E.useLayoutEffect(t,e)};function $c(t){let e=E.useRef(t);return xn(()=>{e.current=t},[t]),e}let At=function(t){let e=$c(t);return Pe.useCallback((...n)=>e.current(...n),[e])};function d$(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function f$(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function h$({disabled:t=!1}={}){let e=E.useRef(null),[n,s]=E.useState(!1),i=Cf(),o=At(()=>{e.current=null,s(!1),i.dispose()}),c=At(u=>{if(i.dispose(),e.current===null){e.current=u.currentTarget,s(!0);{let h=Af(u.currentTarget);i.addEventListener(h,"pointerup",o,!1),i.addEventListener(h,"pointermove",m=>{if(e.current){let y=d$(m);s(f$(y,e.current.getBoundingClientRect()))}},!1),i.addEventListener(h,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:c,onPointerUp:o,onClick:o}}}let m$=E.createContext(void 0);function cb(){return E.useContext(m$)}function _S(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Jr(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Jr),s}var rx=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(rx||{}),p$=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(p$||{});function yr(){let t=y$();return E.useCallback(e=>g$({mergeRefs:t,...e}),[t])}function g$({ourProps:t,theirProps:e,slot:n,defaultTag:s,features:i,visible:o=!0,name:c,mergeRefs:u}){u=u??v$;let h=NR(e,t);if(o)return hm(h,n,s,c,u);let m=i??0;if(m&2){let{static:y=!1,...v}=h;if(y)return hm(v,n,s,c,u)}if(m&1){let{unmount:y=!0,...v}=h;return Jr(y?0:1,{0(){return null},1(){return hm({...v,hidden:!0,style:{display:"none"}},n,s,c,u)}})}return hm(h,n,s,c,u)}function hm(t,e={},n,s,i){let{as:o=n,children:c,refName:u="ref",...h}=H0(t,["unmount","static"]),m=t.ref!==void 0?{[u]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let v={};if(e){let b=!1,_=[];for(let[T,N]of Object.entries(e))typeof N=="boolean"&&(b=!0),N===!0&&_.push(T.replace(/([A-Z])/g,I=>`-${I.toLowerCase()}`));if(b){v["data-headlessui-state"]=_.join(" ");for(let T of _)v[`data-${T}`]=""}}if(o===E.Fragment&&(Object.keys(Oo(h)).length>0||Object.keys(Oo(v)).length>0))if(!E.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Oo(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Oo(h)).concat(Object.keys(Oo(v))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=y.props,_=b==null?void 0:b.className,T=typeof _=="function"?(...O)=>_S(_(...O),h.className):_S(_,h.className),N=T?{className:T}:{},I=NR(y.props,Oo(H0(h,["ref"])));for(let O in v)O in I&&delete v[O];return E.cloneElement(y,Object.assign({},I,v,m,{ref:i(x$(y),m.ref)},N))}return E.createElement(o,Object.assign({},H0(h,["ref"]),o!==E.Fragment&&m,o!==E.Fragment&&v),y)}function y$(){let t=E.useRef([]),e=E.useCallback(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return t.current=n,e}}function v$(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function NR(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let s in n)Object.assign(e,{[s](i,...o){let c=n[s];for(let u of c){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return e}function RR(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];for(let s in n)Object.assign(e,{[s](...i){let o=n[s];for(let c of o)c==null||c(...i)}});return e}function vr(t){var e;return Object.assign(E.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Oo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function H0(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function x$(t){return Pe.version.split(".")[0]>="19"?t.props.ref:t.ref}function b$(t,e,n){let[s,i]=E.useState(n),o=t!==void 0,c=E.useRef(o),u=E.useRef(!1),h=E.useRef(!1);return o&&!c.current&&!u.current?(u.current=!0,c.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&c.current&&!h.current&&(h.current=!0,c.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:s,At(m=>(o||i(m),e==null?void 0:e(m)))]}function w$(t){let[e]=E.useState(t);return e}function IR(t={},e=null,n=[]){for(let[s,i]of Object.entries(t))jR(n,DR(e,s),i);return n}function DR(t,e){return t?t+"["+e+"]":e}function jR(t,e,n){if(Array.isArray(n))for(let[s,i]of n.entries())jR(t,DR(e,s.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):IR(n,e,t)}function _$(t){var e,n;let s=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(s){for(let i of s.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=s.requestSubmit)==null||n.call(s)}}let E$="span";var ub=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ub||{});function T$(t,e){var n;let{features:s=1,...i}=t,o={ref:e,"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return yr()({ourProps:o,theirProps:i,slot:{},defaultTag:E$,name:"Hidden"})}let MR=vr(T$),S$=E.createContext(null);function A$({children:t}){let e=E.useContext(S$);if(!e)return Pe.createElement(Pe.Fragment,null,t);let{target:n}=e;return n?Ks.createPortal(Pe.createElement(Pe.Fragment,null,t),n):null}function C$({data:t,form:e,disabled:n,onReset:s,overrides:i}){let[o,c]=E.useState(null),u=Cf();return E.useEffect(()=>{if(s&&o)return u.addEventListener(o,"reset",s)},[o,e,s]),Pe.createElement(A$,null,Pe.createElement(N$,{setForm:c,formId:e}),IR(t).map(([h,m])=>Pe.createElement(MR,{features:ub.Hidden,...Oo({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:h,value:m,...i})})))}function N$({setForm:t,formId:e}){return E.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Pe.createElement(MR,{features:ub.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let s=n.closest("form");s&&t(s)}})}let R$=E.createContext(void 0);function OR(){return E.useContext(R$)}function db(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function ng(t){return db(t)&&"tagName"in t}function qi(t){return ng(t)&&"accessKey"in t}function rc(t){return ng(t)&&"tabIndex"in t}function I$(t){return ng(t)&&"style"in t}function D$(t){return qi(t)&&t.nodeName==="IFRAME"}function kR(t){return qi(t)&&t.nodeName==="INPUT"}function ES(t){return qi(t)&&t.nodeName==="LABEL"}function j$(t){return qi(t)&&t.nodeName==="FIELDSET"}function PR(t){return qi(t)&&t.nodeName==="LEGEND"}function M$(t){return ng(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function O$(t){let e=t.parentElement,n=null;for(;e&&!j$(e);)PR(e)&&(n=e),e=e.parentElement;let s=(e==null?void 0:e.getAttribute("disabled"))==="";return s&&k$(n)?!1:s}function k$(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(PR(e))return!1;e=e.previousElementSibling}return!0}let VR=Symbol();function P$(t,e=!0){return Object.assign(t,{[VR]:e})}function ni(...t){let e=E.useRef(t);E.useEffect(()=>{e.current=t},[t]);let n=At(s=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(s):i.current=s)});return t.every(s=>s==null||(s==null?void 0:s[VR]))?void 0:n}let fb=E.createContext(null);fb.displayName="DescriptionContext";function LR(){let t=E.useContext(fb);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,LR),e}return t}function V$(){var t,e;return(e=(t=E.useContext(fb))==null?void 0:t.value)!=null?e:void 0}let L$="p";function U$(t,e){let n=E.useId(),s=cb(),{id:i=`headlessui-description-${n}`,...o}=t,c=LR(),u=ni(e);xn(()=>c.register(i),[i,c.register]);let h=s||!1,m=E.useMemo(()=>({...c.slot,disabled:h}),[c.slot,h]),y={ref:u,...c.props,id:i};return yr()({ourProps:y,theirProps:o,slot:m,defaultTag:L$,name:c.name||"Description"})}let F$=vr(U$);Object.assign(F$,{});var gn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(gn||{});let sg=E.createContext(null);sg.displayName="LabelContext";function UR(){let t=E.useContext(sg);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,UR),e}return t}function FR(t){var e,n,s;let i=(n=(e=E.useContext(sg))==null?void 0:e.value)!=null?n:void 0;return((s=t==null?void 0:t.length)!=null?s:0)>0?[i,...t].filter(Boolean).join(" "):i}function B$({inherit:t=!1}={}){let e=FR(),[n,s]=E.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,E.useMemo(()=>function(o){let c=At(h=>(s(m=>[...m,h]),()=>s(m=>{let y=m.slice(),v=y.indexOf(h);return v!==-1&&y.splice(v,1),y}))),u=E.useMemo(()=>({register:c,slot:o.slot,name:o.name,props:o.props,value:o.value}),[c,o.slot,o.name,o.props,o.value]);return Pe.createElement(sg.Provider,{value:u},o.children)},[s])]}let z$="label";function H$(t,e){var n;let s=E.useId(),i=UR(),o=OR(),c=cb(),{id:u=`headlessui-label-${s}`,htmlFor:h=o??((n=i.props)==null?void 0:n.htmlFor),passive:m=!1,...y}=t,v=ni(e);xn(()=>i.register(u),[u,i.register]);let b=At(I=>{let O=I.currentTarget;if(!(I.target!==I.currentTarget&&M$(I.target))&&(ES(O)&&I.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(I),ES(O))){let P=document.getElementById(O.htmlFor);if(P){let R=P.getAttribute("disabled");if(R==="true"||R==="")return;let $=P.getAttribute("aria-disabled");if($==="true"||$==="")return;(kR(P)&&(P.type==="file"||P.type==="radio"||P.type==="checkbox")||P.role==="radio"||P.role==="checkbox"||P.role==="switch")&&P.click(),P.focus({preventScroll:!0})}}}),_=c||!1,T=E.useMemo(()=>({...i.slot,disabled:_}),[i.slot,_]),N={ref:v,...i.props,id:u,htmlFor:h,onClick:b};return m&&("onClick"in N&&(delete N.htmlFor,delete N.onClick),"onClick"in y&&delete y.onClick),yr()({ourProps:N,theirProps:y,slot:T,defaultTag:h?z$:"div",name:i.name||"Label"})}let $$=vr(H$),q$=Object.assign($$,{});function G$(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function K$(t=G$){return E.useCallback((e,n)=>{if(typeof t=="string"){let s=t;return(e==null?void 0:e[s])===(n==null?void 0:n[s])}return t(e,n)},[t])}function Y$(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function W$(t,e=!1){let[n,s]=E.useReducer(()=>({}),{}),i=E.useMemo(()=>Y$(t),[t,n]);return xn(()=>{if(!t)return;let o=new ResizeObserver(s);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let BR=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var X$=Object.defineProperty,Q$=(t,e,n)=>e in t?X$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z$=(t,e,n)=>(Q$(t,e+"",n),n),zR=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Hs=(t,e,n)=>(zR(t,e,"read from private field"),n?n.call(t):e.get(t)),$0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},TS=(t,e,n,s)=>(zR(t,e,"write to private field"),e.set(t,n),n),kr,fd,hd;let HR=class{constructor(e){$0(this,kr,{}),$0(this,fd,new BR(()=>new Set)),$0(this,hd,new Set),Z$(this,"disposables",gr()),TS(this,kr,e),Wr.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Hs(this,kr)}subscribe(e,n){if(Wr.isServer)return()=>{};let s={selector:e,callback:n,current:e(Hs(this,kr))};return Hs(this,hd).add(s),this.disposables.add(()=>{Hs(this,hd).delete(s)})}on(e,n){return Wr.isServer?()=>{}:(Hs(this,fd).get(e).add(n),this.disposables.add(()=>{Hs(this,fd).get(e).delete(n)}))}send(e){let n=this.reduce(Hs(this,kr),e);if(n!==Hs(this,kr)){TS(this,kr,n);for(let s of Hs(this,hd)){let i=s.selector(Hs(this,kr));$R(s.current,i)||(s.current=i,s.callback(i))}for(let s of Hs(this,fd).get(e.type))s(Hs(this,kr),e)}}};kr=new WeakMap,fd=new WeakMap,hd=new WeakMap;function $R(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:q0(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:q0(t.entries(),e.entries()):SS(t)&&SS(e)?q0(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function q0(t,e){do{let n=t.next(),s=e.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function SS(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function G0(t){let[e,n]=t(),s=gr();return(...i)=>{e(...i),s.dispose(),s.microTask(n)}}var J$=Object.defineProperty,eq=(t,e,n)=>e in t?J$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AS=(t,e,n)=>(eq(t,typeof e!="symbol"?e+"":e,n),n),qR=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(qR||{});let tq={0(t,e){let n=e.id,s=t.stack,i=t.stack.indexOf(n);if(i!==-1){let o=t.stack.slice();return o.splice(i,1),o.push(n),s=o,{...t,stack:s}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,s=t.stack.indexOf(n);if(s===-1)return t;let i=t.stack.slice();return i.splice(s,1),{...t,stack:i}}},nq=class GR extends HR{constructor(){super(...arguments),AS(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),AS(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new GR({stack:[]})}reduce(e,n){return Jr(n.type,tq,e,n)}};const hb=new BR(()=>nq.new());var K0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function sq(){if(CS)return Y0;CS=1;var t=Ep();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Y0.useSyncExternalStoreWithSelector=function(h,m,y,v,b){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=c(function(){function I(B){if(!O){if(O=!0,P=B,B=v(B),b!==void 0&&T.hasValue){var q=T.value;if(b(q,B))return R=q}return R=B}if(q=R,n(P,B))return q;var D=v(B);return b!==void 0&&b(q,D)?(P=B,q):(P=B,R=D)}var O=!1,P,R,$=y===void 0?null:y;return[function(){return I(m())},$===null?void 0:function(){return I($())}]},[m,y,v,b]);var N=s(h,_[0],_[1]);return o(function(){T.hasValue=!0,T.value=N},[N]),u(N),N},Y0}var NS;function rq(){return NS||(NS=1,K0.exports=sq()),K0.exports}var iq=rq();function Gs(t,e,n=$R){return iq.useSyncExternalStoreWithSelector(At(s=>t.subscribe(aq,s)),At(()=>t.state),At(()=>t.state),At(e),n)}function aq(t){return t}function KR(t,e){let n=E.useId(),s=hb.get(e),[i,o]=Gs(s,E.useCallback(c=>[s.selectors.isTop(c,n),s.selectors.inStack(c,n)],[s,n]));return xn(()=>{if(t)return s.actions.push(n),()=>s.actions.pop(n)},[s,t,n]),t?o?i:!0:!1}let ix=new Map,Id=new Map;function RS(t){var e;let n=(e=Id.get(t))!=null?e:0;return Id.set(t,n+1),n!==0?()=>IS(t):(ix.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>IS(t))}function IS(t){var e;let n=(e=Id.get(t))!=null?e:1;if(n===1?Id.delete(t):Id.set(t,n-1),n!==1)return;let s=ix.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,ix.delete(t))}function oq(t,{allowed:e,disallowed:n}={}){let s=KR(t,"inert-others");xn(()=>{var i,o;if(!s)return;let c=gr();for(let h of(i=n==null?void 0:n())!=null?i:[])h&&c.add(RS(h));let u=(o=e==null?void 0:e())!=null?o:[];for(let h of u){if(!h)continue;let m=Af(h);if(!m)continue;let y=h.parentElement;for(;y&&y!==m.body;){for(let v of y.children)u.some(b=>v.contains(b))||c.add(RS(v));y=y.parentElement}}return c.dispose},[s,e,n])}function lq(t,e,n){let s=$c(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});E.useEffect(()=>{if(!t)return;let i=e===null?null:qi(e)?e:e.current;if(!i)return;let o=gr();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>s.current(i));c.observe(i),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>s.current(i));c.observe(i),o.add(()=>c.disconnect())}return()=>o.dispose()},[e,s,t])}let ax=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),cq=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ox=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ox||{}),uq=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(uq||{}),dq=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(dq||{});function YR(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ax)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function fq(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(cq)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var mb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(mb||{});function WR(t,e=0){var n;return t===((n=Af(t))==null?void 0:n.body)?!1:Jr(e,{0(){return t.matches(ax)},1(){let s=t;for(;s!==null;){if(s.matches(ax))return!0;s=s.parentElement}return!1}})}var hq=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(hq||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let mq=["textarea","input"].join(",");function pq(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,mq))!=null?n:!1}function XR(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),o=e(s);if(i===null||o===null)return 0;let c=i.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gq(t,e){return yq(YR(),e,{relativeTo:t})}function yq(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?XR(t):t:e&64?fq(t):YR(t);i.length>0&&c.length>1&&(c=c.filter(_=>!i.some(T=>T!=null&&"current"in T?(T==null?void 0:T.current)===_:T===_))),s=s??o.activeElement;let u=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(s))-1;if(e&4)return Math.max(0,c.indexOf(s))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},y=0,v=c.length,b;do{if(y>=v||y+v<=0)return 0;let _=h+y;if(e&16)_=(_+v)%v;else{if(_<0)return 3;if(_>=v)return 1}b=c[_],b==null||b.focus(m),y+=u}while(b!==o.activeElement);return e&6&&pq(b)&&b.select(),2}function QR(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function vq(){return/Android/gi.test(window.navigator.userAgent)}function DS(){return QR()||vq()}function ic(t,e,n,s){let i=$c(n);E.useEffect(()=>{if(!t)return;function o(c){i.current(c)}return document.addEventListener(e,o,s),()=>document.removeEventListener(e,o,s)},[t,e,s])}function xq(t,e,n,s){let i=$c(n);E.useEffect(()=>{if(!t)return;function o(c){i.current(c)}return window.addEventListener(e,o,s),()=>window.removeEventListener(e,o,s)},[t,e,s])}const jS=30;function bq(t,e,n){let s=$c(n),i=E.useCallback(function(u,h){if(u.defaultPrevented)return;let m=h(u);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let y=function v(b){return typeof b=="function"?v(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let v of y)if(v!==null&&(v.contains(m)||u.composed&&u.composedPath().includes(v)))return;return!WR(m,mb.Loose)&&m.tabIndex!==-1&&u.preventDefault(),s.current(u,m)},[s,e]),o=E.useRef(null);ic(t,"pointerdown",u=>{var h,m;DS()||(o.current=((m=(h=u.composedPath)==null?void 0:h.call(u))==null?void 0:m[0])||u.target)},!0),ic(t,"pointerup",u=>{if(DS()||!o.current)return;let h=o.current;return o.current=null,i(u,()=>h)},!0);let c=E.useRef({x:0,y:0});ic(t,"touchstart",u=>{c.current.x=u.touches[0].clientX,c.current.y=u.touches[0].clientY},!0),ic(t,"touchend",u=>{let h={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(h.x-c.current.x)>=jS||Math.abs(h.y-c.current.y)>=jS))return i(u,()=>rc(u.target)?u.target:null)},!0),xq(t,"blur",u=>i(u,()=>D$(window.document.activeElement)?window.document.activeElement:null),!0)}function lx(...t){return E.useMemo(()=>Af(...t),[...t])}var wq=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(wq||{});const mm={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},_q=200,MS=5;function Eq(t,{trigger:e,action:n,close:s,select:i}){let o=E.useRef(null),c=E.useRef(null),u=E.useRef(null);ic(t&&e!==null,"pointerdown",h=>{db(h==null?void 0:h.target)&&e!=null&&e.contains(h.target)&&(c.current=h.x,u.current=h.y,o.current=h.timeStamp)}),ic(t&&e!==null,"pointerup",h=>{var m,y;let v=o.current;if(v===null||(o.current=null,!rc(h.target))||Math.abs(h.x-((m=c.current)!=null?m:h.x))<MS&&Math.abs(h.y-((y=u.current)!=null?y:h.y))<MS)return;let b=n(h);switch(b.kind){case 0:return;case 1:{h.timeStamp-v>_q&&(i(b.target),s());break}case 2:{s();break}}},{capture:!0})}function Tq(t,e){return E.useMemo(()=>{var n;if(t.type)return t.type;let s=(n=t.as)!=null?n:"button";if(typeof s=="string"&&s.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Sq(t){return E.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Aq(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...o){let c=e[i].call(n,...o);c&&(n=c,s.forEach(u=>u()))}}}function Cq(){let t;return{before({doc:e}){var n;let s=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-s.clientWidth)},after({doc:e,d:n}){let s=e.documentElement,i=Math.max(0,s.clientWidth-s.offsetWidth),o=Math.max(0,t-i);n.style(s,"paddingRight",`${o}px`)}}}function Nq(){return QR()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=gr();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,c=null;e.addEventListener(t,"click",u=>{if(rc(u.target))try{let h=u.target.closest("a");if(!h)return;let{hash:m}=new URL(h.href),y=t.querySelector(m);rc(y)&&!s(y)&&(c=y)}catch{}},!0),e.addEventListener(t,"touchstart",u=>{if(rc(u.target)&&I$(u.target))if(s(u.target)){let h=u.target;for(;h.parentElement&&s(h.parentElement);)h=h.parentElement;e.style(h,"overscrollBehavior","contain")}else e.style(u.target,"touchAction","none")}),e.addEventListener(t,"touchmove",u=>{if(rc(u.target)){if(kR(u.target))return;if(s(u.target)){let h=u.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let h=(u=window.scrollY)!=null?u:window.pageYOffset;o!==h&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Rq(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Iq(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Fo=Aq(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:gr(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:Iq(n)},i=[Nq(),Cq(),Rq()];i.forEach(({before:o})=>o==null?void 0:o(s)),i.forEach(({after:o})=>o==null?void 0:o(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Fo.subscribe(()=>{let t=Fo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Fo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Fo.dispatch("TEARDOWN",n)}});function Dq(t,e,n=()=>({containers:[]})){let s=Sq(Fo),i=e?s.get(e):void 0,o=i?i.count>0:!1;return xn(()=>{if(!(!e||!t))return Fo.dispatch("PUSH",e,n),()=>Fo.dispatch("POP",e,n)},[t,e]),o}function jq(t,e,n=()=>[document.body]){let s=KR(t,"scroll-lock");Dq(s,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function OS(t){return[t.screenX,t.screenY]}function Mq(){let t=E.useRef([-1,-1]);return{wasMoved(e){let n=OS(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=OS(e)}}}function Oq(t=0){let[e,n]=E.useState(t),s=E.useCallback(h=>n(h),[e]),i=E.useCallback(h=>n(m=>m|h),[e]),o=E.useCallback(h=>(e&h)===h,[e]),c=E.useCallback(h=>n(m=>m&~h),[n]),u=E.useCallback(h=>n(m=>m^h),[n]);return{flags:e,setFlag:s,addFlag:i,hasFlag:o,removeFlag:c,toggleFlag:u}}var kq={},kS,PS;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kS=process==null?void 0:kq)==null?void 0:kS.NODE_ENV)==="test"&&typeof((PS=Element==null?void 0:Element.prototype)==null?void 0:PS.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Pq=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Pq||{});function Vq(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Lq(t,e,n,s){let[i,o]=E.useState(n),{hasFlag:c,addFlag:u,removeFlag:h}=Oq(t&&i?3:0),m=E.useRef(!1),y=E.useRef(!1),v=Cf();return xn(()=>{var b;if(t){if(n&&o(!0),!e){n&&u(3);return}return(b=void 0)==null||b.call(s,n),Uq(e,{inFlight:m,prepare(){y.current?y.current=!1:y.current=m.current,m.current=!0,!y.current&&(n?(u(3),h(4)):(u(4),h(2)))},run(){y.current?n?(h(3),u(4)):(h(4),u(3)):n?h(1):u(1)},done(){var _;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(m.current=!1,h(7),n||o(!1),(_=void 0)==null||_.call(s,n))}})}},[t,n,e,v]),t?[i,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Uq(t,{prepare:e,run:n,done:s,inFlight:i}){let o=gr();return Bq(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Fq(t,s))})}),o.dispose}function Fq(t,e){var n,s;let i=gr();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let c=(s=(n=t.getAnimations)==null?void 0:n.call(t).filter(u=>u instanceof CSSTransition))!=null?s:[];return c.length===0?(e(),i.dispose):(Promise.allSettled(c.map(u=>u.finished)).then(()=>{o||e()}),i.dispose)}function Bq(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let s=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=s}function rg(){return typeof window<"u"}function qc(t){return ZR(t)?(t.nodeName||"").toLowerCase():"#document"}function _s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function si(t){var e;return(e=(ZR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZR(t){return rg()?t instanceof Node||t instanceof _s(t).Node:!1}function Jn(t){return rg()?t instanceof Element||t instanceof _s(t).Element:!1}function ei(t){return rg()?t instanceof HTMLElement||t instanceof _s(t).HTMLElement:!1}function VS(t){return!rg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _s(t).ShadowRoot}const zq=new Set(["inline","contents"]);function Nf(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!zq.has(i)}const Hq=new Set(["table","td","th"]);function $q(t){return Hq.has(qc(t))}const qq=[":popover-open",":modal"];function ig(t){return qq.some(e=>{try{return t.matches(e)}catch{return!1}})}const Gq=["transform","translate","scale","rotate","perspective"],Kq=["transform","translate","scale","rotate","perspective","filter"],Yq=["paint","layout","strict","content"];function pb(t){const e=gb(),n=Jn(t)?mr(t):t;return Gq.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kq.some(s=>(n.willChange||"").includes(s))||Yq.some(s=>(n.contain||"").includes(s))}function Wq(t){let e=Ga(t);for(;ei(e)&&!Cc(e);){if(pb(e))return e;if(ig(e))return null;e=Ga(e)}return null}function gb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xq=new Set(["html","body","#document"]);function Cc(t){return Xq.has(qc(t))}function mr(t){return _s(t).getComputedStyle(t)}function ag(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ga(t){if(qc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VS(t)&&t.host||si(t);return VS(e)?e.host:e}function JR(t){const e=Ga(t);return Cc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ei(e)&&Nf(e)?e:JR(e)}function ef(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=JR(t),o=i===((s=t.ownerDocument)==null?void 0:s.body),c=_s(i);if(o){const u=cx(c);return e.concat(c,c.visualViewport||[],Nf(i)?i:[],u&&n?ef(u):[])}return e.concat(i,ef(i,[],n))}function cx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:s}=e;return n+"/"+s}).join(" "):navigator.userAgent}const Qo=Math.min,Un=Math.max,tf=Math.round,pm=Math.floor,Xr=t=>({x:t,y:t}),Zq={left:"right",right:"left",bottom:"top",top:"bottom"},Jq={start:"end",end:"start"};function LS(t,e,n){return Un(t,Qo(e,n))}function Gc(t,e){return typeof t=="function"?t(e):t}function Ka(t){return t.split("-")[0]}function Rf(t){return t.split("-")[1]}function e5(t){return t==="x"?"y":"x"}function t5(t){return t==="y"?"height":"width"}const eG=new Set(["top","bottom"]);function Di(t){return eG.has(Ka(t))?"y":"x"}function n5(t){return e5(Di(t))}function tG(t,e,n){n===void 0&&(n=!1);const s=Rf(t),i=n5(t),o=t5(i);let c=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=bp(c)),[c,bp(c)]}function nG(t){const e=bp(t);return[ux(t),e,ux(e)]}function ux(t){return t.replace(/start|end/g,e=>Jq[e])}const US=["left","right"],FS=["right","left"],sG=["top","bottom"],rG=["bottom","top"];function iG(t,e,n){switch(t){case"top":case"bottom":return n?e?FS:US:e?US:FS;case"left":case"right":return e?sG:rG;default:return[]}}function aG(t,e,n,s){const i=Rf(t);let o=iG(Ka(t),n==="start",s);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(ux)))),o}function bp(t){return t.replace(/left|right|bottom|top/g,e=>Zq[e])}function oG(t){return{top:0,right:0,bottom:0,left:0,...t}}function lG(t){return typeof t!="number"?oG(t):{top:t,right:t,bottom:t,left:t}}function wp(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function BS(t,e,n){let{reference:s,floating:i}=t;const o=Di(e),c=n5(e),u=t5(c),h=Ka(e),m=o==="y",y=s.x+s.width/2-i.width/2,v=s.y+s.height/2-i.height/2,b=s[u]/2-i[u]/2;let _;switch(h){case"top":_={x:y,y:s.y-i.height};break;case"bottom":_={x:y,y:s.y+s.height};break;case"right":_={x:s.x+s.width,y:v};break;case"left":_={x:s.x-i.width,y:v};break;default:_={x:s.x,y:s.y}}switch(Rf(e)){case"start":_[c]-=b*(n&&m?-1:1);break;case"end":_[c]+=b*(n&&m?-1:1);break}return _}const cG=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:v}=BS(m,s,h),b=s,_={},T=0;for(let N=0;N<u.length;N++){const{name:I,fn:O}=u[N],{x:P,y:R,data:$,reset:B}=await O({x:y,y:v,initialPlacement:s,placement:b,strategy:i,middlewareData:_,rects:m,platform:c,elements:{reference:t,floating:e}});y=P??y,v=R??v,_={..._,[I]:{..._[I],...$}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(b=B.placement),B.rects&&(m=B.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:y,y:v}=BS(m,b,h)),N=-1)}return{x:y,y:v,placement:b,strategy:i,middlewareData:_}};async function og(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:o,rects:c,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Gc(e,t),T=lG(_),I=u[b?v==="floating"?"reference":"floating":v],O=wp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(I)))==null||n?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:h})),P=v==="floating"?{x:s,y:i,width:c.floating.width,height:c.floating.height}:c.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),$=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},B=wp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:R,strategy:h}):P);return{top:(O.top-B.top+T.top)/$.y,bottom:(B.bottom-O.bottom+T.bottom)/$.y,left:(O.left-B.left+T.left)/$.x,right:(B.right-O.right+T.right)/$.x}}const uG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:N=!0,...I}=Gc(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const O=Ka(i),P=Di(u),R=Ka(u)===u,$=await(h.isRTL==null?void 0:h.isRTL(m.floating)),B=b||(R||!N?[bp(u)]:nG(u)),q=T!=="none";!b&&q&&B.push(...aG(u,N,T,$));const D=[u,...B],C=await og(e,I),M=[];let V=((s=o.flip)==null?void 0:s.overflows)||[];if(y&&M.push(C[O]),v){const xe=tG(i,c,$);M.push(C[xe[0]],C[xe[1]])}if(V=[...V,{placement:i,overflows:M}],!M.every(xe=>xe<=0)){var U,F;const xe=(((U=o.flip)==null?void 0:U.index)||0)+1,pe=D[xe];if(pe&&(!(v==="alignment"?P!==Di(pe):!1)||V.every(se=>Di(se.placement)===P?se.overflows[0]>0:!0)))return{data:{index:xe,overflows:V},reset:{placement:pe}};let Y=(F=V.filter(Z=>Z.overflows[0]<=0).sort((Z,se)=>Z.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!Y)switch(_){case"bestFit":{var L;const Z=(L=V.filter(se=>{if(q){const we=Di(se.placement);return we===P||we==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(we=>we>0).reduce((we,z)=>we+z,0)]).sort((se,we)=>se[1]-we[1])[0])==null?void 0:L[0];Z&&(Y=Z);break}case"initialPlacement":Y=u;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}},dG=new Set(["left","top"]);async function fG(t,e){const{placement:n,platform:s,elements:i}=t,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),c=Ka(n),u=Rf(n),h=Di(n)==="y",m=dG.has(c)?-1:1,y=o&&h?-1:1,v=Gc(e,t);let{mainAxis:b,crossAxis:_,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof T=="number"&&(_=u==="end"?T*-1:T),h?{x:_*y,y:b*m}:{x:b*m,y:_*y}}const hG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:o,placement:c,middlewareData:u}=e,h=await fG(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:c}}}}},mG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:I=>{let{x:O,y:P}=I;return{x:O,y:P}}},...h}=Gc(t,e),m={x:n,y:s},y=await og(e,h),v=Di(Ka(i)),b=e5(v);let _=m[b],T=m[v];if(o){const I=b==="y"?"top":"left",O=b==="y"?"bottom":"right",P=_+y[I],R=_-y[O];_=LS(P,_,R)}if(c){const I=v==="y"?"top":"left",O=v==="y"?"bottom":"right",P=T+y[I],R=T-y[O];T=LS(P,T,R)}const N=u.fn({...e,[b]:_,[v]:T});return{...N,data:{x:N.x-n,y:N.y-s,enabled:{[b]:o,[v]:c}}}}}},pG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:o,platform:c,elements:u}=e,{apply:h=()=>{},...m}=Gc(t,e),y=await og(e,m),v=Ka(i),b=Rf(i),_=Di(i)==="y",{width:T,height:N}=o.floating;let I,O;v==="top"||v==="bottom"?(I=v,O=b===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(O=v,I=b==="end"?"top":"bottom");const P=N-y.top-y.bottom,R=T-y.left-y.right,$=Qo(N-y[I],P),B=Qo(T-y[O],R),q=!e.middlewareData.shift;let D=$,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=R),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=P),q&&!b){const V=Un(y.left,0),U=Un(y.right,0),F=Un(y.top,0),L=Un(y.bottom,0);_?C=T-2*(V!==0||U!==0?V+U:Un(y.left,y.right)):D=N-2*(F!==0||L!==0?F+L:Un(y.top,y.bottom))}await h({...e,availableWidth:C,availableHeight:D});const M=await c.getDimensions(u.floating);return T!==M.width||N!==M.height?{reset:{rects:!0}}:{}}}};function s5(t){const e=mr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=ei(t),o=i?t.offsetWidth:n,c=i?t.offsetHeight:s,u=tf(n)!==o||tf(s)!==c;return u&&(n=o,s=c),{width:n,height:s,$:u}}function yb(t){return Jn(t)?t:t.contextElement}function hc(t){const e=yb(t);if(!ei(e))return Xr(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:o}=s5(e);let c=(o?tf(n.width):n.width)/s,u=(o?tf(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const gG=Xr(0);function r5(t){const e=_s(t);return!gb()||!e.visualViewport?gG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_s(t)?!1:e}function Zo(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=yb(t);let c=Xr(1);e&&(s?Jn(s)&&(c=hc(s)):c=hc(t));const u=yG(o,n,s)?r5(o):Xr(0);let h=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,y=i.width/c.x,v=i.height/c.y;if(o){const b=_s(o),_=s&&Jn(s)?_s(s):s;let T=b,N=cx(T);for(;N&&s&&_!==T;){const I=hc(N),O=N.getBoundingClientRect(),P=mr(N),R=O.left+(N.clientLeft+parseFloat(P.paddingLeft))*I.x,$=O.top+(N.clientTop+parseFloat(P.paddingTop))*I.y;h*=I.x,m*=I.y,y*=I.x,v*=I.y,h+=R,m+=$,T=_s(N),N=cx(T)}}return wp({width:y,height:v,x:h,y:m})}function vb(t,e){const n=ag(t).scrollLeft;return e?e.left+n:Zo(si(t)).left+n}function i5(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=s.left+e.scrollLeft-(n?0:vb(t,s)),o=s.top+e.scrollTop;return{x:i,y:o}}function vG(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const o=i==="fixed",c=si(s),u=e?ig(e.floating):!1;if(s===c||u&&o)return n;let h={scrollLeft:0,scrollTop:0},m=Xr(1);const y=Xr(0),v=ei(s);if((v||!v&&!o)&&((qc(s)!=="body"||Nf(c))&&(h=ag(s)),ei(s))){const _=Zo(s);m=hc(s),y.x=_.x+s.clientLeft,y.y=_.y+s.clientTop}const b=c&&!v&&!o?i5(c,h,!0):Xr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+y.x+b.x,y:n.y*m.y-h.scrollTop*m.y+y.y+b.y}}function xG(t){return Array.from(t.getClientRects())}function bG(t){const e=si(t),n=ag(t),s=t.ownerDocument.body,i=Un(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Un(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+vb(t);const u=-n.scrollTop;return mr(s).direction==="rtl"&&(c+=Un(e.clientWidth,s.clientWidth)-i),{width:i,height:o,x:c,y:u}}function wG(t,e){const n=_s(t),s=si(t),i=n.visualViewport;let o=s.clientWidth,c=s.clientHeight,u=0,h=0;if(i){o=i.width,c=i.height;const m=gb();(!m||m&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:u,y:h}}const _G=new Set(["absolute","fixed"]);function EG(t,e){const n=Zo(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,o=ei(t)?hc(t):Xr(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,h=i*o.x,m=s*o.y;return{width:c,height:u,x:h,y:m}}function zS(t,e,n){let s;if(e==="viewport")s=wG(t,n);else if(e==="document")s=bG(si(t));else if(Jn(e))s=EG(e,n);else{const i=r5(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wp(s)}function a5(t,e){const n=Ga(t);return n===e||!Jn(n)||Cc(n)?!1:mr(n).position==="fixed"||a5(n,e)}function TG(t,e){const n=e.get(t);if(n)return n;let s=ef(t,[],!1).filter(u=>Jn(u)&&qc(u)!=="body"),i=null;const o=mr(t).position==="fixed";let c=o?Ga(t):t;for(;Jn(c)&&!Cc(c);){const u=mr(c),h=pb(c);!h&&u.position==="fixed"&&(i=null),(o?!h&&!i:!h&&u.position==="static"&&!!i&&_G.has(i.position)||Nf(c)&&!h&&a5(t,c))?s=s.filter(y=>y!==c):i=u,c=Ga(c)}return e.set(t,s),s}function SG(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const c=[...n==="clippingAncestors"?ig(e)?[]:TG(e,this._c):[].concat(n),s],u=c[0],h=c.reduce((m,y)=>{const v=zS(e,y,i);return m.top=Un(v.top,m.top),m.right=Qo(v.right,m.right),m.bottom=Qo(v.bottom,m.bottom),m.left=Un(v.left,m.left),m},zS(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function AG(t){const{width:e,height:n}=s5(t);return{width:e,height:n}}function CG(t,e,n){const s=ei(e),i=si(e),o=n==="fixed",c=Zo(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=Xr(0);function m(){h.x=vb(i)}if(s||!s&&!o)if((qc(e)!=="body"||Nf(i))&&(u=ag(e)),s){const _=Zo(e,!0,o,e);h.x=_.x+e.clientLeft,h.y=_.y+e.clientTop}else i&&m();o&&!s&&i&&m();const y=i&&!s&&!o?i5(i,u):Xr(0),v=c.left+u.scrollLeft-h.x-y.x,b=c.top+u.scrollTop-h.y-y.y;return{x:v,y:b,width:c.width,height:c.height}}function W0(t){return mr(t).position==="static"}function HS(t,e){if(!ei(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return si(t)===n&&(n=n.ownerDocument.body),n}function o5(t,e){const n=_s(t);if(ig(t))return n;if(!ei(t)){let i=Ga(t);for(;i&&!Cc(i);){if(Jn(i)&&!W0(i))return i;i=Ga(i)}return n}let s=HS(t,e);for(;s&&$q(s)&&W0(s);)s=HS(s,e);return s&&Cc(s)&&W0(s)&&!pb(s)?n:s||Wq(t)||n}const NG=async function(t){const e=this.getOffsetParent||o5,n=this.getDimensions,s=await n(t.floating);return{reference:CG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function RG(t){return mr(t).direction==="rtl"}const IG={convertOffsetParentRelativeRectToViewportRelativeRect:vG,getDocumentElement:si,getClippingRect:SG,getOffsetParent:o5,getElementRects:NG,getClientRects:xG,getDimensions:AG,getScale:hc,isElement:Jn,isRTL:RG};function l5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DG(t,e){let n=null,s;const i=si(t);function o(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const m=t.getBoundingClientRect(),{left:y,top:v,width:b,height:_}=m;if(u||e(),!b||!_)return;const T=pm(v),N=pm(i.clientWidth-(y+b)),I=pm(i.clientHeight-(v+_)),O=pm(y),R={rootMargin:-T+"px "+-N+"px "+-I+"px "+-O+"px",threshold:Un(0,Qo(1,h))||1};let $=!0;function B(q){const D=q[0].intersectionRatio;if(D!==h){if(!$)return c();D?c(!1,D):s=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!l5(m,t.getBoundingClientRect())&&c(),$=!1}try{n=new IntersectionObserver(B,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(t)}return c(!0),o}function jG(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=yb(t),y=i||o?[...m?ef(m):[],...ef(e)]:[];y.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),o&&O.addEventListener("resize",n)});const v=m&&u?DG(m,n):null;let b=-1,_=null;c&&(_=new ResizeObserver(O=>{let[P]=O;P&&P.target===m&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(e)})),n()}),m&&!h&&_.observe(m),_.observe(e));let T,N=h?Zo(t):null;h&&I();function I(){const O=Zo(t);N&&!l5(N,O)&&n(),N=O,T=requestAnimationFrame(I)}return n(),()=>{var O;y.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),v==null||v(),(O=_)==null||O.disconnect(),_=null,h&&cancelAnimationFrame(T)}}const X0=og,MG=hG,OG=mG,kG=uG,PG=pG,VG=(t,e,n)=>{const s=new Map,i={platform:IG,...n},o={...i.platform,_c:s};return cG(t,e,{...i,platform:o})};var LG=typeof document<"u",UG=function(){},km=LG?E.useLayoutEffect:UG;function _p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!_p(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&t.$$typeof)&&!_p(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function c5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $S(t,e){const n=c5(t);return Math.round(e*n)/n}function Q0(t){const e=E.useRef(t);return km(()=>{e.current=t}),e}function FG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[y,v]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=E.useState(s);_p(b,s)||_(s);const[T,N]=E.useState(null),[I,O]=E.useState(null),P=E.useCallback(se=>{se!==q.current&&(q.current=se,N(se))},[]),R=E.useCallback(se=>{se!==D.current&&(D.current=se,O(se))},[]),$=o||T,B=c||I,q=E.useRef(null),D=E.useRef(null),C=E.useRef(y),M=h!=null,V=Q0(h),U=Q0(i),F=Q0(m),L=E.useCallback(()=>{if(!q.current||!D.current)return;const se={placement:e,strategy:n,middleware:b};U.current&&(se.platform=U.current),VG(q.current,D.current,se).then(we=>{const z={...we,isPositioned:F.current!==!1};xe.current&&!_p(C.current,z)&&(C.current=z,Ks.flushSync(()=>{v(z)}))})},[b,e,n,U,F]);km(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,v(se=>({...se,isPositioned:!1})))},[m]);const xe=E.useRef(!1);km(()=>(xe.current=!0,()=>{xe.current=!1}),[]),km(()=>{if($&&(q.current=$),B&&(D.current=B),$&&B){if(V.current)return V.current($,B,L);L()}},[$,B,L,V,M]);const pe=E.useMemo(()=>({reference:q,floating:D,setReference:P,setFloating:R}),[P,R]),Y=E.useMemo(()=>({reference:$,floating:B}),[$,B]),Z=E.useMemo(()=>{const se={position:n,left:0,top:0};if(!Y.floating)return se;const we=$S(Y.floating,y.x),z=$S(Y.floating,y.y);return u?{...se,transform:"translate("+we+"px, "+z+"px)",...c5(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:we,top:z}},[n,u,Y.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:L,refs:pe,elements:Y,floatingStyles:Z}),[y,L,pe,Y,Z])}const u5=(t,e)=>({...MG(t),options:[t,e]}),BG=(t,e)=>({...OG(t),options:[t,e]}),zG=(t,e)=>({...kG(t),options:[t,e]}),HG=(t,e)=>({...PG(t),options:[t,e]}),d5={...ev},$G=d5.useInsertionEffect,qG=$G||(t=>t());function f5(t){const e=E.useRef(()=>{});return qG(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e.current==null?void 0:e.current(...s)},[])}var dx=typeof document<"u"?E.useLayoutEffect:E.useEffect;let qS=!1,GG=0;const GS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GG++;function KG(){const[t,e]=E.useState(()=>qS?GS():void 0);return dx(()=>{t==null&&e(GS())},[]),E.useEffect(()=>{qS=!0},[]),t}const YG=d5.useId,WG=YG||KG;function XG(){const t=new Map;return{emit(e,n){var s;(s=t.get(e))==null||s.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var s;t.set(e,((s=t.get(e))==null?void 0:s.filter(i=>i!==n))||[])}}}const QG=E.createContext(null),ZG=E.createContext(null),JG=()=>{var t;return((t=E.useContext(QG))==null?void 0:t.id)||null},eK=()=>E.useContext(ZG),tK="data-floating-ui-focusable";function nK(t){const{open:e=!1,onOpenChange:n,elements:s}=t,i=WG(),o=E.useRef({}),[c]=E.useState(()=>XG()),u=JG()!=null,[h,m]=E.useState(s.reference),y=f5((_,T,N)=>{o.current.openEvent=_?T:void 0,c.emit("openchange",{open:_,event:T,reason:N,nested:u}),n==null||n(_,T,N)}),v=E.useMemo(()=>({setPositionReference:m}),[]),b=E.useMemo(()=>({reference:h||s.reference||null,floating:s.floating||null,domReference:s.reference}),[h,s.reference,s.floating]);return E.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:b,events:c,floatingId:i,refs:v}),[e,y,b,c,i,v])}function sK(t){t===void 0&&(t={});const{nodeId:e}=t,n=nK({...t,elements:{reference:null,floating:null,...t.elements}}),s=t.rootContext||n,i=s.elements,[o,c]=E.useState(null),[u,h]=E.useState(null),y=(i==null?void 0:i.domReference)||o,v=E.useRef(null),b=eK();dx(()=>{y&&(v.current=y)},[y]);const _=FG({...t,elements:{...i,...u&&{reference:u}}}),T=E.useCallback(R=>{const $=Jn(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;h($),_.refs.setReference($)},[_.refs]),N=E.useCallback(R=>{(Jn(R)||R===null)&&(v.current=R,c(R)),(Jn(_.refs.reference.current)||_.refs.reference.current===null||R!==null&&!Jn(R))&&_.refs.setReference(R)},[_.refs]),I=E.useMemo(()=>({..._.refs,setReference:N,setPositionReference:T,domReference:v}),[_.refs,N,T]),O=E.useMemo(()=>({..._.elements,domReference:y}),[_.elements,y]),P=E.useMemo(()=>({..._,...s,refs:I,elements:O,nodeId:e}),[_,I,O,e,s]);return dx(()=>{s.dataRef.current.floatingContext=P;const R=b==null?void 0:b.nodesRef.current.find($=>$.id===e);R&&(R.context=P)}),E.useMemo(()=>({..._,context:P,refs:I,elements:O}),[_,I,O,P])}const KS="active",YS="selected";function Z0(t,e,n){const s=new Map,i=n==="item";let o=t;if(i&&t){const{[KS]:c,[YS]:u,...h}=t;o=h}return{...n==="floating"&&{tabIndex:-1,[tK]:""},...o,...e.map(c=>{const u=c?c[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((c,u)=>(u&&Object.entries(u).forEach(h=>{let[m,y]=h;if(!(i&&[KS,YS].includes(m)))if(m.indexOf("on")===0){if(s.has(m)||s.set(m,[]),typeof y=="function"){var v;(v=s.get(m))==null||v.push(y),c[m]=function(){for(var b,_=arguments.length,T=new Array(_),N=0;N<_;N++)T[N]=arguments[N];return(b=s.get(m))==null?void 0:b.map(I=>I(...T)).find(I=>I!==void 0)}}}else c[m]=y}),c),{})}}function rK(t){t===void 0&&(t=[]);const e=t.map(u=>u==null?void 0:u.reference),n=t.map(u=>u==null?void 0:u.floating),s=t.map(u=>u==null?void 0:u.item),i=E.useCallback(u=>Z0(u,t,"reference"),e),o=E.useCallback(u=>Z0(u,t,"floating"),n),c=E.useCallback(u=>Z0(u,t,"item"),s);return E.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:c}),[i,o,c])}function WS(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const iK=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:s,onFallbackChange:i,offset:o=0,index:c=0,minItemsVisible:u=4,referenceOverflowThreshold:h=0,scrollRef:m,...y}=Gc(t,e),{rects:v,elements:{floating:b}}=e,_=n.current[c],T=(m==null?void 0:m.current)||b,N=b.clientTop||T.clientTop,I=b.clientTop!==0,O=T.clientTop!==0,P=b===T;if(!_)return{};const R={...e,...await u5(-_.offsetTop-b.clientTop-v.reference.height/2-_.offsetHeight/2-o).fn(e)},$=await X0(WS(R,T.scrollHeight+N+b.clientTop),y),B=await X0(R,{...y,elementContext:"reference"}),q=Un(0,$.top),D=R.y+q,V=(T.scrollHeight>T.clientHeight?U=>U:tf)(Un(0,T.scrollHeight+(I&&P||O?N*2:0)-q-Un(0,$.bottom)));if(T.style.maxHeight=V+"px",T.scrollTop=q,i){const U=T.offsetHeight<_.offsetHeight*Qo(u,n.current.length)-1||B.top>=-h||B.bottom>=-h;Ks.flushSync(()=>i(U))}return s&&(s.current=await X0(WS({...R,y:D},T.offsetHeight+N+b.clientTop),y)),{y:D}}});function aK(t,e){const{open:n,elements:s}=t,{enabled:i=!0,overflowRef:o,scrollRef:c,onChange:u}=e,h=f5(u),m=E.useRef(!1),y=E.useRef(null),v=E.useRef(null);E.useEffect(()=>{if(!i)return;function _(N){if(N.ctrlKey||!T||o.current==null)return;const I=N.deltaY,O=o.current.top>=-.5,P=o.current.bottom>=-.5,R=T.scrollHeight-T.clientHeight,$=I<0?-1:1,B=I<0?"max":"min";T.scrollHeight<=T.clientHeight||(!O&&I>0||!P&&I<0?(N.preventDefault(),Ks.flushSync(()=>{h(q=>q+Math[B](I,R*$))})):/firefox/i.test(Qq())&&(T.scrollTop+=I))}const T=(c==null?void 0:c.current)||s.floating;if(n&&T)return T.addEventListener("wheel",_),requestAnimationFrame(()=>{y.current=T.scrollTop,o.current!=null&&(v.current={...o.current})}),()=>{y.current=null,v.current=null,T.removeEventListener("wheel",_)}},[i,n,s.floating,o,c,h]);const b=E.useMemo(()=>({onKeyDown(){m.current=!0},onWheel(){m.current=!1},onPointerMove(){m.current=!1},onScroll(){const _=(c==null?void 0:c.current)||s.floating;if(!(!o.current||!_||!m.current)){if(y.current!==null){const T=_.scrollTop-y.current;(o.current.bottom<-.5&&T<-1||o.current.top<-.5&&T>1)&&Ks.flushSync(()=>h(N=>N+T))}requestAnimationFrame(()=>{y.current=_.scrollTop})}}}),[s.floating,h,o,c]);return E.useMemo(()=>i?{floating:b}:{},[i,b])}let Kc=E.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Kc.displayName="FloatingContext";let xb=E.createContext(null);xb.displayName="PlacementContext";function oK(t){return E.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function lK(){return E.useContext(Kc).setReference}function cK(){return E.useContext(Kc).getReferenceProps}function uK(){let{getFloatingProps:t,slot:e}=E.useContext(Kc);return E.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function dK(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=E.useContext(xb),n=E.useMemo(()=>t,[JSON.stringify(t,(i,o)=>{var c;return(c=o==null?void 0:o.outerHTML)!=null?c:o})]);xn(()=>{e==null||e(n??null)},[e,n]);let s=E.useContext(Kc);return E.useMemo(()=>[s.setFloating,t?s.styles:{}],[s.setFloating,t,s.styles])}let XS=4;function fK({children:t,enabled:e=!0}){let[n,s]=E.useState(null),[i,o]=E.useState(0),c=E.useRef(null),[u,h]=E.useState(null);hK(u);let m=e&&n!==null&&u!==null,{to:y="bottom",gap:v=0,offset:b=0,padding:_=0,inner:T}=mK(n,u),[N,I="center"]=y.split(" ");xn(()=>{m&&o(0)},[m]);let{refs:O,floatingStyles:P,context:R}=sK({open:m,placement:N==="selection"?I==="center"?"bottom":`bottom-${I}`:I==="center"?`${N}`:`${N}-${I}`,strategy:"absolute",transform:!1,middleware:[u5({mainAxis:N==="selection"?0:v,crossAxis:b}),BG({padding:_}),N!=="selection"&&zG({padding:_}),N==="selection"&&T?iK({...T,padding:_,overflowRef:c,offset:i,minItemsVisible:XS,referenceOverflowThreshold:_,onFallbackChange(U){var F,L;if(!U)return;let xe=R.elements.floating;if(!xe)return;let pe=parseFloat(getComputedStyle(xe).scrollPaddingBottom)||0,Y=Math.min(XS,xe.childElementCount),Z=0,se=0;for(let we of(L=(F=R.elements.floating)==null?void 0:F.childNodes)!=null?L:[])if(qi(we)){let z=we.offsetTop,le=z+we.clientHeight+pe,he=xe.scrollTop,fe=he+xe.clientHeight;if(z>=he&&le<=fe)Y--;else{se=Math.max(0,Math.min(le,fe)-Math.max(z,he)),Z=we.clientHeight;break}}Y>=1&&o(we=>{let z=Z*Y-se+pe;return we>=z?we:z})}}):null,HG({padding:_,apply({availableWidth:U,availableHeight:F,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${F}px)`})}})].filter(Boolean),whileElementsMounted:jG}),[$=N,B=I]=R.placement.split("-");N==="selection"&&($="selection");let q=E.useMemo(()=>({anchor:[$,B].filter(Boolean).join(" ")}),[$,B]),D=aK(R,{overflowRef:c,onChange:o}),{getReferenceProps:C,getFloatingProps:M}=rK([D]),V=At(U=>{h(U),O.setFloating(U)});return E.createElement(xb.Provider,{value:s},E.createElement(Kc.Provider,{value:{setFloating:V,setReference:O.setReference,styles:P,getReferenceProps:C,getFloatingProps:M,slot:q}},t))}function hK(t){xn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,s=parseFloat(n);if(isNaN(s))return;let i=parseInt(n);isNaN(i)||s!==i&&(t.style.maxHeight=`${Math.ceil(s)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function mK(t,e){var n,s,i;let o=J0((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),c=J0((s=t==null?void 0:t.offset)!=null?s:"var(--anchor-offset, 0)",e),u=J0((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:c,padding:u}}function J0(t,e,n=void 0){let s=Cf(),i=At((h,m)=>{if(h==null)return[n,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!m)return[n,null];let y=QS(h,m);return[y,v=>{let b=h5(h);{let _=b.map(T=>window.getComputedStyle(m).getPropertyValue(T));s.requestAnimationFrame(function T(){s.nextFrame(T);let N=!1;for(let[O,P]of b.entries()){let R=window.getComputedStyle(m).getPropertyValue(P);if(_[O]!==R){_[O]=R,N=!0;break}}if(!N)return;let I=QS(h,m);y!==I&&(v(I),y=I)})}return s.dispose}]}return[n,null]}),o=E.useMemo(()=>i(t,e)[0],[t,e]),[c=o,u]=E.useState();return xn(()=>{let[h,m]=i(t,e);if(u(h),!!m)return m(u)},[t,e]),c}function h5(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let s=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[s,...h5(i)]:[s]}return[]}function QS(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let s=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),s}function pK(t,e){let[n,s]=E.useState(e);return!t&&n!==e&&s(e),t?n:e}let bb=E.createContext(null);bb.displayName="OpenClosedContext";var nf=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(nf||{});function gK(){return E.useContext(bb)}function yK({value:t,children:e}){return Pe.createElement(bb.Provider,{value:t},e)}function vK(t){throw new Error("Unexpected object: "+t)}var Ot=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ot||{});function gm(t,e){let n=e.resolveItems();if(n.length<=0)return null;let s=e.resolveActiveIndex(),i=s??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return s}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return s}case 2:{for(let o=i+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return s}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return s}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return s}case 5:return null;default:vK(t)}}var m5=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(m5||{});function p5(t){let e=At(t),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,CR(()=>{n.current&&e()})}),[e])}function xK(){let t=typeof document>"u";return"useSyncExternalStore"in ev?(e=>e.useSyncExternalStore)(ev)(()=>()=>{},()=>!1,()=>!t):!1}function bK(){let t=xK(),[e,n]=E.useState(Wr.isHandoffComplete);return e&&Wr.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{e!==!0&&n(!0)},[e]),E.useEffect(()=>Wr.handoff(),[]),t?!1:e}let wK=E.createContext(!1);function _K(){return E.useContext(wK)}function EK(t){let e=_K(),n=E.useContext(y5),[s,i]=E.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Wr.isServer)return null;let c=t==null?void 0:t.getElementById("headlessui-portal-root");if(c)return c;if(t===null)return null;let u=t.createElement("div");return u.setAttribute("id","headlessui-portal-root"),t.body.appendChild(u)});return E.useEffect(()=>{s!==null&&(t!=null&&t.body.contains(s)||t==null||t.body.appendChild(s))},[s,t]),E.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),s}let g5=E.Fragment,TK=vr(function(t,e){let{ownerDocument:n=null,...s}=t,i=E.useRef(null),o=ni(P$(_=>{i.current=_}),e),c=lx(i),u=n??c,h=EK(u),[m]=E.useState(()=>{var _;return Wr.isServer?null:(_=u==null?void 0:u.createElement("div"))!=null?_:null}),y=E.useContext(NK),v=bK();xn(()=>{!h||!m||h.contains(m)||(m.setAttribute("data-headlessui-portal",""),h.appendChild(m))},[h,m]),xn(()=>{if(m&&y)return y.register(m)},[y,m]),p5(()=>{var _;!h||!m||(db(m)&&h.contains(m)&&h.removeChild(m),h.childNodes.length<=0&&((_=h.parentElement)==null||_.removeChild(h)))});let b=yr();return v?!h||!m?null:Ks.createPortal(b({ourProps:{ref:o},theirProps:s,slot:{},defaultTag:g5,name:"Portal"}),m):null});function SK(t,e){let n=ni(e),{enabled:s=!0,ownerDocument:i,...o}=t,c=yr();return s?Pe.createElement(TK,{...o,ownerDocument:i,ref:n}):c({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:g5,name:"Portal"})}let AK=E.Fragment,y5=E.createContext(null);function CK(t,e){let{target:n,...s}=t,i={ref:ni(e)},o=yr();return Pe.createElement(y5.Provider,{value:n},o({ourProps:i,theirProps:s,defaultTag:AK,name:"Popover.Group"}))}let NK=E.createContext(null),RK=vr(SK),IK=vr(CK),DK=Object.assign(RK,{Group:IK});function jK(t,e){let n=E.useRef({left:0,top:0});if(xn(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let s=e.getBoundingClientRect();return s.top!==n.current.top||s.left!==n.current.left}let ZS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function JS(t){var e,n;let s=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!qi(i))return s;let o=!1;for(let u of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),o=!0;let c=o?(n=i.innerText)!=null?n:"":s;return ZS.test(c)&&(c=c.replace(ZS,"")),c}function MK(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let s=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let c=o.getAttribute("aria-label");return typeof c=="string"?c.trim():JS(o).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return JS(t).trim()}function OK(t){let e=E.useRef(""),n=E.useRef("");return At(()=>{let s=t.current;if(!s)return"";let i=s.innerText;if(e.current===i)return n.current;let o=MK(s).trim().toLowerCase();return e.current=i,n.current=o,o})}var kK=Object.defineProperty,PK=(t,e,n)=>e in t?kK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eA=(t,e,n)=>(PK(t,typeof e!="symbol"?e+"":e,n),n),vn=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vn||{}),Br=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Br||{}),Pm=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Pm||{}),v5=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOptions=5]="RegisterOptions",t[t.UnregisterOptions=6]="UnregisterOptions",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t[t.SortOptions=9]="SortOptions",t))(v5||{});function tA(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,s=XR(e(t.options.slice()),o=>o.dataRef.current.domRef.current),i=n?s.indexOf(n):null;return i===-1&&(i=null),{options:s,activeOptionIndex:i}}let VK={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,pendingFocus:{focus:Ot.Nothing},listboxState:1,__demoMode:!1}},0(t,e){if(t.dataRef.current.disabled||t.listboxState===0)return t;let n=t.activeOptionIndex,{isSelected:s}=t.dataRef.current,i=t.options.findIndex(o=>s(o.dataRef.current.value));return i!==-1&&(n=i),{...t,pendingFocus:e.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(t,e){var n,s,i,o,c;if(t.dataRef.current.disabled||t.listboxState===1)return t;let u={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Ot.Nothing)return{...u,activeOptionIndex:null};if(e.focus===Ot.Specific)return{...u,activeOptionIndex:t.options.findIndex(y=>y.id===e.id)};if(e.focus===Ot.Previous){let y=t.activeOptionIndex;if(y!==null){let v=t.options[y].dataRef.current.domRef,b=gm(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(b!==null){let _=t.options[b].dataRef.current.domRef;if(((s=v.current)==null?void 0:s.previousElementSibling)===_.current||((i=_.current)==null?void 0:i.previousElementSibling)===null)return{...u,activeOptionIndex:b}}}}else if(e.focus===Ot.Next){let y=t.activeOptionIndex;if(y!==null){let v=t.options[y].dataRef.current.domRef,b=gm(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(b!==null){let _=t.options[b].dataRef.current.domRef;if(((o=v.current)==null?void 0:o.nextElementSibling)===_.current||((c=_.current)==null?void 0:c.nextElementSibling)===null)return{...u,activeOptionIndex:b}}}}let h=tA(t),m=gm(e,{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});return{...u,...h,activeOptionIndex:m}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,s=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(c=>{var u;return!c.dataRef.current.disabled&&((u=c.dataRef.current.textValue)==null?void 0:u.startsWith(s))}),o=i?t.options.indexOf(i):-1;return o===-1||o===t.activeOptionIndex?{...t,searchQuery:s}:{...t,searchQuery:s,activeOptionIndex:o,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n=t.options.concat(e.options),s=t.activeOptionIndex;if(t.pendingFocus.focus!==Ot.Nothing&&(s=gm(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),t.activeOptionIndex===null){let{isSelected:i}=t.dataRef.current;if(i){let o=n.findIndex(c=>i==null?void 0:i(c.dataRef.current.value));o!==-1&&(s=o)}}return{...t,options:n,activeOptionIndex:s,pendingFocus:{focus:Ot.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.options,s=[],i=new Set(e.options);for(let[o,c]of n.entries())if(i.has(c.id)&&(s.push(o),i.delete(c.id),i.size===0))break;if(s.length>0){n=n.slice();for(let o of s.reverse())n.splice(o,1)}return{...t,options:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},9:t=>t.pendingShouldSort?{...t,...tA(t),pendingShouldSort:!1}:t};class wb extends HR{constructor(e){super(e),eA(this,"actions",{onChange:n=>{let{onChange:s,compare:i,mode:o,value:c}=this.state.dataRef.current;return Jr(o,{0:()=>s==null?void 0:s(n),1:()=>{let u=c.slice(),h=u.findIndex(m=>i(m,n));return h===-1?u.push(n):u.splice(h,1),s==null?void 0:s(u)}})},registerOption:G0(()=>{let n=[],s=new Set;return[(i,o)=>{s.has(o)||(s.add(o),n.push({id:i,dataRef:o}))},()=>(s.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:G0(()=>{let n=[];return[s=>n.push(s),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:G0(()=>{let n=null;return[(s,i)=>{n={type:2,...s,trigger:i}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:s}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:Ot.Specific,id:s})}},selectOption:n=>{let s=this.state.options.find(i=>i.id===n);s&&this.actions.onChange(s.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),eA(this,"selectors",{activeDescendantId(n){var s;let i=n.activeOptionIndex,o=n.options;return i===null||(s=o[i])==null?void 0:s.id},isActive(n,s){var i;let o=n.activeOptionIndex,c=n.options;return o!==null?((i=c[o])==null?void 0:i.id)===s:!1},shouldScrollIntoView(n,s){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,s)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,s=hb.get(null);this.disposables.add(s.on(qR.Push,i=>{!s.selectors.isTop(i,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>s.actions.push(n)),this.on(1,()=>s.actions.pop(n))}}static new({id:e,__demoMode:n=!1}){return new wb({id:e,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:Ot.Nothing},__demoMode:n})}reduce(e,n){return Jr(n.type,VK,e,n)}}const x5=E.createContext(null);function _b(t){let e=E.useContext(x5);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,b5),n}return e}function b5({id:t,__demoMode:e=!1}){let n=E.useMemo(()=>wb.new({id:t,__demoMode:e}),[]);return p5(()=>n.dispose()),n}let lg=E.createContext(null);lg.displayName="ListboxDataContext";function If(t){let e=E.useContext(lg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,If),n}return e}let LK=E.Fragment;function UK(t,e){let n=E.useId(),s=cb(),{value:i,defaultValue:o,form:c,name:u,onChange:h,by:m,invalid:y=!1,disabled:v=s||!1,horizontal:b=!1,multiple:_=!1,__demoMode:T=!1,...N}=t;const I=b?"horizontal":"vertical";let O=ni(e),P=w$(o),[R=_?[]:void 0,$]=b$(i,h,P),B=b5({id:n,__demoMode:T}),q=E.useRef({static:!1,hold:!1}),D=E.useRef(new Map),C=K$(m),M=E.useCallback(he=>Jr(V.mode,{[Br.Multi]:()=>R.some(fe=>C(fe,he)),[Br.Single]:()=>C(R,he)}),[R]),V=E.useMemo(()=>({value:R,disabled:v,invalid:y,mode:_?Br.Multi:Br.Single,orientation:I,onChange:$,compare:C,isSelected:M,optionsPropsRef:q,listRef:D}),[R,v,y,_,I,$,C,M,q,D]);xn(()=>{B.state.dataRef.current=V},[V]);let U=Gs(B,he=>he.listboxState),F=hb.get(null),L=Gs(F,E.useCallback(he=>F.selectors.isTop(he,n),[F,n])),[xe,pe]=Gs(B,he=>[he.buttonElement,he.optionsElement]);bq(L,[xe,pe],(he,fe)=>{B.send({type:v5.CloseListbox}),WR(fe,mb.Loose)||(he.preventDefault(),xe==null||xe.focus())});let Y=E.useMemo(()=>({open:U===vn.Open,disabled:v,invalid:y,value:R}),[U,v,y,R]),[Z,se]=B$({inherit:!0}),we={ref:O},z=E.useCallback(()=>{if(P!==void 0)return $==null?void 0:$(P)},[$,P]),le=yr();return Pe.createElement(se,{value:Z,props:{htmlFor:xe==null?void 0:xe.id},slot:{open:U===vn.Open,disabled:v}},Pe.createElement(fK,null,Pe.createElement(x5.Provider,{value:B},Pe.createElement(lg.Provider,{value:V},Pe.createElement(yK,{value:Jr(U,{[vn.Open]:nf.Open,[vn.Closed]:nf.Closed})},u!=null&&R!=null&&Pe.createElement(C$,{disabled:v,data:{[u]:R},form:c,onReset:z}),le({ourProps:we,theirProps:N,slot:Y,defaultTag:LK,name:"Listbox"}))))))}let FK="button";function BK(t,e){let n=E.useId(),s=OR(),i=If("Listbox.Button"),o=_b("Listbox.Button"),{id:c=s||`headlessui-listbox-button-${n}`,disabled:u=i.disabled||!1,autoFocus:h=!1,...m}=t,y=ni(e,lK(),o.actions.setButtonElement),v=cK(),[b,_,T]=Gs(o,se=>[se.listboxState,se.buttonElement,se.optionsElement]),N=b===vn.Open;Eq(N,{trigger:_,action:E.useCallback(se=>{if(_!=null&&_.contains(se.target))return mm.Ignore;let we=se.target.closest('[role="option"]:not([data-disabled])');return qi(we)?mm.Select(we):T!=null&&T.contains(se.target)?mm.Ignore:mm.Close},[_,T]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let I=At(se=>{switch(se.key){case gn.Enter:_$(se.currentTarget);break;case gn.Space:case gn.ArrowDown:se.preventDefault(),o.actions.openListbox({focus:i.value?Ot.Nothing:Ot.First});break;case gn.ArrowUp:se.preventDefault(),o.actions.openListbox({focus:i.value?Ot.Nothing:Ot.Last});break}}),O=At(se=>{switch(se.key){case gn.Space:se.preventDefault();break}}),P=At(se=>{var we;if(se.button===m5.Left){if(O$(se.currentTarget))return se.preventDefault();o.state.listboxState===vn.Open?(Ks.flushSync(()=>o.actions.closeListbox()),(we=o.state.buttonElement)==null||we.focus({preventScroll:!0})):(se.preventDefault(),o.actions.openListbox({focus:Ot.Nothing}))}}),R=E.useRef(null),$=At(se=>{R.current=se.pointerType,se.pointerType==="mouse"&&P(se)}),B=At(se=>{R.current!=="mouse"&&P(se)}),q=At(se=>se.preventDefault()),D=FR([c]),C=V$(),{isFocusVisible:M,focusProps:V}=o$({autoFocus:h}),{isHovered:U,hoverProps:F}=a$({isDisabled:u}),{pressed:L,pressProps:xe}=h$({disabled:u}),pe=E.useMemo(()=>({open:b===vn.Open,active:L||b===vn.Open,disabled:u,invalid:i.invalid,value:i.value,hover:U,focus:M,autofocus:h}),[b,i.value,u,U,M,L,i.invalid,h]),Y=Gs(o,se=>se.listboxState===vn.Open),Z=RR(v(),{ref:y,id:c,type:Tq(t,_),"aria-haspopup":"listbox","aria-controls":T==null?void 0:T.id,"aria-expanded":Y,"aria-labelledby":D,"aria-describedby":C,disabled:u||void 0,autoFocus:h,onKeyDown:I,onKeyUp:O,onKeyPress:q,onPointerDown:$,onClick:B},V,F,xe);return yr()({ourProps:Z,theirProps:m,slot:pe,defaultTag:FK,name:"Listbox.Button"})}let w5=E.createContext(!1),zK="div",HK=rx.RenderStrategy|rx.Static;function $K(t,e){let n=E.useId(),{id:s=`headlessui-listbox-options-${n}`,anchor:i,portal:o=!1,modal:c=!0,transition:u=!1,...h}=t,m=oK(i),[y,v]=E.useState(null);m&&(o=!0);let b=If("Listbox.Options"),_=_b("Listbox.Options"),[T,N,I,O]=Gs(_,Ee=>[Ee.listboxState,Ee.buttonElement,Ee.optionsElement,Ee.__demoMode]),P=lx(N),R=lx(I),$=gK(),[B,q]=Lq(u,y,$!==null?($&nf.Open)===nf.Open:T===vn.Open);lq(B,N,_.actions.closeListbox);let D=O?!1:c&&T===vn.Open;jq(D,R);let C=O?!1:c&&T===vn.Open;oq(C,{allowed:E.useCallback(()=>[N,I],[N,I])});let M=T!==vn.Open,V=jK(M,N)?!1:B,U=B&&T===vn.Closed,F=pK(U,b.value),L=At(Ee=>b.compare(F,Ee)),xe=Gs(_,Ee=>{var Me;if(m==null||!((Me=m==null?void 0:m.to)!=null&&Me.includes("selection")))return null;let jt=Ee.options.findIndex(Yt=>L(Yt.dataRef.current.value));return jt===-1&&(jt=0),jt}),pe=(()=>{if(m==null)return;if(xe===null)return{...m,inner:void 0};let Ee=Array.from(b.listRef.current.values());return{...m,inner:{listRef:{current:Ee},index:xe}}})(),[Y,Z]=dK(pe),se=uK(),we=ni(e,m?Y:null,_.actions.setOptionsElement,v),z=Cf();E.useEffect(()=>{var Ee;let Me=I;Me&&T===vn.Open&&Me!==((Ee=Af(Me))==null?void 0:Ee.activeElement)&&(Me==null||Me.focus({preventScroll:!0}))},[T,I]);let le=At(Ee=>{var Me,jt;switch(z.dispose(),Ee.key){case gn.Space:if(_.state.searchQuery!=="")return Ee.preventDefault(),Ee.stopPropagation(),_.actions.search(Ee.key);case gn.Enter:if(Ee.preventDefault(),Ee.stopPropagation(),_.state.activeOptionIndex!==null){let{dataRef:Yt}=_.state.options[_.state.activeOptionIndex];_.actions.onChange(Yt.current.value)}b.mode===Br.Single&&(Ks.flushSync(()=>_.actions.closeListbox()),(Me=_.state.buttonElement)==null||Me.focus({preventScroll:!0}));break;case Jr(b.orientation,{vertical:gn.ArrowDown,horizontal:gn.ArrowRight}):return Ee.preventDefault(),Ee.stopPropagation(),_.actions.goToOption({focus:Ot.Next});case Jr(b.orientation,{vertical:gn.ArrowUp,horizontal:gn.ArrowLeft}):return Ee.preventDefault(),Ee.stopPropagation(),_.actions.goToOption({focus:Ot.Previous});case gn.Home:case gn.PageUp:return Ee.preventDefault(),Ee.stopPropagation(),_.actions.goToOption({focus:Ot.First});case gn.End:case gn.PageDown:return Ee.preventDefault(),Ee.stopPropagation(),_.actions.goToOption({focus:Ot.Last});case gn.Escape:Ee.preventDefault(),Ee.stopPropagation(),Ks.flushSync(()=>_.actions.closeListbox()),(jt=_.state.buttonElement)==null||jt.focus({preventScroll:!0});return;case gn.Tab:Ee.preventDefault(),Ee.stopPropagation(),Ks.flushSync(()=>_.actions.closeListbox()),gq(_.state.buttonElement,Ee.shiftKey?ox.Previous:ox.Next);break;default:Ee.key.length===1&&(_.actions.search(Ee.key),z.setTimeout(()=>_.actions.clearSearch(),350));break}}),he=Gs(_,Ee=>{var Me;return(Me=Ee.buttonElement)==null?void 0:Me.id}),fe=E.useMemo(()=>({open:T===vn.Open}),[T]),De=RR(m?se():{},{id:s,ref:we,"aria-activedescendant":Gs(_,_.selectors.activeDescendantId),"aria-multiselectable":b.mode===Br.Multi?!0:void 0,"aria-labelledby":he,"aria-orientation":b.orientation,onKeyDown:le,role:"listbox",tabIndex:T===vn.Open?0:void 0,style:{...h.style,...Z,"--button-width":W$(N,!0).width},...Vq(q)}),He=yr(),Re=E.useMemo(()=>b.mode===Br.Multi?b:{...b,isSelected:L},[b,L]);return Pe.createElement(DK,{enabled:o?t.static||B:!1,ownerDocument:P},Pe.createElement(lg.Provider,{value:Re},He({ourProps:De,theirProps:h,slot:fe,defaultTag:zK,features:HK,visible:V,name:"Listbox.Options"})))}let qK="div";function GK(t,e){let n=E.useId(),{id:s=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...c}=t,u=E.useContext(w5)===!0,h=If("Listbox.Option"),m=_b("Listbox.Option"),y=Gs(m,V=>m.selectors.isActive(V,s)),v=h.isSelected(o),b=E.useRef(null),_=OK(b),T=$c({disabled:i,value:o,domRef:b,get textValue(){return _()}}),N=ni(e,b,V=>{V?h.listRef.current.set(s,V):h.listRef.current.delete(s)}),I=Gs(m,V=>m.selectors.shouldScrollIntoView(V,s));xn(()=>{if(I)return gr().requestAnimationFrame(()=>{var V,U;(U=(V=b.current)==null?void 0:V.scrollIntoView)==null||U.call(V,{block:"nearest"})})},[I,b]),xn(()=>{if(!u)return m.actions.registerOption(s,T),()=>m.actions.unregisterOption(s)},[T,s,u]);let O=At(V=>{var U;if(i)return V.preventDefault();m.actions.onChange(o),h.mode===Br.Single&&(Ks.flushSync(()=>m.actions.closeListbox()),(U=m.state.buttonElement)==null||U.focus({preventScroll:!0}))}),P=At(()=>{if(i)return m.actions.goToOption({focus:Ot.Nothing});m.actions.goToOption({focus:Ot.Specific,id:s})}),R=Mq(),$=At(V=>R.update(V)),B=At(V=>{R.wasMoved(V)&&(i||y&&m.state.activationTrigger===Pm.Pointer||m.actions.goToOption({focus:Ot.Specific,id:s},Pm.Pointer))}),q=At(V=>{R.wasMoved(V)&&(i||y&&m.state.activationTrigger===Pm.Pointer&&m.actions.goToOption({focus:Ot.Nothing}))}),D=E.useMemo(()=>({active:y,focus:y,selected:v,disabled:i,selectedOption:v&&u}),[y,v,i,u]),C=u?{}:{id:s,ref:N,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":v,disabled:void 0,onClick:O,onFocus:P,onPointerEnter:$,onMouseEnter:$,onPointerMove:B,onMouseMove:B,onPointerLeave:q,onMouseLeave:q},M=yr();return!v&&u?null:M({ourProps:C,theirProps:c,slot:D,defaultTag:qK,name:"Listbox.Option"})}let KK=E.Fragment;function YK(t,e){let{options:n,placeholder:s,...i}=t,o={ref:ni(e)},c=If("ListboxSelectedOption"),u=E.useMemo(()=>({}),[]),h=c.value===void 0||c.value===null||c.mode===Br.Multi&&Array.isArray(c.value)&&c.value.length===0,m=yr();return Pe.createElement(w5.Provider,{value:!0},m({ourProps:o,theirProps:{...i,children:Pe.createElement(Pe.Fragment,null,s&&h?s:n)},slot:u,defaultTag:KK,name:"ListboxSelectedOption"}))}let WK=vr(UK),XK=vr(BK),QK=q$,ZK=vr($K),JK=vr(GK),eY=vr(YK),Et=Object.assign(WK,{Button:XK,Label:QK,Options:ZK,Option:JK,SelectedOption:eY});const Or=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Emergency Contact",description:"Emergency contact information"},{id:3,name:"Medical Information",description:"Your medical history and conditions"},{id:4,name:"Lifestyle",description:"Your habits and preferences"}],nA=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],tY=["A+","A-","B+","B-","O+","O-","AB+","AB-"],nY=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],sY=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],rY=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease"],iY=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye"],aY=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements"],oY=["Mobility Impairment","Visual Impairment","Hearing Impairment","Speech Impairment","Cognitive Disability","Intellectual Disability","Learning Disability","Neurological Disability","Psychiatric Disability","Developmental Disability","Wheelchair User","Prosthetic User","Amputee","Multiple Sclerosis","Cerebral Palsy","Spinal Cord Injury","Neurological Disorder","Chronic Pain","Missing Limb"],fx="w-full rounded-xl glass border soft-divider px-4 py-3 text-sm font-medium text-text placeholder-secondary focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all",sA="w-full rounded-xl glass border soft-divider px-4 py-3 text-left text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40",rA=(t,e)=>`cursor-pointer select-none px-4 py-3 text-sm rounded-lg mx-1 my-0.5 ${t?"bg-white/10":""} ${e?"text-primary font-semibold":"text-text"}`,lY=t=>`px-4 py-2 rounded-xl text-xs sm:text-sm font-medium transition-all border soft-divider ${t?"glass-cta text-white shadow-lg scale-[1.02]":"glass text-text hover-glow-primary"}`,Va=Pe.memo(({label:t,type:e="text",value:n,onChange:s,placeholder:i,className:o=""})=>f.jsxs("div",{className:o,children:[f.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:t}),f.jsx("input",{type:e,value:n,onChange:s,placeholder:i,className:fx})]})),ac=Pe.memo(({label:t,options:e,selectedItems:n,onToggle:s,helper:i})=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"block text-sm font-bold text-text",children:t}),n.length>0&&f.jsxs("span",{className:"text-[11px] glass px-2 py-0.5 rounded-full border soft-divider text-secondary",children:[n.length," selected"]})]}),i&&f.jsx("p",{className:"text-xs text-secondary mt-1",children:i})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2.5",children:e.map(o=>{const c=n.includes(o);return f.jsx("button",{type:"button",onClick:()=>s(o),className:lY(c),children:o},o)})})]})),cY=Pe.memo(({basicData:t,onBasicChange:e,onNestedChange:n})=>{var o;const s=(c,u)=>e(c,u.target?u.target.value:u),i=(c,u)=>h=>n("basic",c,u,h.target.value);return f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsx(Va,{label:"Full Name",value:t.fullName,onChange:c=>s("fullName",c),placeholder:"Enter your full name",className:"sm:col-span-2"}),f.jsx(Va,{label:"Date of Birth",type:"date",value:t.dob,onChange:c=>s("dob",c)}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Gender"}),f.jsx(Et,{value:t.gender,onChange:c=>s("gender",c),children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:sA,children:f.jsx("span",{className:t.gender?"text-text":"text-secondary",children:((o=nA.find(c=>c.value===t.gender))==null?void 0:o.label)||"Select Gender"})}),f.jsx(Et.Options,{className:"absolute z-20 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl p-1",children:nA.slice(1).map(c=>f.jsx(Et.Option,{value:c.value,className:({active:u,selected:h})=>rA(u,h),children:c.label},c.value))})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Blood Group"}),f.jsx(Et,{value:t.bloodGroup,onChange:c=>s("bloodGroup",c),children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:sA,children:f.jsx("span",{className:t.bloodGroup?"text-text":"text-secondary",children:t.bloodGroup||"Select Blood Group"})}),f.jsx(Et.Options,{className:"absolute z-20 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl p-1",children:tY.map(c=>f.jsx(Et.Option,{value:c,className:({active:u,selected:h})=>rA(u,h),children:c},c))})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Height"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",value:t.height.value,onChange:i("height","value"),placeholder:"170",className:`${fx} flex-1`}),f.jsxs("select",{value:t.height.unit,onChange:i("height","unit"),className:"glass border soft-divider rounded-xl px-3 py-3 text-sm font-medium w-20",children:[f.jsx("option",{value:"cm",children:"cm"}),f.jsx("option",{value:"ft",children:"ft"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Weight"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",value:t.weight.value,onChange:i("weight","value"),placeholder:"70",className:`${fx} flex-1`}),f.jsxs("select",{value:t.weight.unit,onChange:i("weight","unit"),className:"glass border soft-divider rounded-xl px-3 py-3 text-sm font-medium w-20",children:[f.jsx("option",{value:"kg",children:"kg"}),f.jsx("option",{value:"lbs",children:"lbs"})]})]})]}),f.jsx(Va,{label:"Contact Number",value:t.contactNumber,onChange:c=>s("contactNumber",c),placeholder:"Enter your phone number",className:"sm:col-span-2"})]})})}),uY=Pe.memo(({basicData:t,onNestedChange:e})=>{const n=s=>i=>e("basic","emergencyContact",s,i.target.value);return f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Va,{label:"Name",value:t.emergencyContact.name,onChange:n("name"),placeholder:"Contact name"}),f.jsx(Va,{label:"Phone",value:t.emergencyContact.number,onChange:n("number"),placeholder:"Contact number"}),f.jsx(Va,{label:"Relation",value:t.emergencyContact.relation,onChange:n("relation"),placeholder:"Relationship (e.g., Mother)",className:"md:col-span-2"})]})})}),dY=Pe.memo(({medicalData:t,onMultiSelectToggle:e,onNestedChange:n,setProfileData:s})=>{const i=(u,h)=>e("medical",u,h),o=u=>h=>n("medical","vision",u,u==="wearsGlasses"?h.target.checked:h.target.value),c=u=>s(h=>({...h,medical:{...h.medical,hearingAids:u.target.checked}}));return f.jsxs("div",{className:"space-y-10",children:[f.jsx(ac,{label:"🩺 Chronic Conditions",options:rY,selectedItems:t.chronicConditions,onToggle:u=>i("chronicConditions",u)}),f.jsx(ac,{label:"⚠️ Allergies",options:iY,selectedItems:t.allergies,onToggle:u=>i("allergies",u)}),f.jsx(ac,{label:"💊 Current Medications",options:aY,selectedItems:t.currentMedications,onToggle:u=>i("currentMedications",u)}),f.jsx(ac,{label:"♿ Disabilities",options:oY,selectedItems:t.disabilities,onToggle:u=>i("disabilities",u)}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-text tracking-wide",children:"Vision"}),f.jsxs("label",{className:"flex items-center gap-3 text-sm text-text",children:[f.jsx("input",{type:"checkbox",checked:t.vision.wearsGlasses,onChange:o("wearsGlasses"),className:"w-4 h-4 rounded border soft-divider focus:ring-primary/40"})," Wears Glasses"]}),t.vision.wearsGlasses&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Va,{label:"Left Eye",value:t.vision.leftEye,onChange:o("leftEye"),placeholder:"-2.5"}),f.jsx(Va,{label:"Right Eye",value:t.vision.rightEye,onChange:o("rightEye"),placeholder:"-3.0"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-text tracking-wide",children:"Hearing"}),f.jsxs("label",{className:"flex items-center gap-3 text-sm text-text",children:[f.jsx("input",{type:"checkbox",checked:t.hearingAids,onChange:c,className:"w-4 h-4 rounded border soft-divider focus:ring-primary/40"})," Uses Hearing Aids"]})]})]})]})}),fY=Pe.memo(({lifestyleData:t,onMultiSelectToggle:e})=>f.jsxs("div",{className:"space-y-10",children:[f.jsx(ac,{label:"🏃‍♂️ Your Habits",options:nY,selectedItems:t.habits,onToggle:n=>e("lifestyle","habits",n)}),f.jsx(ac,{label:"🍽️ Dietary Preferences",options:sY,selectedItems:t.preferences,onToggle:n=>e("lifestyle","preferences",n)})]}));function hY(){const{user:t}=In(),e=Xs(),[n,s]=E.useState(1),[i,o]=E.useState(!0),[c,u]=E.useState(!1),[h,m]=E.useState(""),[y,v]=E.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],disabilities:[],vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]}});E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const R=await Qd(t.uid);R.success&&v($=>({...$,...R.data}))}finally{o(!1)}})()},[t==null?void 0:t.uid]);const b=E.useCallback((R,$)=>{v(B=>({...B,basic:{...B.basic,[R]:$}}))},[]),_=E.useCallback((R,$,B,q)=>{v(D=>({...D,[R]:{...D[R],[$]:{...D[R][$],[B]:q}}}))},[]),T=E.useCallback((R,$,B)=>{v(q=>{const D=q[R][$]||[];return{...q,[R]:{...q[R],[$]:D.includes(B)?D.filter(C=>C!==B):[...D,B]}}})},[]),N=()=>n<Or.length&&s(R=>R+1),I=()=>n>1&&s(R=>R-1),O=async()=>{if(t!=null&&t.uid){u(!0);try{(await Hz(t.uid,y)).success&&(m("Profile updated"),setTimeout(()=>{m(""),e("../view-profile")},1500))}finally{u(!1)}}},P=E.useMemo(()=>{const{basic:R,medical:$,lifestyle:B}=y;switch(n){case 1:return f.jsx(cY,{basicData:R,onBasicChange:b,onNestedChange:_});case 2:return f.jsx(uY,{basicData:R,onNestedChange:_});case 3:return f.jsx(dY,{medicalData:$,onMultiSelectToggle:T,onNestedChange:_,setProfileData:v});case 4:return f.jsx(fY,{lifestyleData:B,onMultiSelectToggle:T});default:return null}},[n,y,b,_,T]);return i?f.jsx("div",{className:"min-h-screen aurora-bg px-4 sm:px-8 py-10",children:f.jsxs("div",{className:"max-w-5xl mx-auto animate-pulse space-y-8",children:[f.jsx("div",{className:"h-10 w-60 glass rounded-xl"}),f.jsx("div",{className:"glass rounded-3xl p-6 border soft-divider space-y-4",children:Array.from({length:4}).map((R,$)=>f.jsx("div",{className:"h-14 glass rounded-xl border soft-divider"},$))})]})}):f.jsx("div",{className:"min-h-screen aurora-bg px-3 sm:px-6 py-8 sm:py-12",children:f.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[f.jsx("div",{className:"hidden sm:block glass rounded-2xl p-5 sm:p-6 border soft-divider",children:f.jsx("div",{className:"flex items-center justify-between gap-2",children:Or.map((R,$)=>f.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[f.jsxs("button",{type:"button",onClick:()=>s(R.id),onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),s(R.id))},"aria-current":n===R.id?"step":void 0,"aria-label":`Go to step ${R.id}: ${R.name}`,className:"group flex flex-col items-center w-full focus:outline-none",children:[f.jsx("div",{className:`h-12 w-12 sm:h-14 sm:w-14 rounded-full flex items-center justify-center font-bold shadow-lg transition-all cursor-pointer ring-offset-2 ring-primary/40 focus-visible:ring-2 ${n>=R.id?"bg-gradient-to-r from-primary to-accent text-white":"glass text-secondary border soft-divider group-hover:text-text"}`,children:n>R.id?"✓":R.id}),f.jsx("div",{className:"mt-2 text-center px-1 min-w-0",children:f.jsx("p",{className:`text-[10px] sm:text-xs font-semibold uppercase tracking-wide truncate transition-colors ${n===R.id?"text-text":"group-hover:text-text text-secondary"}`,children:R.name})})]}),$!==Or.length-1&&f.jsx("div",{className:`flex-1 h-1 mx-1 sm:mx-3 rounded-full transition-colors ${n>R.id?"bg-primary/60":"bg-white/15 dark:bg-black/20 group-hover:bg-primary/40"}`})]},R.id))})}),f.jsxs("div",{className:"sm:hidden glass rounded-2xl p-4 border soft-divider",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-white/15","aria-hidden":"true"}),f.jsx("div",{className:"absolute top-1/2 left-0 h-px bg-primary/60 transition-all duration-300",style:{width:`${(n-1)/(Or.length-1)*100}%`},"aria-hidden":"true"}),f.jsx("div",{className:"flex justify-between items-center",children:Or.map(R=>f.jsx("button",{type:"button",onClick:()=>s(R.id),"aria-label":`Go to step ${R.id}: ${R.name}`,className:`relative z-10 h-11 w-11 rounded-full flex items-center justify-center text-sm font-semibold transition-all ring-offset-2 ring-primary/40 focus:outline-none focus-visible:ring-2 ${n>=R.id?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"glass text-secondary border soft-divider active:scale-95"}`,children:n>R.id?"✓":R.id},R.id))})]}),f.jsxs("div",{className:"mt-4 text-center",children:[f.jsx("p",{className:"text-[11px] font-semibold tracking-wide text-text uppercase",children:Or[n-1].name}),f.jsx("p",{className:"text-[10px] mt-1 text-secondary line-clamp-2",children:Or[n-1].description})]})]}),f.jsxs("div",{className:"glass-elevated rounded-3xl p-6 sm:p-10 border soft-divider",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-text mb-2",children:["Edit ",Or[n-1].name]}),f.jsx("p",{className:"text-secondary text-sm",children:Or[n-1].description})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx(Bn,{to:"../view-profile",className:"glass rounded-xl border soft-divider px-5 py-3 text-sm font-semibold text-text hover-glow-primary",children:"Cancel"})})]}),h&&f.jsx("div",{className:"mb-6 glass border soft-divider rounded-xl p-4 text-green-400 text-sm font-semibold",children:h}),P,f.jsxs("div",{className:"flex justify-between pt-10",children:[n>1?f.jsxs("button",{onClick:I,className:"glass rounded-xl border soft-divider px-6 py-3 text-sm font-semibold flex items-center gap-2 hover-glow-primary",children:[f.jsx(e1,{className:"text-primary"})," Previous"]}):f.jsx("div",{}),n<Or.length?f.jsxs("button",{onClick:N,className:"glass-cta rounded-xl px-8 py-3 text-sm font-semibold flex items-center gap-2",children:["Next ",f.jsx(n6,{})]}):f.jsxs("button",{onClick:O,disabled:c,className:"glass-cta rounded-xl px-8 py-3 text-sm font-semibold flex items-center gap-2 disabled:opacity-50",children:[f.jsx(Ev,{})," ",c?"Saving...":"Save Profile"]})]})]})]})})}const ym=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Medical Context",description:"Your medical history and conditions"},{id:3,name:"Lifestyle",description:"Your habits and preferences"}],iA=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],aA=[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],mY=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],pY=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],gY=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease","Other"],yY=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye","Other"],vY=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements","Other"],Do=t=>`
	mt-2 block w-full rounded-xl px-3 py-3 text-sm font-medium placeholder-secondary
	bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10 text-text
	focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/50 shadow-sm
	transition-all duration-150
	${t?"border-red-500 focus:ring-red-400 focus:border-red-500":""}
`.replace(/\s+/g," ").trim(),oA=t=>`
	px-3 py-2.5 rounded-lg cursor-pointer transition-all duration-150 text-xs sm:text-sm font-medium text-center
	${t?"bg-primary text-white shadow-md":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10 text-text hover:border-primary/50"}
`.replace(/\s+/g," ").trim(),td=t=>`
	mt-2 block w-full rounded-xl px-3 py-3 text-sm text-left
	bg-white dark:bg-neutral-900 border border-primary/30 dark:border-primary/30
	focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/60 shadow-[0_0_0_1px_var(--color-primary)]
	transition-all duration-150 text-text
	${t?"border-red-500 focus:ring-red-400 focus:border-red-500 shadow-none":""}
`.replace(/\s+/g," ").trim(),lA=`
	mt-2 rounded-xl px-3 py-3 text-sm font-medium
	bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10
	focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/50 shadow-sm
	transition-all duration-150
	h-[46px] leading-none min-w-[70px] text-text
`.replace(/\s+/g," ").trim(),nd=`absolute z-30 mt-2 max-h-60 w-full overflow-auto rounded-xl
 bg-white dark:bg-neutral-900 border border-primary/40 dark:border-primary/40 shadow-xl ring-1 ring-primary/10 dark:ring-primary/20`,sd=(t,e)=>`cursor-pointer select-none px-4 py-2.5 text-sm transition-all duration-150 rounded-lg
	${e?"bg-primary text-white font-semibold shadow-md":t?"bg-primary/10 dark:bg-primary/20 text-text":"text-text"}`;function xY(){const t=Xs(),{user:e,userProfile:n,refreshUserProfile:s,loading:i}=In(),[o,c]=E.useState(1),[u,h]=E.useState(!1),[m,y]=E.useState({}),[v,b]=E.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],customChronicCondition:"",customAllergy:"",customMedication:"",vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]},onboardingCompleted:!1});if(E.useEffect(()=>{n&&n.onboardingCompleted===!0&&t("/user")},[n,t]),i)return f.jsx("div",{className:"min-h-screen bg-background aurora-bg flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"text-primary text-lg",children:"Loading..."})})});const _=q=>{const{name:D,value:C}=q.target;if(D.includes(".")){const[M,V]=D.split(".");b(U=>({...U,basic:{...U.basic,[M]:{...U.basic[M],[V]:C}}}))}else b(M=>({...M,basic:{...M.basic,[D]:C}}))},T=(q,D,C)=>{b(M=>({...M,[q]:{...M[q],[D]:C}}))},N=(q,D,C)=>{b(M=>({...M,[q]:{...M[q],[D]:C}}))},I=(q,D)=>{b(C=>({...C,lifestyle:{...C.lifestyle,[q]:D}}))},O=()=>{const q={},{basic:D}=v;return D.fullName||(q.fullName="Full name is required"),D.dob||(q.dob="Date of birth is required"),D.gender||(q.gender="Gender is required"),D.bloodGroup||(q.bloodGroup="Blood group is required"),D.height.value||(q.height="Height is required"),D.weight.value||(q.weight="Weight is required"),y(q),Object.keys(q).length===0},P=()=>{const q={},{medical:D}=v;return D.chronicConditions.includes("Other")&&!D.customChronicCondition.trim()&&(q.customChronicCondition="Please specify your chronic condition"),D.allergies.includes("Other")&&!D.customAllergy.trim()&&(q.customAllergy="Please specify your allergy"),D.currentMedications.includes("Other")&&!D.customMedication.trim()&&(q.customMedication="Please specify your medication"),y(q),Object.keys(q).length===0},R=()=>(y({}),!0),$=async()=>{if(!(o===1&&!O())&&!(o===2&&!P())){o===3&&R();try{h(!0);const q=o===1?{basic:v.basic}:o===2?{medical:{...v.medical,chronicConditions:v.medical.customChronicCondition?[...v.medical.chronicConditions.filter(D=>D!=="Other"),v.medical.customChronicCondition]:v.medical.chronicConditions.filter(D=>D!=="Other"),allergies:v.medical.customAllergy?[...v.medical.allergies.filter(D=>D!=="Other"),v.medical.customAllergy]:v.medical.allergies.filter(D=>D!=="Other"),currentMedications:v.medical.customMedication?[...v.medical.currentMedications.filter(D=>D!=="Other"),v.medical.customMedication]:v.medical.currentMedications.filter(D=>D!=="Other")}}:o===3?{lifestyle:v.lifestyle}:{};if(e!=null&&e.uid&&Object.keys(q).length>0){const D=await zz(e.uid,q);if(!D.success)throw new Error(D.error||"Failed to save profile")}if(o===1&&(e!=null&&e.uid)){const D=Bt(Tt,"users",e.uid);await tg(D,{onboardingCompleted:!0})}if(o===3){await s(),t("/user");return}c(D=>D+1)}catch(q){console.error("Error saving data:",q),y({submit:q.message})}finally{h(!1)}}},B=()=>{var q,D;switch(o){case 1:return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Full Name *"}),f.jsx("input",{type:"text",name:"fullName",value:v.basic.fullName,onChange:_,placeholder:"Enter your full name",className:Do(m.fullName)}),m.fullName&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.fullName})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Date of Birth *"}),f.jsx("input",{type:"date",name:"dob",value:v.basic.dob,onChange:_,className:Do(m.dob)}),m.dob&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.dob})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Gender *"}),f.jsx(Et,{value:v.basic.gender,onChange:C=>_({target:{name:"gender",value:C}}),children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:td(m.gender),children:f.jsx("span",{className:v.basic.gender?"text-text":"text-secondary",children:((q=iA.find(C=>C.value===v.basic.gender))==null?void 0:q.label)||"Select Gender"})}),f.jsx(Et.Options,{className:nd,children:iA.slice(1).map(C=>f.jsx(Et.Option,{value:C.value,className:({active:M,selected:V})=>sd(M,V),children:C.label},C.value))})]})}),m.gender&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.gender})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Blood Group *"}),f.jsx(Et,{value:v.basic.bloodGroup,onChange:C=>_({target:{name:"bloodGroup",value:C}}),children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:td(m.bloodGroup),children:f.jsx("span",{className:v.basic.bloodGroup?"text-text":"text-secondary",children:((D=aA.find(C=>C.value===v.basic.bloodGroup))==null?void 0:D.label)||"Select Blood Group"})}),f.jsx(Et.Options,{className:nd,children:aA.slice(1).map(C=>f.jsx(Et.Option,{value:C.value,className:({active:M,selected:V})=>sd(M,V),children:C.label},C.value))})]})}),m.bloodGroup&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.bloodGroup})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Height *"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",name:"height.value",value:v.basic.height.value,onChange:_,placeholder:"165",className:`${Do(m.height)} flex-1`}),f.jsxs("select",{name:"height.unit",value:v.basic.height.unit,onChange:_,className:lA,children:[f.jsx("option",{value:"cm",children:"cm"}),f.jsx("option",{value:"ft",children:"ft"})]})]}),m.height&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.height})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Weight *"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",name:"weight.value",value:v.basic.weight.value,onChange:_,placeholder:"70",className:`${Do(m.weight)} flex-1`}),f.jsxs("select",{name:"weight.unit",value:v.basic.weight.unit,onChange:_,className:lA,children:[f.jsx("option",{value:"kg",children:"kg"}),f.jsx("option",{value:"lbs",children:"lbs"})]})]}),m.weight&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.weight})]})]}),m.submit&&f.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40",children:f.jsx("p",{className:"text-sm text-red-500",children:m.submit})}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{type:"button",onClick:$,disabled:u,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:u?"Saving...":"Next Step →"})})]});case 2:return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🩺 Chronic Conditions"}),f.jsx(Et,{value:v.medical.chronicConditions,onChange:C=>T("medical","chronicConditions",C),multiple:!0,children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:td(!1),children:f.jsx("span",{className:v.medical.chronicConditions.length?"text-text":"text-secondary",children:v.medical.chronicConditions.length?v.medical.chronicConditions.join(", "):"Select chronic conditions"})}),f.jsx(Et.Options,{className:nd,children:gY.map(C=>f.jsx(Et.Option,{value:C,className:({active:M,selected:V})=>sd(M,V),children:C},C))})]})}),v.medical.chronicConditions.includes("Other")&&f.jsxs("div",{className:"mt-3",children:[f.jsx("input",{type:"text",placeholder:"Please specify your condition",value:v.medical.customChronicCondition,onChange:C=>N("medical","customChronicCondition",C.target.value),className:Do(m.customChronicCondition)}),m.customChronicCondition&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.customChronicCondition})]}),v.medical.chronicConditions.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:v.medical.chronicConditions.map((C,M)=>f.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:C==="Other"&&v.medical.customChronicCondition?v.medical.customChronicCondition:C},M))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"⚠️ Allergies"}),f.jsx(Et,{value:v.medical.allergies,onChange:C=>T("medical","allergies",C),multiple:!0,children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:td(!1),children:f.jsx("span",{className:v.medical.allergies.length?"text-text":"text-secondary",children:v.medical.allergies.length?v.medical.allergies.join(", "):"Select allergies"})}),f.jsx(Et.Options,{className:nd,children:yY.map(C=>f.jsx(Et.Option,{value:C,className:({active:M,selected:V})=>sd(M,V),children:C},C))})]})}),v.medical.allergies.includes("Other")&&f.jsxs("div",{className:"mt-3",children:[f.jsx("input",{type:"text",placeholder:"Please specify your allergy",value:v.medical.customAllergy,onChange:C=>N("medical","customAllergy",C.target.value),className:Do(m.customAllergy)}),m.customAllergy&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.customAllergy})]}),v.medical.allergies.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:v.medical.allergies.map((C,M)=>f.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:C==="Other"&&v.medical.customAllergy?v.medical.customAllergy:C},M))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"💊 Current Medications"}),f.jsx(Et,{value:v.medical.currentMedications,onChange:C=>T("medical","currentMedications",C),multiple:!0,children:f.jsxs("div",{className:"relative",children:[f.jsx(Et.Button,{className:td(!1),children:f.jsx("span",{className:v.medical.currentMedications.length?"text-text":"text-secondary",children:v.medical.currentMedications.length?v.medical.currentMedications.join(", "):"Select medications"})}),f.jsx(Et.Options,{className:nd,children:vY.map(C=>f.jsx(Et.Option,{value:C,className:({active:M,selected:V})=>sd(M,V),children:C},C))})]})}),v.medical.currentMedications.includes("Other")&&f.jsxs("div",{className:"mt-3",children:[f.jsx("input",{type:"text",placeholder:"Please specify your medication",value:v.medical.customMedication,onChange:C=>N("medical","customMedication",C.target.value),className:Do(m.customMedication)}),m.customMedication&&f.jsx("p",{className:"mt-2 text-sm text-red-500",children:m.customMedication})]}),v.medical.currentMedications.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:v.medical.currentMedications.map((C,M)=>f.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:C==="Other"&&v.medical.customMedication?v.medical.customMedication:C},M))})]}),m.submit&&f.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:m.submit}),f.jsxs("div",{className:"flex justify-between pt-4",children:[f.jsx("button",{type:"button",onClick:()=>c(C=>C-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:"← Back"}),f.jsx("button",{type:"button",onClick:$,disabled:u,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:u?"Saving...":"Next Step →"})]})]});case 3:return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🏃‍♂️ Your Habits"}),f.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select all that apply"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:mY.map(C=>{const M=v.lifestyle.habits.includes(C);return f.jsx("button",{type:"button",onClick:()=>{const V=v.lifestyle.habits;I("habits",M?V.filter(U=>U!==C):[...V,C])},className:oA(M),children:C},C)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🍽️ Dietary Preferences"}),f.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select your dietary preferences and restrictions"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:pY.map(C=>{const M=v.lifestyle.preferences.includes(C);return f.jsx("button",{type:"button",onClick:()=>{const V=v.lifestyle.preferences;I("preferences",M?V.filter(U=>U!==C):[...V,C])},className:oA(M),children:C},C)})})]}),m.submit&&f.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:m.submit}),f.jsxs("div",{className:"flex justify-between pt-4",children:[f.jsx("button",{type:"button",onClick:()=>c(C=>C-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:"← Back"}),f.jsx("button",{type:"button",onClick:$,disabled:u,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:u?"Saving...":"Finish →"})]})]});default:return null}};return f.jsx("div",{className:"min-h-screen bg-background aurora-bg px-3 sm:px-6 py-6 sm:py-8",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("div",{className:"mb-8 sm:mb-10",children:f.jsx("div",{className:"glass rounded-2xl p-4 sm:p-6 border soft-divider",children:f.jsx("div",{className:"flex items-center justify-between gap-2",children:ym.map((q,D)=>f.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col items-center w-full",children:[f.jsx("div",{className:`rounded-full h-12 w-12 sm:h-14 sm:w-14 flex items-center justify-center font-bold text-base sm:text-lg shadow-lg ${o>=q.id?"bg-gradient-to-r from-primary to-accent text-white":"glass border soft-divider text-secondary"}`,children:o>q.id?f.jsx("span",{className:"text-xl",children:"✓"}):f.jsx("span",{children:q.id})}),f.jsxs("div",{className:"mt-2 text-center min-w-0",children:[f.jsx("h3",{className:`text-[11px] sm:text-sm font-bold truncate ${o>=q.id?"text-text":"text-secondary"}`,children:q.name}),f.jsx("p",{className:"hidden sm:block text-xs text-secondary mt-1",children:q.description})]})]}),D!==ym.length-1&&f.jsx("div",{className:`flex-1 h-1 mx-2 sm:mx-4 rounded-full ${o>q.id?"bg-primary/60":"bg-white/20 dark:bg-black/20"}`})]},q.id))})})}),f.jsxs("div",{className:"glass-elevated rounded-3xl p-5 sm:p-8 border soft-divider",children:[f.jsxs("div",{className:"mb-6 sm:mb-8",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text mb-2",children:ym[o-1].name}),f.jsx("p",{className:"text-secondary",children:ym[o-1].description})]}),B()]})]})})}function bY(){var T,N,I,O,P,R,$;const{user:t}=In(),[e,n]=E.useState(null),[s,i]=E.useState(!0),[o,c]=E.useState(null);if(E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const q=await Qd(t.uid);q.success?n(q.data):c(q.error||"Failed to load profile")}catch(q){console.error("Error fetching profile:",q),c("Failed to load profile")}finally{i(!1)}})()},[t]),s)return f.jsx("div",{className:"min-h-screen bg-background aurora-bg px-4 sm:px-8 py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto animate-pulse space-y-8",children:[f.jsx("div",{className:"h-10 w-56 glass rounded-xl"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:Array.from({length:9}).map((B,q)=>f.jsx("div",{className:"h-52 glass rounded-2xl border soft-divider"},q))})]})});if(o)return f.jsx("div",{className:"min-h-screen bg-background aurora-bg flex items-center justify-center px-4",children:f.jsxs("div",{className:"glass rounded-3xl p-10 border soft-divider max-w-md w-full text-center space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text",children:"Profile Error"}),f.jsx("p",{className:"text-secondary text-sm",children:o}),f.jsx(Bn,{to:"/user",className:"glass-cta px-6 py-3 rounded-xl font-semibold inline-block",children:"Back to Dashboard"})]})});if(!e)return f.jsx("div",{className:"min-h-screen bg-background aurora-bg flex items-center justify-center px-4",children:f.jsxs("div",{className:"glass rounded-3xl p-10 border soft-divider max-w-md w-full text-center space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-text",children:"Profile Not Found"}),f.jsx("p",{className:"text-secondary text-sm",children:"We couldn't find your profile data."}),f.jsx(Bn,{to:"/user",className:"glass-cta px-6 py-3 rounded-xl font-semibold inline-block",children:"Back to Dashboard"})]})});const{basic:u={},medical:h={},lifestyle:m={}}=e,y=({title:B,icon:q,children:D,className:C=""})=>f.jsxs("div",{className:`glass rounded-2xl p-5 border soft-divider hover-glow-primary transition-all ${C}`,children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-9 h-9 rounded-lg bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center",children:f.jsx(q,{className:"text-base"})}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text",children:B})]}),D]}),v=({label:B,value:q,icon:D})=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border soft-divider glass",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D&&f.jsx(D,{className:"text-primary text-sm shrink-0"}),f.jsx("span",{className:"text-sm font-medium text-text truncate",children:B})]}),f.jsx("span",{className:"text-sm text-secondary font-medium max-w-[60%] text-right truncate",children:q||"Not specified"})]}),b=({items:B})=>f.jsx("div",{className:"flex flex-wrap gap-2",children:B&&B.length>0?B.map((q,D)=>f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary/90 dark:text-primary/80",children:q},D)):f.jsx("span",{className:"text-sm text-secondary italic",children:"None specified"})}),_=B=>f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${B?"bg-emerald-500/20 text-emerald-300":"bg-white/10 text-secondary"}`,children:B?"Yes":"No"});return f.jsx("div",{className:"min-h-screen bg-background aurora-bg px-3 sm:px-6 py-6 sm:py-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(Bn,{to:"/user",className:"glass rounded-xl border soft-divider px-4 py-2 flex items-center gap-2 text-sm font-medium hover-glow-primary",children:[f.jsx(e1,{className:"text-primary"}),f.jsx("span",{children:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text leading-tight",children:"Complete Profile"}),f.jsx("p",{className:"text-secondary text-sm",children:"Overview of your health data"})]})]}),f.jsxs(Bn,{to:"../edit-profile",className:"glass-cta flex items-center gap-2 px-5 py-3 rounded-xl font-semibold text-sm shadow-lg hover:shadow-primary/30 transition-shadow",children:[f.jsx(qm,{})," Edit Profile"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:[f.jsx(y,{title:"Basic Information",icon:xd,children:f.jsxs("div",{className:"space-y-2.5",children:[f.jsx(v,{label:"Full Name",value:u.fullName,icon:xd}),f.jsx(v,{label:"Gender",value:u.gender,icon:h6}),f.jsx(v,{label:"Date of Birth",value:u.dob?new Date(u.dob).toLocaleDateString():null,icon:Dk}),f.jsx(v,{label:"Contact Number",value:u.contactNumber,icon:C0})]})}),f.jsx(y,{title:"Physical Details",icon:yp,children:f.jsxs("div",{className:"space-y-2.5",children:[f.jsx(v,{label:"Height",value:u!=null&&u.height?`${u.height.value} ${u.height.unit}`:null,icon:yp}),f.jsx(v,{label:"Weight",value:u!=null&&u.weight?`${u.weight.value} ${u.weight.unit}`:null,icon:i1}),f.jsx(v,{label:"Blood Group",value:u.bloodGroup,icon:r1})]})}),f.jsx(y,{title:"Emergency Contact",icon:C0,children:f.jsxs("div",{className:"space-y-2.5",children:[f.jsx(v,{label:"Name",value:(T=u==null?void 0:u.emergencyContact)==null?void 0:T.name,icon:xd}),f.jsx(v,{label:"Phone",value:(N=u==null?void 0:u.emergencyContact)==null?void 0:N.number,icon:C0}),f.jsx(v,{label:"Relation",value:(I=u==null?void 0:u.emergencyContact)==null?void 0:I.relation})]})}),f.jsx(y,{title:"Chronic Conditions",icon:n1,children:f.jsx(b,{items:h==null?void 0:h.chronicConditions})}),f.jsx(y,{title:"Allergies",icon:mR,children:f.jsx(b,{items:h==null?void 0:h.allergies})}),f.jsx(y,{title:"Current Medications",icon:fR,children:f.jsx(b,{items:h==null?void 0:h.currentMedications})}),f.jsx(y,{title:"Disabilities",icon:y6,children:f.jsx(b,{items:h==null?void 0:h.disabilities})}),f.jsx(y,{title:"Vision & Hearing",icon:vp,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2.5",children:[f.jsxs("div",{className:"flex-1 p-3 rounded-lg border soft-divider glass flex items-center justify-between gap-3",children:[f.jsxs("span",{className:"text-sm font-medium text-text flex items-center gap-2",children:[f.jsx(vp,{className:"text-primary"}),"Wears Glasses"]}),_((O=h==null?void 0:h.vision)==null?void 0:O.wearsGlasses)]}),f.jsxs("div",{className:"flex-1 p-3 rounded-lg border soft-divider glass flex items-center justify-between gap-3",children:[f.jsxs("span",{className:"text-sm font-medium text-text flex items-center gap-2",children:[f.jsx(hR,{className:"text-primary"}),"Hearing Aids"]}),_(h==null?void 0:h.hearingAids)]})]}),((P=h==null?void 0:h.vision)==null?void 0:P.wearsGlasses)&&f.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[f.jsx(v,{label:"Left Eye",value:(R=h==null?void 0:h.vision)==null?void 0:R.leftEye}),f.jsx(v,{label:"Right Eye",value:($=h==null?void 0:h.vision)==null?void 0:$.rightEye})]})]})}),f.jsx(y,{title:"Lifestyle Habits",icon:d6,children:f.jsx(b,{items:m==null?void 0:m.habits})}),f.jsx(y,{title:"Dietary Preferences",icon:g6,children:f.jsx(b,{items:m==null?void 0:m.preferences})})]}),f.jsx("div",{className:"mt-10 text-center",children:f.jsx("p",{className:"text-[11px] text-secondary tracking-wide uppercase",children:"End of Profile • Keep your information up to date"})})]})})}const wY=()=>{const t=ti();return E.useLayoutEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,Promise.resolve().then(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0})},[t.pathname]),null},_Y=()=>{const t=ti(),[e,n]=E.useState(1),s=E.useRef(t.pathname);return E.useEffect(()=>{const i=s.current,o=t.pathname;n(o.length>i.length?1:-1),s.current=o},[t]),f.jsxs("div",{className:"relative min-h-screen w-full bg-background text-text",children:[f.jsx(wY,{}),f.jsxs(W8,{location:t,children:[f.jsx(bs,{path:"/",element:f.jsx(Bz,{})}),f.jsx(bs,{path:"/signup",element:f.jsx(IH,{})}),f.jsx(bs,{path:"/login",element:f.jsx(DH,{})}),f.jsxs(bs,{path:"/user",element:f.jsx(bS,{children:f.jsx(jH,{})}),children:[f.jsx(bs,{index:!0,element:f.jsx(RH,{})}),f.jsx(bs,{path:"onboarding",element:f.jsx(xY,{})}),f.jsx(bs,{path:"medical-history",element:f.jsx(Yz,{})}),f.jsx(bs,{path:"edit-profile",element:f.jsx(hY,{})}),f.jsx(bs,{path:"view-profile",element:f.jsx(bY,{})})]}),f.jsxs(bs,{path:"/doctor",element:f.jsx(bS,{children:f.jsx(MH,{})}),children:[f.jsx(bs,{index:!0,element:f.jsx(PH,{})}),f.jsx(bs,{path:"shared-profile/:shareId",element:f.jsx(VH,{})})]})]},t.pathname)]})},EY=E.createContext();function TY({children:t}){const[e,n]=E.useState(null),[s,i]=E.useState(!0),o=E.useCallback(async()=>{if(!Fr.currentUser){console.log("No user ID found");return}console.log("Refreshing user profile"),i(!0);try{const c=await Qd(Fr.currentUser.uid);n({uid:Fr.currentUser.uid,...c})}catch(c){console.error("Error refreshing user profile:",c)}finally{i(!1)}},[]);return E.useEffect(()=>{const c=Fr.onAuthStateChanged(async u=>{if(i(!0),u){const h=await Qd(u.uid);n({uid:u.uid,...h})}else n(null);i(!1)});return()=>c()},[]),f.jsx(EY.Provider,{value:{userProfileState:e,refreshUserProfile:o,loading:s},children:t})}n8.createRoot(document.getElementById("root")).render(f.jsx(E.StrictMode,{children:f.jsx(xD,{children:f.jsx(jz,{children:f.jsx(TY,{children:f.jsx(_Y,{})})})})}));
