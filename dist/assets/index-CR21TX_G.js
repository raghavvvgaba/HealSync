function X5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Z5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fy={exports:{}},Bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function J5(){if(dw)return Bu;dw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Bu.Fragment=e,Bu.jsx=n,Bu.jsxs=n,Bu}var fw;function eI(){return fw||(fw=1,Fy.exports=J5()),Fy.exports}var h=eI(),By={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function tI(){if(hw)return Ye;hw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function N(H,le,he){this.props=H,this.context=le,this.refs=C,this.updater=he||w}N.prototype.isReactComponent={},N.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=N.prototype;function I(H,le,he){this.props=H,this.context=le,this.refs=C,this.updater=he||w}var R=I.prototype=new M;R.constructor=I,S(R,N.prototype),R.isPureReactComponent=!0;var k=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function V(H,le,he,fe,Ie,He){return he=He.ref,{$$typeof:t,type:H,key:le,ref:he!==void 0?he:null,props:He}}function j(H,le){return V(H.type,le,void 0,void 0,void 0,H.props)}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return le[he]})}var B=/\/+/g;function z(H,le){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):le.toString(36)}function L(){}function we(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(L,L):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function pe(H,le,he,fe,Ie){var He=typeof H;(He==="undefined"||He==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(He){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case t:case e:Ce=!0;break;case y:return Ce=H._init,pe(Ce(H._payload),le,he,fe,Ie)}}if(Ce)return Ie=Ie(H),Ce=fe===""?"."+z(H,0):fe,k(Ie)?(he="",Ce!=null&&(he=Ce.replace(B,"$&/")+"/"),pe(Ie,le,he,"",function(jt){return jt})):Ie!=null&&(O(Ie)&&(Ie=j(Ie,he+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(B,"$&/")+"/")+Ce)),le.push(Ie)),1;Ce=0;var Ee=fe===""?".":fe+":";if(k(H))for(var Me=0;Me<H.length;Me++)fe=H[Me],He=Ee+z(fe,Me),Ce+=pe(fe,le,he,He,Ie);else if(Me=b(H),typeof Me=="function")for(H=Me.call(H),Me=0;!(fe=H.next()).done;)fe=fe.value,He=Ee+z(fe,Me++),Ce+=pe(fe,le,he,He,Ie);else if(He==="object"){if(typeof H.then=="function")return pe(we(H),le,he,fe,Ie);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function K(H,le,he){if(H==null)return H;var fe=[],Ie=0;return pe(H,fe,"","",function(He){return le.call(he,He,Ie++)}),fe}function Z(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var re=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ve(){}return Ye.Children={map:K,forEach:function(H,le,he){K(H,function(){le.apply(this,arguments)},he)},count:function(H){var le=0;return K(H,function(){le++}),le},toArray:function(H){return K(H,function(le){return le})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ye.Component=N,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=I,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cloneElement=function(H,le,he){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=S({},H.props),Ie=H.key,He=void 0;if(le!=null)for(Ce in le.ref!==void 0&&(He=void 0),le.key!==void 0&&(Ie=""+le.key),le)!W.call(le,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&le.ref===void 0||(fe[Ce]=le[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=he;else if(1<Ce){for(var Ee=Array(Ce),Me=0;Me<Ce;Me++)Ee[Me]=arguments[Me+2];fe.children=Ee}return V(H.type,Ie,void 0,void 0,He,fe)},Ye.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ye.createElement=function(H,le,he){var fe,Ie={},He=null;if(le!=null)for(fe in le.key!==void 0&&(He=""+le.key),le)W.call(le,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ie[fe]=le[fe]);var Ce=arguments.length-2;if(Ce===1)Ie.children=he;else if(1<Ce){for(var Ee=Array(Ce),Me=0;Me<Ce;Me++)Ee[Me]=arguments[Me+2];Ie.children=Ee}if(H&&H.defaultProps)for(fe in Ce=H.defaultProps,Ce)Ie[fe]===void 0&&(Ie[fe]=Ce[fe]);return V(H,He,void 0,void 0,null,Ie)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:d,render:H}},Ye.isValidElement=O,Ye.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:Z}},Ye.memo=function(H,le){return{$$typeof:m,type:H,compare:le===void 0?null:le}},Ye.startTransition=function(H){var le=F.T,he={};F.T=he;try{var fe=H(),Ie=F.S;Ie!==null&&Ie(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ve,re)}catch(He){re(He)}finally{F.T=le}},Ye.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ye.use=function(H){return F.H.use(H)},Ye.useActionState=function(H,le,he){return F.H.useActionState(H,le,he)},Ye.useCallback=function(H,le){return F.H.useCallback(H,le)},Ye.useContext=function(H){return F.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,le){return F.H.useDeferredValue(H,le)},Ye.useEffect=function(H,le,he){var fe=F.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(H,le)},Ye.useId=function(){return F.H.useId()},Ye.useImperativeHandle=function(H,le,he){return F.H.useImperativeHandle(H,le,he)},Ye.useInsertionEffect=function(H,le){return F.H.useInsertionEffect(H,le)},Ye.useLayoutEffect=function(H,le){return F.H.useLayoutEffect(H,le)},Ye.useMemo=function(H,le){return F.H.useMemo(H,le)},Ye.useOptimistic=function(H,le){return F.H.useOptimistic(H,le)},Ye.useReducer=function(H,le,he){return F.H.useReducer(H,le,he)},Ye.useRef=function(H){return F.H.useRef(H)},Ye.useState=function(H){return F.H.useState(H)},Ye.useSyncExternalStore=function(H,le,he){return F.H.useSyncExternalStore(H,le,he)},Ye.useTransition=function(){return F.H.useTransition()},Ye.version="19.1.0",Ye}var mw;function ip(){return mw||(mw=1,By.exports=tI()),By.exports}var E=ip();const Oe=Z5(E),M0=X5({__proto__:null,default:Oe},[E]);var zy={exports:{}},zu={},Hy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function nI(){return pw||(pw=1,function(t){function e(K,Z){var re=K.length;K.push(Z);e:for(;0<re;){var ve=re-1>>>1,H=K[ve];if(0<i(H,Z))K[ve]=Z,K[re]=H,re=ve;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],re=K.pop();if(re!==Z){K[0]=re;e:for(var ve=0,H=K.length,le=H>>>1;ve<le;){var he=2*(ve+1)-1,fe=K[he],Ie=he+1,He=K[Ie];if(0>i(fe,re))Ie<H&&0>i(He,fe)?(K[ve]=He,K[Ie]=re,ve=Ie):(K[ve]=fe,K[he]=re,ve=he);else if(Ie<H&&0>i(He,re))K[ve]=He,K[Ie]=re,ve=Ie;else break e}}return Z}function i(K,Z){var re=K.sortIndex-Z.sortIndex;return re!==0?re:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],y=1,x=null,b=3,w=!1,S=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var Z=n(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=K)r(m),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(m)}}function F(K){if(C=!1,k(K),!S)if(n(f)!==null)S=!0,W||(W=!0,z());else{var Z=n(m);Z!==null&&pe(F,Z.startTime-K)}}var W=!1,V=-1,j=5,O=-1;function U(){return N?!0:!(t.unstable_now()-O<j)}function B(){if(N=!1,W){var K=t.unstable_now();O=K;var Z=!0;try{e:{S=!1,C&&(C=!1,I(V),V=-1),w=!0;var re=b;try{t:{for(k(K),x=n(f);x!==null&&!(x.expirationTime>K&&U());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,b=x.priorityLevel;var H=ve(x.expirationTime<=K);if(K=t.unstable_now(),typeof H=="function"){x.callback=H,k(K),Z=!0;break t}x===n(f)&&r(f),k(K)}else r(f);x=n(f)}if(x!==null)Z=!0;else{var le=n(m);le!==null&&pe(F,le.startTime-K),Z=!1}}break e}finally{x=null,b=re,w=!1}Z=void 0}}finally{Z?z():W=!1}}}var z;if(typeof R=="function")z=function(){R(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,we=L.port2;L.port1.onmessage=B,z=function(){we.postMessage(null)}}else z=function(){M(B,0)};function pe(K,Z){V=M(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var re=b;b=Z;try{return K()}finally{b=re}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=b;b=K;try{return Z()}finally{b=re}},t.unstable_scheduleCallback=function(K,Z,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,K={id:y++,callback:Z,priorityLevel:K,startTime:re,expirationTime:H,sortIndex:-1},re>ve?(K.sortIndex=re,e(m,K),n(f)===null&&K===n(m)&&(C?(I(V),V=-1):C=!0,pe(F,re-ve))):(K.sortIndex=H,e(f,K),S||w||(S=!0,W||(W=!0,z()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var Z=b;return function(){var re=b;b=Z;try{return K.apply(this,arguments)}finally{b=re}}}}($y)),$y}var gw;function rI(){return gw||(gw=1,Hy.exports=nI()),Hy.exports}var qy={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function sI(){if(yw)return jn;yw=1;var t=ip();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},jn.flushSync=function(f){var m=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=y,r.d.f()}},jn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},jn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},jn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,x=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},jn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=d(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},jn.requestFormReset=function(f){r.d.r(f)},jn.unstable_batchedUpdates=function(f,m){return f(m)},jn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},jn.version="19.1.0",jn}var vw;function _S(){if(vw)return qy.exports;vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qy.exports=sI(),qy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function iI(){if(xw)return zu;xw=1;var t=rI(),e=ip(),n=_S();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),s;if(v===u)return d(g),a;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var A=!1,D=g.child;D;){if(D===l){A=!0,l=g,u=v;break}if(D===u){A=!0,u=g,l=v;break}D=D.sibling}if(!A){for(D=v.child;D;){if(D===l){A=!0,l=v,u=g;break}if(D===u){A=!0,u=v,l=g;break}D=D.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case R:return(s.displayName||"Context")+".Provider";case I:return(s._context.displayName||"Context")+".Consumer";case k:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:we(s.type)||"Memo";case j:a=s._payload,s=s._init;try{return we(s(a))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],H=-1;function le(s){return{current:s}}function he(s){0>H||(s.current=ve[H],ve[H]=null,H--)}function fe(s,a){H++,ve[H]=s.current,s.current=a}var Ie=le(null),He=le(null),Ce=le(null),Ee=le(null);function Me(s,a){switch(fe(Ce,a),fe(He,s),fe(Ie,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?U_(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=U_(a),s=F_(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}he(Ie),fe(Ie,s)}function jt(){he(Ie),he(He),he(Ce)}function Kt(s){s.memoizedState!==null&&fe(Ee,s);var a=Ie.current,l=F_(a,s.type);a!==l&&(fe(He,s),fe(Ie,l))}function Jn(s){He.current===s&&(he(Ie),he(He)),Ee.current===s&&(he(Ee),Ou._currentValue=re)}var cr=Object.prototype.hasOwnProperty,wr=t.unstable_scheduleCallback,ur=t.unstable_cancelCallback,Qr=t.unstable_shouldYield,ni=t.unstable_requestPaint,bn=t.unstable_now,Ya=t.unstable_getCurrentPriorityLevel,Xr=t.unstable_ImmediatePriority,q=t.unstable_UserBlockingPriority,ee=t.unstable_NormalPriority,ie=t.unstable_LowPriority,_e=t.unstable_IdlePriority,ge=t.log,me=t.unstable_setDisableYieldValue,be=null,Re=null;function Ge(s){if(typeof ge=="function"&&me(s),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(be,s)}catch{}}var ct=Math.clz32?Math.clz32:Tr,Er=Math.log,zn=Math.LN2;function Tr(s){return s>>>=0,s===0?32:31-(Er(s)/zn|0)|0}var er=256,tr=4194304;function In(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Sr(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,v=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var D=u&134217727;return D!==0?(u=D&~v,u!==0?g=In(u):(A&=D,A!==0?g=In(A):l||(l=D&~s,l!==0&&(g=In(l))))):(D=u&~v,D!==0?g=In(D):A!==0?g=In(A):l||(l=u&~s,l!==0&&(g=In(l)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:g}function Ar(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Zr(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var s=er;return er<<=1,(er&4194048)===0&&(er=256),s}function qi(){var s=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),s}function Rr(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Cr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Gi(s,a,l,u,g,v){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var D=s.entanglements,$=s.expirationTimes,J=s.hiddenUpdates;for(l=A&~l;0<l;){var ae=31-ct(l),ce=1<<ae;D[ae]=0,$[ae]=-1;var te=J[ae];if(te!==null)for(J[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}l&=~ce}u!==0&&xe(s,u,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(A&~a))}function xe(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-ct(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function ze(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-ct(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function dt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function lt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yt(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:iw(s.type))}function tn(s,a){var l=Z.p;try{return Z.p=s,a()}finally{Z.p=l}}var Ke=Math.random().toString(36).slice(2),et="__reactFiber$"+Ke,rt="__reactProps$"+Ke,Nr="__reactContainer$"+Ke,Bc="__reactEvents$"+Ke,Hp="__reactListeners$"+Ke,Ki="__reactHandles$"+Ke,vf="__reactResources$"+Ke,Wa="__reactMarker$"+Ke;function Yi(s){delete s[et],delete s[rt],delete s[Bc],delete s[Hp],delete s[Ki]}function ri(s){var a=s[et];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Nr]||l[et]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=$_(s);s!==null;){if(l=s[et])return l;s=$_(s)}return a}s=l,l=s.parentNode}return null}function ys(s){if(s=s[et]||s[Nr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function vs(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Hn(s){var a=s[vf];return a||(a=s[vf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(s){s[Wa]=!0}var zc=new Set,Xo={};function Jr(s,a){si(s,a),si(s+"Capture",a)}function si(s,a){for(Xo[s]=a,s=0;s<a.length;s++)zc.add(a[s])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bf={},Qa={};function _f(s){return cr.call(Qa,s)?!0:cr.call(bf,s)?!1:xf.test(s)?Qa[s]=!0:(bf[s]=!0,!1)}function Wi(s,a,l){if(_f(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function xs(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function _n(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Xa,wf;function ii(s){if(Xa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Xa=a&&a[1]||"",wf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+s+wf}var Zo=!1;function Jo(s,a){if(!s||Zo)return"";Zo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){te=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),A=v[0],D=v[1];if(A&&D){var $=A.split(`
`),J=D.split(`
`);for(g=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(u===$.length||g===J.length)for(u=$.length-1,g=J.length-1;1<=u&&0<=g&&$[u]!==J[g];)g--;for(;1<=u&&0<=g;u--,g--)if($[u]!==J[g]){if(u!==1||g!==1)do if(u--,g--,0>g||$[u]!==J[g]){var ae=`
`+$[u].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=u&&0<=g);break}}}finally{Zo=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ii(l):""}function Hc(s){switch(s.tag){case 26:case 27:case 5:return ii(s.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Jo(s.type,!1);case 11:return Jo(s.type.render,!1);case 1:return Jo(s.type,!0);case 31:return ii("Activity");default:return""}}function el(s){try{var a="";do a+=Hc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function $n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $c(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $p(s){var a=$c(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function tl(s){s._valueTracker||(s._valueTracker=$p(s))}function qc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=$c(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Za(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qp=/[\n"\\]/g;function Yt(s){return s.replace(qp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function dr(s,a,l,u,g,v,A,D){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+$n(a)):s.value!==""+$n(a)&&(s.value=""+$n(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Qi(s,A,$n(a)):l!=null?Qi(s,A,$n(l)):u!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+$n(D):s.removeAttribute("name")}function Ja(s,a,l,u,g,v,A,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;l=l!=null?""+$n(l):"",a=a!=null?""+$n(a):l,D||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=D?s.checked:!!u,s.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Qi(s,a,l){a==="number"&&Za(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ai(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+$n(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function vt(s,a,l){if(a!=null&&(a=""+$n(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+$n(l):""}function eo(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(pe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=$n(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Ir(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ef(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||to.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Gc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Ef(s,g,u)}else for(var v in a)a.hasOwnProperty(v)&&Ef(s,v,a[v])}function Kc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(s){return Kp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var oi=null;function Dr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,ci=null;function Yc(s){var a=ys(s);if(a&&(s=a.stateNode)){var l=s[rt]||null;e:switch(s=a.stateNode,a.type){case"input":if(dr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[rt]||null;if(!g)throw Error(r(90));dr(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&qc(u)}break e;case"textarea":vt(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ai(s,!!l.multiple,a,!1)}}}var bs=!1;function Tf(s,a,l){if(bs)return s(a,l);bs=!0;try{var u=s(a);return u}finally{if(bs=!1,(li!==null||ci!==null)&&(yh(),li&&(a=li,s=ci,ci=li=null,Yc(a),s)))for(a=0;a<s.length;a++)Yc(s[a])}}function no(s,a){var l=s.stateNode;if(l===null)return null;var u=l[rt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(es)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{jr=!1}var _s=null,Xi=null,ui=null;function Wc(){if(ui)return ui;var s,a=Xi,l=a.length,u,g="value"in _s?_s.value:_s.textContent,v=g.length;for(s=0;s<l&&a[s]===g[s];s++);var A=l-s;for(u=1;u<=A&&a[l-u]===g[v-u];u++);return ui=g.slice(s,1<u?1-u:void 0)}function ws(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Es(){return!0}function Qc(){return!1}function dn(s){function a(l,u,g,v,A){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Es:Qc,this.isPropagationStopped=Qc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),a}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=dn(ht),so=y({},ht,{view:0,detail:0}),Sf=dn(so),sl,il,Ts,io=y({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ts&&(Ts&&s.type==="mousemove"?(sl=s.screenX-Ts.screenX,il=s.screenY-Ts.screenY):il=sl=0,Ts=s),sl)},movementY:function(s){return"movementY"in s?s.movementY:il}}),Mr=dn(io),Af=y({},io,{dataTransfer:0}),Yp=dn(Af),ao=y({},so,{relatedTarget:0}),al=dn(ao),Xc=y({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=dn(Xc),Rf=y({},ht,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ll=dn(Rf),Wp=y({},ht,{data:0}),Zc=dn(Wp),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nf[s])?!!a[s]:!1}function lo(){return Jc}var If=y({},so,{key:function(s){if(s.key){var a=oo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ws(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(s){return s.type==="keypress"?ws(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ws(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cl=dn(If),Df=y({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=dn(Df),di=y({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),jf=dn(di),Mf=y({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=dn(Mf),kf=y({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ul=dn(kf),qn=y({},ht,{newState:0,oldState:0}),Of=dn(qn),Vf=[9,13,27,32],Ss=es&&"CompositionEvent"in window,p=null;es&&"documentMode"in document&&(p=document.documentMode);var _=es&&"TextEvent"in window&&!p,T=es&&(!Ss||p&&8<p&&11>=p),P=" ",Q=!1;function se(s,a){switch(s){case"keyup":return Vf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var st=!1;function nn(s,a){switch(s){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(Q=!0,P);case"textInput":return s=a.data,s===P&&Q?null:s;default:return null}}function it(s,a){if(st)return s==="compositionend"||!Ss&&se(s,a)?(s=Wc(),ui=Xi=_s=null,st=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!fn[s.type]:a==="textarea"}function fi(s,a,l,u){li?ci?ci.push(u):ci=[u]:li=u,a=Eh(a,"onChange"),0<a.length&&(l=new rl("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var wn=null,As=null;function tu(s){P_(s,0)}function Lf(s){var a=vs(s);if(qc(a))return s}function tb(s,a){if(s==="change")return a}var nb=!1;if(es){var Qp;if(es){var Xp="oninput"in document;if(!Xp){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),Xp=typeof rb.oninput=="function"}Qp=Xp}else Qp=!1;nb=Qp&&(!document.documentMode||9<document.documentMode)}function sb(){wn&&(wn.detachEvent("onpropertychange",ib),As=wn=null)}function ib(s){if(s.propertyName==="value"&&Lf(As)){var a=[];fi(a,As,s,Dr(s)),Tf(tu,a)}}function R6(s,a,l){s==="focusin"?(sb(),wn=a,As=l,wn.attachEvent("onpropertychange",ib)):s==="focusout"&&sb()}function C6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lf(As)}function N6(s,a){if(s==="click")return Lf(a)}function I6(s,a){if(s==="input"||s==="change")return Lf(a)}function D6(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fr=typeof Object.is=="function"?Object.is:D6;function nu(s,a){if(fr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!cr.call(a,g)||!fr(s[g],a[g]))return!1}return!0}function ab(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ob(s,a){var l=ab(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ab(l)}}function lb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?lb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function cb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Za(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Za(s.document)}return a}function Zp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var j6=es&&"documentMode"in document&&11>=document.documentMode,dl=null,Jp=null,ru=null,eg=!1;function ub(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eg||dl==null||dl!==Za(u)||(u=dl,"selectionStart"in u&&Zp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ru&&nu(ru,u)||(ru=u,u=Eh(Jp,"onSelect"),0<u.length&&(a=new rl("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=dl)))}function co(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var fl={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionrun:co("Transition","TransitionRun"),transitionstart:co("Transition","TransitionStart"),transitioncancel:co("Transition","TransitionCancel"),transitionend:co("Transition","TransitionEnd")},tg={},db={};es&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function uo(s){if(tg[s])return tg[s];if(!fl[s])return s;var a=fl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in db)return tg[s]=a[l];return s}var fb=uo("animationend"),hb=uo("animationiteration"),mb=uo("animationstart"),M6=uo("transitionrun"),P6=uo("transitionstart"),k6=uo("transitioncancel"),pb=uo("transitionend"),gb=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ng.push("scrollEnd");function ts(s,a){gb.set(s,a),Jr(a,[s])}var yb=new WeakMap;function Pr(s,a){if(typeof s=="object"&&s!==null){var l=yb.get(s);return l!==void 0?l:(a={value:s,source:a,stack:el(a)},yb.set(s,a),a)}return{value:s,source:a,stack:el(a)}}var kr=[],hl=0,rg=0;function Uf(){for(var s=hl,a=rg=hl=0;a<s;){var l=kr[a];kr[a++]=null;var u=kr[a];kr[a++]=null;var g=kr[a];kr[a++]=null;var v=kr[a];if(kr[a++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}v!==0&&vb(l,g,v)}}function Ff(s,a,l,u){kr[hl++]=s,kr[hl++]=a,kr[hl++]=l,kr[hl++]=u,rg|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function sg(s,a,l,u){return Ff(s,a,l,u),Bf(s)}function ml(s,a){return Ff(s,null,null,a),Bf(s)}function vb(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&a!==null&&(g=31-ct(l),s=v.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),v):null}function Bf(s){if(50<Cu)throw Cu=0,uy=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var pl={};function O6(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,a,l,u){return new O6(s,a,l,u)}function ig(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hi(s,a){var l=s.alternate;return l===null?(l=hr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function xb(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function zf(s,a,l,u,g,v){var A=0;if(u=s,typeof s=="function")ig(s)&&(A=1);else if(typeof s=="string")A=L5(s,l,Ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=hr(31,l,a,g),s.elementType=O,s.lanes=v,s;case S:return fo(l.children,g,v,a);case C:A=8,g|=24;break;case N:return s=hr(12,l,a,g|2),s.elementType=N,s.lanes=v,s;case F:return s=hr(13,l,a,g),s.elementType=F,s.lanes=v,s;case W:return s=hr(19,l,a,g),s.elementType=W,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case R:A=10;break e;case I:A=9;break e;case k:A=11;break e;case V:A=14;break e;case j:A=16,u=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return a=hr(A,l,a,g),a.elementType=s,a.type=u,a.lanes=v,a}function fo(s,a,l,u){return s=hr(7,s,u,a),s.lanes=l,s}function ag(s,a,l){return s=hr(6,s,null,a),s.lanes=l,s}function og(s,a,l){return a=hr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var gl=[],yl=0,Hf=null,$f=0,Or=[],Vr=0,ho=null,mi=1,pi="";function mo(s,a){gl[yl++]=$f,gl[yl++]=Hf,Hf=s,$f=a}function bb(s,a,l){Or[Vr++]=mi,Or[Vr++]=pi,Or[Vr++]=ho,ho=s;var u=mi;s=pi;var g=32-ct(u)-1;u&=~(1<<g),l+=1;var v=32-ct(a)+g;if(30<v){var A=g-g%5;v=(u&(1<<A)-1).toString(32),u>>=A,g-=A,mi=1<<32-ct(a)+g|l<<g|u,pi=v+s}else mi=1<<v|l<<g|u,pi=s}function lg(s){s.return!==null&&(mo(s,1),bb(s,1,0))}function cg(s){for(;s===Hf;)Hf=gl[--yl],gl[yl]=null,$f=gl[--yl],gl[yl]=null;for(;s===ho;)ho=Or[--Vr],Or[Vr]=null,pi=Or[--Vr],Or[Vr]=null,mi=Or[--Vr],Or[Vr]=null}var Gn=null,Lt=null,ft=!1,po=null,Rs=!1,ug=Error(r(519));function go(s){var a=Error(r(418,""));throw au(Pr(a,s)),ug}function _b(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[et]=s,a[rt]=u,l){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(l=0;l<Iu.length;l++)Je(Iu[l],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),Ja(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),tl(a);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),eo(a,u.value,u.defaultValue,u.children),tl(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||L_(a.textContent,l)?(u.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),u.onScroll!=null&&Je("scroll",a),u.onScrollEnd!=null&&Je("scrollend",a),u.onClick!=null&&(a.onclick=Th),a=!0):a=!1,a||go(s)}function wb(s){for(Gn=s.return;Gn;)switch(Gn.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:Gn=Gn.return}}function su(s){if(s!==Gn)return!1;if(!ft)return wb(s),ft=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ay(s.type,s.memoizedProps)),l=!l),l&&Lt&&go(s),wb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Lt=rs(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Lt=null}}else a===27?(a=Lt,ha(s.type)?(s=Iy,Iy=null,Lt=s):Lt=a):Lt=Gn?rs(s.stateNode.nextSibling):null;return!0}function iu(){Lt=Gn=null,ft=!1}function Eb(){var s=po;return s!==null&&(sr===null?sr=s:sr.push.apply(sr,s),po=null),s}function au(s){po===null?po=[s]:po.push(s)}var dg=le(null),yo=null,gi=null;function Zi(s,a,l){fe(dg,a._currentValue),a._currentValue=l}function yi(s){s._currentValue=dg.current,he(dg)}function fg(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function hg(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=g;for(var $=0;$<a.length;$++)if(D.context===a[$]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),fg(v.return,l,s),u||(A=null);break e}v=D.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),fg(A,l,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function ou(s,a,l,u){s=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=g.type;fr(g.pendingProps.value,A.value)||(s!==null?s.push(D):s=[D])}}else if(g===Ee.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Ou):s=[Ou])}g=g.return}s!==null&&hg(a,s,l,u),a.flags|=262144}function qf(s){for(s=s.firstContext;s!==null;){if(!fr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vo(s){yo=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Dn(s){return Tb(yo,s)}function Gf(s,a){return yo===null&&vo(s),Tb(s,a)}function Tb(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},gi===null){if(s===null)throw Error(r(308));gi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else gi=gi.next=a;return l}var V6=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},L6=t.unstable_scheduleCallback,U6=t.unstable_NormalPriority,sn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mg(){return{controller:new V6,data:new Map,refCount:0}}function lu(s){s.refCount--,s.refCount===0&&L6(U6,function(){s.controller.abort()})}var cu=null,pg=0,vl=0,xl=null;function F6(s,a){if(cu===null){var l=cu=[];pg=0,vl=yy(),xl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return pg++,a.then(Sb,Sb),a}function Sb(){if(--pg===0&&cu!==null){xl!==null&&(xl.status="fulfilled");var s=cu;cu=null,vl=0,xl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function B6(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Ab=K.S;K.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&F6(s,a),Ab!==null&&Ab(s,a)};var xo=le(null);function gg(){var s=xo.current;return s!==null?s:At.pooledCache}function Kf(s,a){a===null?fe(xo,xo.current):fe(xo,a.pool)}function Rb(){var s=gg();return s===null?null:{parent:sn._currentValue,pool:s}}var uu=Error(r(460)),Cb=Error(r(474)),Yf=Error(r(542)),yg={then:function(){}};function Nb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wf(){}function Ib(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Wf,Wf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,jb(s),s;default:if(typeof a.status=="string")a.then(Wf,Wf);else{if(s=At,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,jb(s),s}throw du=a,uu}}var du=null;function Db(){if(du===null)throw Error(r(459));var s=du;return du=null,s}function jb(s){if(s===uu||s===Yf)throw Error(r(483))}var Ji=!1;function vg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ta(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Bf(s),vb(s,null,l),a}return Ff(s,u,a,l),Bf(s)}function fu(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ze(s,l)}}function bg(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?g=v=a:v=v.next=a}else g=v=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var _g=!1;function hu(){if(_g){var s=xl;if(s!==null)throw s}}function mu(s,a,l,u){_g=!1;var g=s.updateQueue;Ji=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var $=D,J=$.next;$.next=null,A===null?v=J:A.next=J,A=$;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==A&&(D===null?ae.firstBaseUpdate=J:D.next=J,ae.lastBaseUpdate=$))}if(v!==null){var ce=g.baseState;A=0,ae=J=$=null,D=v;do{var te=D.lane&-536870913,ne=te!==D.lane;if(ne?(at&te)===te:(u&te)===te){te!==0&&te===vl&&(_g=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Fe=s,ke=D;te=a;var _t=l;switch(ke.tag){case 1:if(Fe=ke.payload,typeof Fe=="function"){ce=Fe.call(_t,ce,te);break e}ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ke.payload,te=typeof Fe=="function"?Fe.call(_t,ce,te):Fe,te==null)break e;ce=y({},ce,te);break e;case 2:Ji=!0}}te=D.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(J=ae=ne,$=ce):ae=ae.next=ne,A|=te;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);ae===null&&($=ce),g.baseState=$,g.firstBaseUpdate=J,g.lastBaseUpdate=ae,v===null&&(g.shared.lanes=0),ca|=A,s.lanes=A,s.memoizedState=ce}}function Mb(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Pb(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Mb(l[s],a)}var bl=le(null),Qf=le(0);function kb(s,a){s=Ti,fe(Qf,s),fe(bl,a),Ti=s|a.baseLanes}function wg(){fe(Qf,Ti),fe(bl,bl.current)}function Eg(){Ti=Qf.current,he(bl),he(Qf)}var na=0,We=null,xt=null,Wt=null,Xf=!1,_l=!1,bo=!1,Zf=0,pu=0,wl=null,z6=0;function zt(){throw Error(r(321))}function Tg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!fr(s[l],a[l]))return!1;return!0}function Sg(s,a,l,u,g,v){return na=v,We=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=s===null||s.memoizedState===null?v2:x2,bo=!1,v=l(u,g),bo=!1,_l&&(v=Vb(a,l,u,g)),Ob(s),v}function Ob(s){K.H=sh;var a=xt!==null&&xt.next!==null;if(na=0,Wt=xt=We=null,Xf=!1,pu=0,wl=null,a)throw Error(r(300));s===null||hn||(s=s.dependencies,s!==null&&qf(s)&&(hn=!0))}function Vb(s,a,l,u){We=s;var g=0;do{if(_l&&(wl=null),pu=0,_l=!1,25<=g)throw Error(r(301));if(g+=1,Wt=xt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=W6,v=a(l,u)}while(_l);return v}function H6(){var s=K.H,a=s.useState()[0];return a=typeof a.then=="function"?gu(a):a,s=s.useState()[0],(xt!==null?xt.memoizedState:null)!==s&&(We.flags|=1024),a}function Ag(){var s=Zf!==0;return Zf=0,s}function Rg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Cg(s){if(Xf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Xf=!1}na=0,Wt=xt=We=null,_l=!1,pu=Zf=0,wl=null}function nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?We.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function Qt(){if(xt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var a=Wt===null?We.memoizedState:Wt.next;if(a!==null)Wt=a,xt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Wt===null?We.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function Ng(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(s){var a=pu;return pu+=1,wl===null&&(wl=[]),s=Ib(wl,s,a),a=We,(Wt===null?a.memoizedState:Wt.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?v2:x2),s}function Jf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gu(s);if(s.$$typeof===R)return Dn(s)}throw Error(r(438,String(s)))}function Ig(s){var a=null,l=We.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ng(),We.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=U;return a.index++,l}function vi(s,a){return typeof a=="function"?a(s):a}function eh(s){var a=Qt();return Dg(a,xt,s)}function Dg(s,a,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=s.baseQueue,v=u.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}a.baseQueue=g=v,u.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{a=g.next;var D=A=null,$=null,J=a,ae=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(at&ce)===ce:(na&ce)===ce){var te=J.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===vl&&(ae=!0);else if((na&te)===te){J=J.next,te===vl&&(ae=!0);continue}else ce={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(D=$=ce,A=v):$=$.next=ce,We.lanes|=te,ca|=te;ce=J.action,bo&&l(v,ce),v=J.hasEagerState?J.eagerState:l(v,ce)}else te={lane:ce,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(D=$=te,A=v):$=$.next=te,We.lanes|=ce,ca|=ce;J=J.next}while(J!==null&&J!==a);if($===null?A=v:$.next=D,!fr(v,s.memoizedState)&&(hn=!0,ae&&(l=xl,l!==null)))throw l;s.memoizedState=v,s.baseState=A,s.baseQueue=$,u.lastRenderedState=v}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function jg(s){var a=Qt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,v=a.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do v=s(v,A.action),A=A.next;while(A!==g);fr(v,a.memoizedState)||(hn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,u]}function Lb(s,a,l){var u=We,g=Qt(),v=ft;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!fr((xt||g).memoizedState,l);A&&(g.memoizedState=l,hn=!0),g=g.queue;var D=Bb.bind(null,u,g,s);if(yu(2048,8,D,[s]),g.getSnapshot!==a||A||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,El(9,th(),Fb.bind(null,u,g,l,a),null),At===null)throw Error(r(349));v||(na&124)!==0||Ub(u,a,l)}return l}function Ub(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=We.updateQueue,a===null?(a=Ng(),We.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Fb(s,a,l,u){a.value=l,a.getSnapshot=u,zb(a)&&Hb(s)}function Bb(s,a,l){return l(function(){zb(a)&&Hb(s)})}function zb(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!fr(s,l)}catch{return!0}}function Hb(s){var a=ml(s,2);a!==null&&vr(a,s,2)}function Mg(s){var a=nr();if(typeof s=="function"){var l=s;if(s=l(),bo){Ge(!0);try{l()}finally{Ge(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},a}function $b(s,a,l,u){return s.baseState=l,Dg(s,xt,typeof u=="function"?u:vi)}function $6(s,a,l,u,g){if(rh(s))throw Error(r(485));if(s=a.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};K.T!==null?l(!0):v.isTransition=!1,u(v),l=a.pending,l===null?(v.next=a.pending=v,qb(a,v)):(v.next=l.next,a.pending=l.next=v)}}function qb(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var v=K.T,A={};K.T=A;try{var D=l(g,u),$=K.S;$!==null&&$(A,D),Gb(s,a,D)}catch(J){Pg(s,a,J)}finally{K.T=v}}else try{v=l(g,u),Gb(s,a,v)}catch(J){Pg(s,a,J)}}function Gb(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Kb(s,a,u)},function(u){return Pg(s,a,u)}):Kb(s,a,l)}function Kb(s,a,l){a.status="fulfilled",a.value=l,Yb(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,qb(s,l)))}function Pg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Yb(a),a=a.next;while(a!==u)}s.action=null}function Yb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Wb(s,a){return a}function Qb(s,a){if(ft){var l=At.formState;if(l!==null){e:{var u=We;if(ft){if(Lt){t:{for(var g=Lt,v=Rs;g.nodeType!==8;){if(!v){g=null;break t}if(g=rs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Lt=rs(g.nextSibling),u=g.data==="F!";break e}}go(u)}u=!1}u&&(a=l[0])}}return l=nr(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wb,lastRenderedState:a},l.queue=u,l=p2.bind(null,We,u),u.dispatch=l,u=Mg(!1),v=Ug.bind(null,We,!1,u.queue),u=nr(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=$6.bind(null,We,g,v,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function Xb(s){var a=Qt();return Zb(a,xt,s)}function Zb(s,a,l){if(a=Dg(s,a,Wb)[0],s=eh(vi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=gu(a)}catch(A){throw A===uu?Yf:A}else u=a;a=Qt();var g=a.queue,v=g.dispatch;return l!==a.memoizedState&&(We.flags|=2048,El(9,th(),q6.bind(null,g,l),null)),[u,v,s]}function q6(s,a){s.action=a}function Jb(s){var a=Qt(),l=xt;if(l!==null)return Zb(a,l,s);Qt(),a=a.memoizedState,l=Qt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function El(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=We.updateQueue,a===null&&(a=Ng(),We.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function th(){return{destroy:void 0,resource:void 0}}function e2(){return Qt().memoizedState}function nh(s,a,l,u){var g=nr();u=u===void 0?null:u,We.flags|=s,g.memoizedState=El(1|a,th(),l,u)}function yu(s,a,l,u){var g=Qt();u=u===void 0?null:u;var v=g.memoizedState.inst;xt!==null&&u!==null&&Tg(u,xt.memoizedState.deps)?g.memoizedState=El(a,v,l,u):(We.flags|=s,g.memoizedState=El(1|a,v,l,u))}function t2(s,a){nh(8390656,8,s,a)}function n2(s,a){yu(2048,8,s,a)}function r2(s,a){return yu(4,2,s,a)}function s2(s,a){return yu(4,4,s,a)}function i2(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function a2(s,a,l){l=l!=null?l.concat([s]):null,yu(4,4,i2.bind(null,a,s),l)}function kg(){}function o2(s,a){var l=Qt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Tg(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function l2(s,a){var l=Qt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Tg(a,u[1]))return u[0];if(u=s(),bo){Ge(!0);try{s()}finally{Ge(!1)}}return l.memoizedState=[u,a],u}function Og(s,a,l){return l===void 0||(na&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=d_(),We.lanes|=s,ca|=s,l)}function c2(s,a,l,u){return fr(l,a)?l:bl.current!==null?(s=Og(s,l,u),fr(s,a)||(hn=!0),s):(na&42)===0?(hn=!0,s.memoizedState=l):(s=d_(),We.lanes|=s,ca|=s,a)}function u2(s,a,l,u,g){var v=Z.p;Z.p=v!==0&&8>v?v:8;var A=K.T,D={};K.T=D,Ug(s,!1,a,l);try{var $=g(),J=K.S;if(J!==null&&J(D,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=B6($,u);vu(s,a,ae,yr(s))}else vu(s,a,u,yr(s))}catch(ce){vu(s,a,{then:function(){},status:"rejected",reason:ce},yr())}finally{Z.p=v,K.T=A}}function G6(){}function Vg(s,a,l,u){if(s.tag!==5)throw Error(r(476));var g=d2(s).queue;u2(s,g,a,re,l===null?G6:function(){return f2(s),l(u)})}function d2(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function f2(s){var a=d2(s).next.queue;vu(s,a,{},yr())}function Lg(){return Dn(Ou)}function h2(){return Qt().memoizedState}function m2(){return Qt().memoizedState}function K6(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=yr();s=ea(l);var u=ta(a,s,l);u!==null&&(vr(u,a,l),fu(u,a,l)),a={cache:mg()},s.payload=a;return}a=a.return}}function Y6(s,a,l){var u=yr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rh(s)?g2(a,l):(l=sg(s,a,l,u),l!==null&&(vr(l,s,u),y2(l,a,u)))}function p2(s,a,l){var u=yr();vu(s,a,l,u)}function vu(s,a,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rh(s))g2(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var A=a.lastRenderedState,D=v(A,l);if(g.hasEagerState=!0,g.eagerState=D,fr(D,A))return Ff(s,a,g,0),At===null&&Uf(),!1}catch{}finally{}if(l=sg(s,a,g,u),l!==null)return vr(l,s,u),y2(l,a,u),!0}return!1}function Ug(s,a,l,u){if(u={lane:2,revertLane:yy(),action:u,hasEagerState:!1,eagerState:null,next:null},rh(s)){if(a)throw Error(r(479))}else a=sg(s,l,u,2),a!==null&&vr(a,s,2)}function rh(s){var a=s.alternate;return s===We||a!==null&&a===We}function g2(s,a){_l=Xf=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function y2(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ze(s,l)}}var sh={readContext:Dn,use:Jf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},v2={readContext:Dn,use:Jf,useCallback:function(s,a){return nr().memoizedState=[s,a===void 0?null:a],s},useContext:Dn,useEffect:t2,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,nh(4194308,4,i2.bind(null,a,s),l)},useLayoutEffect:function(s,a){return nh(4194308,4,s,a)},useInsertionEffect:function(s,a){nh(4,2,s,a)},useMemo:function(s,a){var l=nr();a=a===void 0?null:a;var u=s();if(bo){Ge(!0);try{s()}finally{Ge(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=nr();if(l!==void 0){var g=l(a);if(bo){Ge(!0);try{l(a)}finally{Ge(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Y6.bind(null,We,s),[u.memoizedState,s]},useRef:function(s){var a=nr();return s={current:s},a.memoizedState=s},useState:function(s){s=Mg(s);var a=s.queue,l=p2.bind(null,We,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:kg,useDeferredValue:function(s,a){var l=nr();return Og(l,s,a)},useTransition:function(){var s=Mg(!1);return s=u2.bind(null,We,s.queue,!0,!1),nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=We,g=nr();if(ft){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),At===null)throw Error(r(349));(at&124)!==0||Ub(u,a,l)}g.memoizedState=l;var v={value:l,getSnapshot:a};return g.queue=v,t2(Bb.bind(null,u,v,s),[s]),u.flags|=2048,El(9,th(),Fb.bind(null,u,v,l,a),null),l},useId:function(){var s=nr(),a=At.identifierPrefix;if(ft){var l=pi,u=mi;l=(u&~(1<<32-ct(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Zf++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=z6++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Lg,useFormState:Qb,useActionState:Qb,useOptimistic:function(s){var a=nr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ug.bind(null,We,!0,l),l.dispatch=a,[s,a]},useMemoCache:Ig,useCacheRefresh:function(){return nr().memoizedState=K6.bind(null,We)}},x2={readContext:Dn,use:Jf,useCallback:o2,useContext:Dn,useEffect:n2,useImperativeHandle:a2,useInsertionEffect:r2,useLayoutEffect:s2,useMemo:l2,useReducer:eh,useRef:e2,useState:function(){return eh(vi)},useDebugValue:kg,useDeferredValue:function(s,a){var l=Qt();return c2(l,xt.memoizedState,s,a)},useTransition:function(){var s=eh(vi)[0],a=Qt().memoizedState;return[typeof s=="boolean"?s:gu(s),a]},useSyncExternalStore:Lb,useId:h2,useHostTransitionStatus:Lg,useFormState:Xb,useActionState:Xb,useOptimistic:function(s,a){var l=Qt();return $b(l,xt,s,a)},useMemoCache:Ig,useCacheRefresh:m2},W6={readContext:Dn,use:Jf,useCallback:o2,useContext:Dn,useEffect:n2,useImperativeHandle:a2,useInsertionEffect:r2,useLayoutEffect:s2,useMemo:l2,useReducer:jg,useRef:e2,useState:function(){return jg(vi)},useDebugValue:kg,useDeferredValue:function(s,a){var l=Qt();return xt===null?Og(l,s,a):c2(l,xt.memoizedState,s,a)},useTransition:function(){var s=jg(vi)[0],a=Qt().memoizedState;return[typeof s=="boolean"?s:gu(s),a]},useSyncExternalStore:Lb,useId:h2,useHostTransitionStatus:Lg,useFormState:Jb,useActionState:Jb,useOptimistic:function(s,a){var l=Qt();return xt!==null?$b(l,xt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ig,useCacheRefresh:m2},Tl=null,xu=0;function ih(s){var a=xu;return xu+=1,Tl===null&&(Tl=[]),Ib(Tl,s,a)}function bu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ah(s,a){throw a.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function b2(s){var a=s._init;return a(s._payload)}function _2(s){function a(Y,G){if(s){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function l(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function u(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function g(Y,G){return Y=hi(Y,G),Y.index=0,Y.sibling=null,Y}function v(Y,G,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,G,X,oe){return G===null||G.tag!==6?(G=ag(X,Y.mode,oe),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function $(Y,G,X,oe){var Ae=X.type;return Ae===S?ae(Y,G,X.props.children,oe,X.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&b2(Ae)===G.type)?(G=g(G,X.props),bu(G,X),G.return=Y,G):(G=zf(X.type,X.key,X.props,null,Y.mode,oe),bu(G,X),G.return=Y,G)}function J(Y,G,X,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=og(X,Y.mode,oe),G.return=Y,G):(G=g(G,X.children||[]),G.return=Y,G)}function ae(Y,G,X,oe,Ae){return G===null||G.tag!==7?(G=fo(X,Y.mode,oe,Ae),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function ce(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ag(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return X=zf(G.type,G.key,G.props,null,Y.mode,X),bu(X,G),X.return=Y,X;case w:return G=og(G,Y.mode,X),G.return=Y,G;case j:var oe=G._init;return G=oe(G._payload),ce(Y,G,X)}if(pe(G)||z(G))return G=fo(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return ce(Y,ih(G),X);if(G.$$typeof===R)return ce(Y,Gf(Y,G),X);ah(Y,G)}return null}function te(Y,G,X,oe){var Ae=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ae!==null?null:D(Y,G,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Ae?$(Y,G,X,oe):null;case w:return X.key===Ae?J(Y,G,X,oe):null;case j:return Ae=X._init,X=Ae(X._payload),te(Y,G,X,oe)}if(pe(X)||z(X))return Ae!==null?null:ae(Y,G,X,oe,null);if(typeof X.then=="function")return te(Y,G,ih(X),oe);if(X.$$typeof===R)return te(Y,G,Gf(Y,X),oe);ah(Y,X)}return null}function ne(Y,G,X,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,D(G,Y,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return Y=Y.get(oe.key===null?X:oe.key)||null,$(G,Y,oe,Ae);case w:return Y=Y.get(oe.key===null?X:oe.key)||null,J(G,Y,oe,Ae);case j:var Xe=oe._init;return oe=Xe(oe._payload),ne(Y,G,X,oe,Ae)}if(pe(oe)||z(oe))return Y=Y.get(X)||null,ae(G,Y,oe,Ae,null);if(typeof oe.then=="function")return ne(Y,G,X,ih(oe),Ae);if(oe.$$typeof===R)return ne(Y,G,X,Gf(G,oe),Ae);ah(G,oe)}return null}function Fe(Y,G,X,oe){for(var Ae=null,Xe=null,je=G,Ve=G=0,pn=null;je!==null&&Ve<X.length;Ve++){je.index>Ve?(pn=je,je=null):pn=je.sibling;var ut=te(Y,je,X[Ve],oe);if(ut===null){je===null&&(je=pn);break}s&&je&&ut.alternate===null&&a(Y,je),G=v(ut,G,Ve),Xe===null?Ae=ut:Xe.sibling=ut,Xe=ut,je=pn}if(Ve===X.length)return l(Y,je),ft&&mo(Y,Ve),Ae;if(je===null){for(;Ve<X.length;Ve++)je=ce(Y,X[Ve],oe),je!==null&&(G=v(je,G,Ve),Xe===null?Ae=je:Xe.sibling=je,Xe=je);return ft&&mo(Y,Ve),Ae}for(je=u(je);Ve<X.length;Ve++)pn=ne(je,Y,Ve,X[Ve],oe),pn!==null&&(s&&pn.alternate!==null&&je.delete(pn.key===null?Ve:pn.key),G=v(pn,G,Ve),Xe===null?Ae=pn:Xe.sibling=pn,Xe=pn);return s&&je.forEach(function(va){return a(Y,va)}),ft&&mo(Y,Ve),Ae}function ke(Y,G,X,oe){if(X==null)throw Error(r(151));for(var Ae=null,Xe=null,je=G,Ve=G=0,pn=null,ut=X.next();je!==null&&!ut.done;Ve++,ut=X.next()){je.index>Ve?(pn=je,je=null):pn=je.sibling;var va=te(Y,je,ut.value,oe);if(va===null){je===null&&(je=pn);break}s&&je&&va.alternate===null&&a(Y,je),G=v(va,G,Ve),Xe===null?Ae=va:Xe.sibling=va,Xe=va,je=pn}if(ut.done)return l(Y,je),ft&&mo(Y,Ve),Ae;if(je===null){for(;!ut.done;Ve++,ut=X.next())ut=ce(Y,ut.value,oe),ut!==null&&(G=v(ut,G,Ve),Xe===null?Ae=ut:Xe.sibling=ut,Xe=ut);return ft&&mo(Y,Ve),Ae}for(je=u(je);!ut.done;Ve++,ut=X.next())ut=ne(je,Y,Ve,ut.value,oe),ut!==null&&(s&&ut.alternate!==null&&je.delete(ut.key===null?Ve:ut.key),G=v(ut,G,Ve),Xe===null?Ae=ut:Xe.sibling=ut,Xe=ut);return s&&je.forEach(function(Q5){return a(Y,Q5)}),ft&&mo(Y,Ve),Ae}function _t(Y,G,X,oe){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Ae=X.key;G!==null;){if(G.key===Ae){if(Ae=X.type,Ae===S){if(G.tag===7){l(Y,G.sibling),oe=g(G,X.props.children),oe.return=Y,Y=oe;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&b2(Ae)===G.type){l(Y,G.sibling),oe=g(G,X.props),bu(oe,X),oe.return=Y,Y=oe;break e}l(Y,G);break}else a(Y,G);G=G.sibling}X.type===S?(oe=fo(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=zf(X.type,X.key,X.props,null,Y.mode,oe),bu(oe,X),oe.return=Y,Y=oe)}return A(Y);case w:e:{for(Ae=X.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){l(Y,G.sibling),oe=g(G,X.children||[]),oe.return=Y,Y=oe;break e}else{l(Y,G);break}else a(Y,G);G=G.sibling}oe=og(X,Y.mode,oe),oe.return=Y,Y=oe}return A(Y);case j:return Ae=X._init,X=Ae(X._payload),_t(Y,G,X,oe)}if(pe(X))return Fe(Y,G,X,oe);if(z(X)){if(Ae=z(X),typeof Ae!="function")throw Error(r(150));return X=Ae.call(X),ke(Y,G,X,oe)}if(typeof X.then=="function")return _t(Y,G,ih(X),oe);if(X.$$typeof===R)return _t(Y,G,Gf(Y,X),oe);ah(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(l(Y,G.sibling),oe=g(G,X),oe.return=Y,Y=oe):(l(Y,G),oe=ag(X,Y.mode,oe),oe.return=Y,Y=oe),A(Y)):l(Y,G)}return function(Y,G,X,oe){try{xu=0;var Ae=_t(Y,G,X,oe);return Tl=null,Ae}catch(je){if(je===uu||je===Yf)throw je;var Xe=hr(29,je,null,Y.mode);return Xe.lanes=oe,Xe.return=Y,Xe}finally{}}}var Sl=_2(!0),w2=_2(!1),Lr=le(null),Cs=null;function ra(s){var a=s.alternate;fe(an,an.current&1),fe(Lr,s),Cs===null&&(a===null||bl.current!==null||a.memoizedState!==null)&&(Cs=s)}function E2(s){if(s.tag===22){if(fe(an,an.current),fe(Lr,s),Cs===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Cs=s)}}else sa()}function sa(){fe(an,an.current),fe(Lr,Lr.current)}function xi(s){he(Lr),Cs===s&&(Cs=null),he(an)}var an=le(0);function oh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ny(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Fg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Bg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=yr(),g=ea(u);g.payload=a,l!=null&&(g.callback=l),a=ta(s,g,u),a!==null&&(vr(a,s,u),fu(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=yr(),g=ea(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ta(s,g,u),a!==null&&(vr(a,s,u),fu(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=yr(),u=ea(l);u.tag=2,a!=null&&(u.callback=a),a=ta(s,u,l),a!==null&&(vr(a,s,l),fu(a,s,l))}};function T2(s,a,l,u,g,v,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,A):a.prototype&&a.prototype.isPureReactComponent?!nu(l,u)||!nu(g,v):!0}function S2(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Bg.enqueueReplaceState(a,a.state,null)}function _o(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var lh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function A2(s){lh(s)}function R2(s){console.error(s)}function C2(s){lh(s)}function ch(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function N2(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zg(s,a,l){return l=ea(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(s,a)},l}function I2(s){return s=ea(s),s.tag=3,s}function D2(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;s.payload=function(){return g(v)},s.callback=function(){N2(a,l,u)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){N2(a,l,u),typeof g!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function Q6(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&ou(a,l,g,!0),l=Lr.current,l!==null){switch(l.tag){case 13:return Cs===null?fy():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===yg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),my(s,u,g)),!1;case 22:return l.flags|=65536,u===yg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),my(s,u,g)),!1}throw Error(r(435,l.tag))}return my(s,u,g),fy(),!1}if(ft)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==ug&&(s=Error(r(422),{cause:u}),au(Pr(s,l)))):(u!==ug&&(a=Error(r(423),{cause:u}),au(Pr(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Pr(u,l),g=zg(s.stateNode,u,g),bg(s,g),Ut!==4&&(Ut=2)),!1;var v=Error(r(520),{cause:u});if(v=Pr(v,l),Ru===null?Ru=[v]:Ru.push(v),Ut!==4&&(Ut=2),a===null)return!0;u=Pr(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=zg(l.stateNode,u,s),bg(l,s),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ua===null||!ua.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=I2(g),D2(g,s,l,u),bg(l,g),!1}l=l.return}while(l!==null);return!1}var j2=Error(r(461)),hn=!1;function En(s,a,l,u){a.child=s===null?w2(a,null,l,u):Sl(a,s.child,l,u)}function M2(s,a,l,u,g){l=l.render;var v=a.ref;if("ref"in u){var A={};for(var D in u)D!=="ref"&&(A[D]=u[D])}else A=u;return vo(a),u=Sg(s,a,l,A,v,g),D=Ag(),s!==null&&!hn?(Rg(s,a,g),bi(s,a,g)):(ft&&D&&lg(a),a.flags|=1,En(s,a,u,g),a.child)}function P2(s,a,l,u,g){if(s===null){var v=l.type;return typeof v=="function"&&!ig(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,k2(s,a,v,u,g)):(s=zf(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!Qg(s,g)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:nu,l(A,u)&&s.ref===a.ref)return bi(s,a,g)}return a.flags|=1,s=hi(v,u),s.ref=a.ref,s.return=a,a.child=s}function k2(s,a,l,u,g){if(s!==null){var v=s.memoizedProps;if(nu(v,u)&&s.ref===a.ref)if(hn=!1,a.pendingProps=u=v,Qg(s,g))(s.flags&131072)!==0&&(hn=!0);else return a.lanes=s.lanes,bi(s,a,g)}return Hg(s,a,l,u,g)}function O2(s,a,l){var u=a.pendingProps,g=u.children,v=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,s!==null){for(g=a.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~u}else a.childLanes=0,a.child=null;return V2(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kf(a,v!==null?v.cachePool:null),v!==null?kb(a,v):wg(),E2(a);else return a.lanes=a.childLanes=536870912,V2(s,a,v!==null?v.baseLanes|l:l,l)}else v!==null?(Kf(a,v.cachePool),kb(a,v),sa(),a.memoizedState=null):(s!==null&&Kf(a,null),wg(),sa());return En(s,a,g,l),a.child}function V2(s,a,l,u){var g=gg();return g=g===null?null:{parent:sn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&Kf(a,null),wg(),E2(a),s!==null&&ou(s,a,u,!0),null}function uh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Hg(s,a,l,u,g){return vo(a),l=Sg(s,a,l,u,void 0,g),u=Ag(),s!==null&&!hn?(Rg(s,a,g),bi(s,a,g)):(ft&&u&&lg(a),a.flags|=1,En(s,a,l,g),a.child)}function L2(s,a,l,u,g,v){return vo(a),a.updateQueue=null,l=Vb(a,u,l,g),Ob(s),u=Ag(),s!==null&&!hn?(Rg(s,a,v),bi(s,a,v)):(ft&&u&&lg(a),a.flags|=1,En(s,a,l,v),a.child)}function U2(s,a,l,u,g){if(vo(a),a.stateNode===null){var v=pl,A=l.contextType;typeof A=="object"&&A!==null&&(v=Dn(A)),v=new l(u,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Bg,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=u,v.state=a.memoizedState,v.refs={},vg(a),A=l.contextType,v.context=typeof A=="object"&&A!==null?Dn(A):pl,v.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Fg(a,l,A,u),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Bg.enqueueReplaceState(v,v.state,null),mu(a,u,v,g),hu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){v=a.stateNode;var D=a.memoizedProps,$=_o(l,D);v.props=$;var J=v.context,ae=l.contextType;A=pl,typeof ae=="object"&&ae!==null&&(A=Dn(ae));var ce=l.getDerivedStateFromProps;ae=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ae||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||J!==A)&&S2(a,v,u,A),Ji=!1;var te=a.memoizedState;v.state=te,mu(a,u,v,g),hu(),J=a.memoizedState,D||te!==J||Ji?(typeof ce=="function"&&(Fg(a,l,ce,u),J=a.memoizedState),($=Ji||T2(a,l,$,u,te,J,A))?(ae||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=J),v.props=u,v.state=J,v.context=A,u=$):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{v=a.stateNode,xg(s,a),A=a.memoizedProps,ae=_o(l,A),v.props=ae,ce=a.pendingProps,te=v.context,J=l.contextType,$=pl,typeof J=="object"&&J!==null&&($=Dn(J)),D=l.getDerivedStateFromProps,(J=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ce||te!==$)&&S2(a,v,u,$),Ji=!1,te=a.memoizedState,v.state=te,mu(a,u,v,g),hu();var ne=a.memoizedState;A!==ce||te!==ne||Ji||s!==null&&s.dependencies!==null&&qf(s.dependencies)?(typeof D=="function"&&(Fg(a,l,D,u),ne=a.memoizedState),(ae=Ji||T2(a,l,ae,u,te,ne,$)||s!==null&&s.dependencies!==null&&qf(s.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ne,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ne,$)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ne),v.props=u,v.state=ne,v.context=$,u=ae):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),u=!1)}return v=u,uh(s,a),u=(a.flags&128)!==0,v||u?(v=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,s!==null&&u?(a.child=Sl(a,s.child,null,g),a.child=Sl(a,null,l,g)):En(s,a,l,g),a.memoizedState=v.state,s=a.child):s=bi(s,a,g),s}function F2(s,a,l,u){return iu(),a.flags|=256,En(s,a,l,u),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qg(s){return{baseLanes:s,cachePool:Rb()}}function Gg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ur),s}function B2(s,a,l){var u=a.pendingProps,g=!1,v=(a.flags&128)!==0,A;if((A=v)||(A=s!==null&&s.memoizedState===null?!1:(an.current&2)!==0),A&&(g=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(ft){if(g?ra(a):sa(),ft){var D=Lt,$;if($=D){e:{for($=D,D=Rs;$.nodeType!==8;){if(!D){D=null;break e}if($=rs($.nextSibling),$===null){D=null;break e}}D=$}D!==null?(a.memoizedState={dehydrated:D,treeContext:ho!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},$=hr(18,null,null,0),$.stateNode=D,$.return=a,a.child=$,Gn=a,Lt=null,$=!0):$=!1}$||go(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ny(D)?a.lanes=32:a.lanes=536870912,null;xi(a)}return D=u.children,u=u.fallback,g?(sa(),g=a.mode,D=dh({mode:"hidden",children:D},g),u=fo(u,g,l,null),D.return=a,u.return=a,D.sibling=u,a.child=D,g=a.child,g.memoizedState=qg(l),g.childLanes=Gg(s,A,l),a.memoizedState=$g,u):(ra(a),Kg(a,D))}if($=s.memoizedState,$!==null&&(D=$.dehydrated,D!==null)){if(v)a.flags&256?(ra(a),a.flags&=-257,a=Yg(s,a,l)):a.memoizedState!==null?(sa(),a.child=s.child,a.flags|=128,a=null):(sa(),g=u.fallback,D=a.mode,u=dh({mode:"visible",children:u.children},D),g=fo(g,D,l,null),g.flags|=2,u.return=a,g.return=a,u.sibling=g,a.child=u,Sl(a,s.child,null,l),u=a.child,u.memoizedState=qg(l),u.childLanes=Gg(s,A,l),a.memoizedState=$g,a=g);else if(ra(a),Ny(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var J=A.dgst;A=J,u=Error(r(419)),u.stack="",u.digest=A,au({value:u,source:null,stack:null}),a=Yg(s,a,l)}else if(hn||ou(s,a,l,!1),A=(l&s.childLanes)!==0,hn||A){if(A=At,A!==null&&(u=l&-l,u=(u&42)!==0?1:dt(u),u=(u&(A.suspendedLanes|l))!==0?0:u,u!==0&&u!==$.retryLane))throw $.retryLane=u,ml(s,u),vr(A,s,u),j2;D.data==="$?"||fy(),a=Yg(s,a,l)}else D.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=$.treeContext,Lt=rs(D.nextSibling),Gn=a,ft=!0,po=null,Rs=!1,s!==null&&(Or[Vr++]=mi,Or[Vr++]=pi,Or[Vr++]=ho,mi=s.id,pi=s.overflow,ho=a),a=Kg(a,u.children),a.flags|=4096);return a}return g?(sa(),g=u.fallback,D=a.mode,$=s.child,J=$.sibling,u=hi($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,J!==null?g=hi(J,g):(g=fo(g,D,l,null),g.flags|=2),g.return=a,u.return=a,u.sibling=g,a.child=u,u=g,g=a.child,D=s.child.memoizedState,D===null?D=qg(l):($=D.cachePool,$!==null?(J=sn._currentValue,$=$.parent!==J?{parent:J,pool:J}:$):$=Rb(),D={baseLanes:D.baseLanes|l,cachePool:$}),g.memoizedState=D,g.childLanes=Gg(s,A,l),a.memoizedState=$g,u):(ra(a),l=s.child,s=l.sibling,l=hi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function Kg(s,a){return a=dh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function dh(s,a){return s=hr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Yg(s,a,l){return Sl(a,s.child,null,l),s=Kg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function z2(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),fg(s.return,a,l)}function Wg(s,a,l,u,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=g)}function H2(s,a,l){var u=a.pendingProps,g=u.revealOrder,v=u.tail;if(En(s,a,u.children,l),u=an.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&z2(s,l,a);else if(s.tag===19)z2(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(fe(an,u),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&oh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Wg(a,!1,g,l,v);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&oh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Wg(a,!0,l,null,v);break;case"together":Wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bi(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ca|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(ou(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=hi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Qg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qf(s)))}function X6(s,a,l){switch(a.tag){case 3:Me(a,a.stateNode.containerInfo),Zi(a,sn,s.memoizedState.cache),iu();break;case 27:case 5:Kt(a);break;case 4:Me(a,a.stateNode.containerInfo);break;case 10:Zi(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ra(a),a.flags|=128,null):(l&a.child.childLanes)!==0?B2(s,a,l):(ra(a),s=bi(s,a,l),s!==null?s.sibling:null);ra(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(ou(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return H2(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(an,an.current),u)break;return null;case 22:case 23:return a.lanes=0,O2(s,a,l);case 24:Zi(a,sn,s.memoizedState.cache)}return bi(s,a,l)}function $2(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)hn=!0;else{if(!Qg(s,l)&&(a.flags&128)===0)return hn=!1,X6(s,a,l);hn=(s.flags&131072)!==0}else hn=!1,ft&&(a.flags&1048576)!==0&&bb(a,$f,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,g=u._init;if(u=g(u._payload),a.type=u,typeof u=="function")ig(u)?(s=_o(u,s),a.tag=1,a=U2(null,a,u,s,l)):(a.tag=0,a=Hg(null,a,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===k){a.tag=11,a=M2(null,a,u,s,l);break e}else if(g===V){a.tag=14,a=P2(null,a,u,s,l);break e}}throw a=we(u)||u,Error(r(306,a,""))}}return a;case 0:return Hg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=_o(u,a.pendingProps),U2(s,a,u,g,l);case 3:e:{if(Me(a,a.stateNode.containerInfo),s===null)throw Error(r(387));u=a.pendingProps;var v=a.memoizedState;g=v.element,xg(s,a),mu(a,u,null,l);var A=a.memoizedState;if(u=A.cache,Zi(a,sn,u),u!==v.cache&&hg(a,[sn],l,!0),hu(),u=A.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=F2(s,a,u,l);break e}else if(u!==g){g=Pr(Error(r(424)),a),au(g),a=F2(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lt=rs(s.firstChild),Gn=a,ft=!0,po=null,Rs=!0,l=w2(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(iu(),u===g){a=bi(s,a,l);break e}En(s,a,u,l)}a=a.child}return a;case 26:return uh(s,a),s===null?(l=Y_(a.type,null,a.pendingProps,null))?a.memoizedState=l:ft||(l=a.type,s=a.pendingProps,u=Sh(Ce.current).createElement(l),u[et]=a,u[rt]=s,Sn(u,l,s),Bt(u),a.stateNode=u):a.memoizedState=Y_(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Kt(a),s===null&&ft&&(u=a.stateNode=q_(a.type,a.pendingProps,Ce.current),Gn=a,Rs=!0,g=Lt,ha(a.type)?(Iy=g,Lt=rs(u.firstChild)):Lt=g),En(s,a,a.pendingProps.children,l),uh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ft&&((g=u=Lt)&&(u=S5(u,a.type,a.pendingProps,Rs),u!==null?(a.stateNode=u,Gn=a,Lt=rs(u.firstChild),Rs=!1,g=!0):g=!1),g||go(a)),Kt(a),g=a.type,v=a.pendingProps,A=s!==null?s.memoizedProps:null,u=v.children,Ay(g,v)?u=null:A!==null&&Ay(g,A)&&(a.flags|=32),a.memoizedState!==null&&(g=Sg(s,a,H6,null,null,l),Ou._currentValue=g),uh(s,a),En(s,a,u,l),a.child;case 6:return s===null&&ft&&((s=l=Lt)&&(l=A5(l,a.pendingProps,Rs),l!==null?(a.stateNode=l,Gn=a,Lt=null,s=!0):s=!1),s||go(a)),null;case 13:return B2(s,a,l);case 4:return Me(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Sl(a,null,u,l):En(s,a,u,l),a.child;case 11:return M2(s,a,a.type,a.pendingProps,l);case 7:return En(s,a,a.pendingProps,l),a.child;case 8:return En(s,a,a.pendingProps.children,l),a.child;case 12:return En(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Zi(a,a.type,u.value),En(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,vo(a),g=Dn(g),u=u(g),a.flags|=1,En(s,a,u,l),a.child;case 14:return P2(s,a,a.type,a.pendingProps,l);case 15:return k2(s,a,a.type,a.pendingProps,l);case 19:return H2(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=dh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hi(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return O2(s,a,l);case 24:return vo(a),u=Dn(sn),s===null?(g=gg(),g===null&&(g=At,v=mg(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),a.memoizedState={parent:u,cache:g},vg(a),Zi(a,sn,g)):((s.lanes&l)!==0&&(xg(s,a),mu(a,null,null,l),hu()),g=s.memoizedState,v=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Zi(a,sn,u)):(u=v.cache,Zi(a,sn,u),u!==g.cache&&hg(a,[sn],l,!0))),En(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function _i(s){s.flags|=4}function q2(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!J_(a)){if(a=Lr.current,a!==null&&((at&4194048)===at?Cs!==null:(at&62914560)!==at&&(at&536870912)===0||a!==Cs))throw du=yg,Cb;s.flags|=8192}}function fh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?qi():536870912,s.lanes|=a,Nl|=a)}function _u(s,a){if(!ft)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Mt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function Z6(s,a,l){var u=a.pendingProps;switch(cg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),yi(sn),jt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(su(a)?_i(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Eb())),Mt(a),null;case 26:return l=a.memoizedState,s===null?(_i(a),l!==null?(Mt(a),q2(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(_i(a),Mt(a),q2(a,l)):(Mt(a),a.flags&=-16777217):(s.memoizedProps!==u&&_i(a),Mt(a),a.flags&=-16777217),null;case 27:Jn(a),l=Ce.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_i(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}s=Ie.current,su(a)?_b(a):(s=q_(g,u,l),a.stateNode=s,_i(a))}return Mt(a),null;case 5:if(Jn(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_i(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}if(s=Ie.current,su(a))_b(a);else{switch(g=Sh(Ce.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[et]=a,s[rt]=u;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;e:switch(Sn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&_i(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&_i(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(s=Ce.current,su(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Gn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[et]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||L_(s.nodeValue,l)),s||go(a)}else s=Sh(s).createTextNode(u),s[et]=a,a.stateNode=s}return Mt(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=su(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[et]=a}else iu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),g=!1}else g=Eb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(xi(a),a):(xi(a),null)}if(xi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),fh(a,a.updateQueue),Mt(a),null;case 4:return jt(),s===null&&_y(a.stateNode.containerInfo),Mt(a),null;case 10:return yi(a.type),Mt(a),null;case 19:if(he(an),g=a.memoizedState,g===null)return Mt(a),null;if(u=(a.flags&128)!==0,v=g.rendering,v===null)if(u)_u(g,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(v=oh(s),v!==null){for(a.flags|=128,_u(g,!1),s=v.updateQueue,a.updateQueue=s,fh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)xb(l,s),l=l.sibling;return fe(an,an.current&1|2),a.child}s=s.sibling}g.tail!==null&&bn()>ph&&(a.flags|=128,u=!0,_u(g,!1),a.lanes=4194304)}else{if(!u)if(s=oh(v),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,fh(a,s),_u(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ft)return Mt(a),null}else 2*bn()-g.renderingStartTime>ph&&l!==536870912&&(a.flags|=128,u=!0,_u(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(s=g.last,s!==null?s.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=bn(),a.sibling=null,s=an.current,fe(an,u?s&1|2:s&1),a):(Mt(a),null);case 22:case 23:return xi(a),Eg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&fh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&he(xo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),yi(sn),Mt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function J6(s,a){switch(cg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return yi(sn),jt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Jn(a),null;case 13:if(xi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));iu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return he(an),null;case 4:return jt(),null;case 10:return yi(a.type),null;case 22:case 23:return xi(a),Eg(),s!==null&&he(xo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return yi(sn),null;case 25:return null;default:return null}}function G2(s,a){switch(cg(a),a.tag){case 3:yi(sn),jt();break;case 26:case 27:case 5:Jn(a);break;case 4:jt();break;case 13:xi(a);break;case 19:he(an);break;case 10:yi(a.type);break;case 22:case 23:xi(a),Eg(),s!==null&&he(xo);break;case 24:yi(sn)}}function wu(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var v=l.create,A=l.inst;u=v(),A.destroy=u}l=l.next}while(l!==g)}}catch(D){Et(a,a.return,D)}}function ia(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&s)===s){var A=u.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,g=a;var $=l,J=D;try{J()}catch(ae){Et(g,$,ae)}}}u=u.next}while(u!==v)}}catch(ae){Et(a,a.return,ae)}}function K2(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Pb(a,l)}catch(u){Et(s,s.return,u)}}}function Y2(s,a,l){l.props=_o(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Et(s,a,u)}}function Eu(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Et(s,a,g)}}function Ns(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Et(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Et(s,a,g)}else l.current=null}function W2(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Et(s,s.return,g)}}function Xg(s,a,l){try{var u=s.stateNode;b5(u,s.type,l,a),u[rt]=a}catch(g){Et(s,s.return,g)}}function Q2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ha(s.type)||s.tag===4}function Zg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ha(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Th));else if(u!==4&&(u===27&&ha(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Jg(s,a,l),s=s.sibling;s!==null;)Jg(s,a,l),s=s.sibling}function hh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&ha(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(hh(s,a,l),s=s.sibling;s!==null;)hh(s,a,l),s=s.sibling}function X2(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Sn(a,u,l),a[et]=s,a[rt]=l}catch(v){Et(s,s.return,v)}}var wi=!1,Ht=!1,ey=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,mn=null;function e5(s,a){if(s=s.containerInfo,Ty=Dh,s=cb(s),Zp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,D=-1,$=-1,J=0,ae=0,ce=s,te=null;t:for(;;){for(var ne;ce!==l||g!==0&&ce.nodeType!==3||(D=A+g),ce!==v||u!==0&&ce.nodeType!==3||($=A+u),ce.nodeType===3&&(A+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===s)break t;if(te===l&&++J===g&&(D=A),te===v&&++ae===u&&($=A),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}l=D===-1||$===-1?null:{start:D,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sy={focusedElem:s,selectionRange:l},Dh=!1,mn=a;mn!==null;)if(a=mn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,mn=s;else for(;mn!==null;){switch(a=mn,v=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=a,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var Fe=_o(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Fe,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(ke){Et(l,l.return,ke)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Cy(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Cy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,mn=s;break}mn=a.return}}function J2(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:aa(s,l),u&4&&wu(5,l);break;case 1:if(aa(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(A){Et(l,l.return,A)}else{var g=_o(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Et(l,l.return,A)}}u&64&&K2(l),u&512&&Eu(l,l.return);break;case 3:if(aa(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Pb(s,a)}catch(A){Et(l,l.return,A)}}break;case 27:a===null&&u&4&&X2(l);case 26:case 5:aa(s,l),a===null&&u&4&&W2(l),u&512&&Eu(l,l.return);break;case 12:aa(s,l);break;case 13:aa(s,l),u&4&&n_(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=c5.bind(null,l),R5(s,l))));break;case 22:if(u=l.memoizedState!==null||wi,!u){a=a!==null&&a.memoizedState!==null||Ht,g=wi;var v=Ht;wi=u,(Ht=a)&&!v?oa(s,l,(l.subtreeFlags&8772)!==0):aa(s,l),wi=g,Ht=v}break;case 30:break;default:aa(s,l)}}function e_(s){var a=s.alternate;a!==null&&(s.alternate=null,e_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Yi(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var It=null,rr=!1;function Ei(s,a,l){for(l=l.child;l!==null;)t_(s,a,l),l=l.sibling}function t_(s,a,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(be,l)}catch{}switch(l.tag){case 26:Ht||Ns(l,a),Ei(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||Ns(l,a);var u=It,g=rr;ha(l.type)&&(It=l.stateNode,rr=!1),Ei(s,a,l),ju(l.stateNode),It=u,rr=g;break;case 5:Ht||Ns(l,a);case 6:if(u=It,g=rr,It=null,Ei(s,a,l),It=u,rr=g,It!==null)if(rr)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(l.stateNode)}catch(v){Et(l,a,v)}else try{It.removeChild(l.stateNode)}catch(v){Et(l,a,v)}break;case 18:It!==null&&(rr?(s=It,H_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Fu(s)):H_(It,l.stateNode));break;case 4:u=It,g=rr,It=l.stateNode.containerInfo,rr=!0,Ei(s,a,l),It=u,rr=g;break;case 0:case 11:case 14:case 15:Ht||ia(2,l,a),Ht||ia(4,l,a),Ei(s,a,l);break;case 1:Ht||(Ns(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Y2(l,a,u)),Ei(s,a,l);break;case 21:Ei(s,a,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Ei(s,a,l),Ht=u;break;default:Ei(s,a,l)}}function n_(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fu(s)}catch(l){Et(a,a.return,l)}}function t5(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Z2),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Z2),a;default:throw Error(r(435,s.tag))}}function ty(s,a){var l=t5(s);a.forEach(function(u){var g=u5.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function mr(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=s,A=a,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(ha(D.type)){It=D.stateNode,rr=!1;break e}break;case 5:It=D.stateNode,rr=!1;break e;case 3:case 4:It=D.stateNode.containerInfo,rr=!0;break e}D=D.return}if(It===null)throw Error(r(160));t_(v,A,g),It=null,rr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)r_(a,s),a=a.sibling}var ns=null;function r_(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:mr(a,s),pr(s),u&4&&(ia(3,s,s.return),wu(3,s),ia(5,s,s.return));break;case 1:mr(a,s),pr(s),u&512&&(Ht||l===null||Ns(l,l.return)),u&64&&wi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ns;if(mr(a,s),pr(s),u&512&&(Ht||l===null||Ns(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Wa]||v[et]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Sn(v,u,l),v[et]=s,Bt(v),u=v;break e;case"link":var A=X_("link","href",g).get(u+(l.href||""));if(A){for(var D=0;D<A.length;D++)if(v=A[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(D,1);break t}}v=g.createElement(u),Sn(v,u,l),g.head.appendChild(v);break;case"meta":if(A=X_("meta","content",g).get(u+(l.content||""))){for(D=0;D<A.length;D++)if(v=A[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(D,1);break t}}v=g.createElement(u),Sn(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[et]=s,Bt(v),u=v}s.stateNode=u}else Z_(g,s.type,s.stateNode);else s.stateNode=Q_(g,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Z_(g,s.type,s.stateNode):Q_(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Xg(s,s.memoizedProps,l.memoizedProps)}break;case 27:mr(a,s),pr(s),u&512&&(Ht||l===null||Ns(l,l.return)),l!==null&&u&4&&Xg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(mr(a,s),pr(s),u&512&&(Ht||l===null||Ns(l,l.return)),s.flags&32){g=s.stateNode;try{Ir(g,"")}catch(ne){Et(s,s.return,ne)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Xg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(ey=!0);break;case 6:if(mr(a,s),pr(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ne){Et(s,s.return,ne)}}break;case 3:if(Ch=null,g=ns,ns=Ah(a.containerInfo),mr(a,s),ns=g,pr(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Fu(a.containerInfo)}catch(ne){Et(s,s.return,ne)}ey&&(ey=!1,s_(s));break;case 4:u=ns,ns=Ah(s.stateNode.containerInfo),mr(a,s),pr(s),ns=u;break;case 12:mr(a,s),pr(s);break;case 13:mr(a,s),pr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oy=bn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,ty(s,u)));break;case 22:g=s.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,J=wi,ae=Ht;if(wi=J||g,Ht=ae||$,mr(a,s),Ht=ae,wi=J,pr(s),u&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||$||wi||Ht||wo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){$=l=a;try{if(v=$.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=$.stateNode;var ce=$.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Et($,$.return,ne)}}}else if(a.tag===6){if(l===null){$=a;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(ne){Et($,$.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ty(s,l))));break;case 19:mr(a,s),pr(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,ty(s,u)));break;case 30:break;case 21:break;default:mr(a,s),pr(s)}}function pr(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Q2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Zg(s);hh(s,v,g);break;case 5:var A=l.stateNode;l.flags&32&&(Ir(A,""),l.flags&=-33);var D=Zg(s);hh(s,D,A);break;case 3:case 4:var $=l.stateNode.containerInfo,J=Zg(s);Jg(s,J,$);break;default:throw Error(r(161))}}catch(ae){Et(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function s_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;s_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function aa(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)J2(s,a.alternate,a),a=a.sibling}function wo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ia(4,a,a.return),wo(a);break;case 1:Ns(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Y2(a,a.return,l),wo(a);break;case 27:ju(a.stateNode);case 26:case 5:Ns(a,a.return),wo(a);break;case 22:a.memoizedState===null&&wo(a);break;case 30:wo(a);break;default:wo(a)}s=s.sibling}}function oa(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,v=a,A=v.flags;switch(v.tag){case 0:case 11:case 15:oa(g,v,l),wu(4,v);break;case 1:if(oa(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Et(u,u.return,J)}if(u=v,g=u.updateQueue,g!==null){var D=u.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)Mb($[g],D)}catch(J){Et(u,u.return,J)}}l&&A&64&&K2(v),Eu(v,v.return);break;case 27:X2(v);case 26:case 5:oa(g,v,l),l&&u===null&&A&4&&W2(v),Eu(v,v.return);break;case 12:oa(g,v,l);break;case 13:oa(g,v,l),l&&A&4&&n_(g,v);break;case 22:v.memoizedState===null&&oa(g,v,l),Eu(v,v.return);break;case 30:break;default:oa(g,v,l)}a=a.sibling}}function ny(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&lu(l))}function ry(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&lu(s))}function Is(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)i_(s,a,l,u),a=a.sibling}function i_(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Is(s,a,l,u),g&2048&&wu(9,a);break;case 1:Is(s,a,l,u);break;case 3:Is(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&lu(s)));break;case 12:if(g&2048){Is(s,a,l,u),s=a.stateNode;try{var v=a.memoizedProps,A=v.id,D=v.onPostCommit;typeof D=="function"&&D(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){Et(a,a.return,$)}}else Is(s,a,l,u);break;case 13:Is(s,a,l,u);break;case 23:break;case 22:v=a.stateNode,A=a.alternate,a.memoizedState!==null?v._visibility&2?Is(s,a,l,u):Tu(s,a):v._visibility&2?Is(s,a,l,u):(v._visibility|=2,Al(s,a,l,u,(a.subtreeFlags&10256)!==0)),g&2048&&ny(A,a);break;case 24:Is(s,a,l,u),g&2048&&ry(a.alternate,a);break;default:Is(s,a,l,u)}}function Al(s,a,l,u,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=s,A=a,D=l,$=u,J=A.flags;switch(A.tag){case 0:case 11:case 15:Al(v,A,D,$,g),wu(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?Al(v,A,D,$,g):Tu(v,A):(ae._visibility|=2,Al(v,A,D,$,g)),g&&J&2048&&ny(A.alternate,A);break;case 24:Al(v,A,D,$,g),g&&J&2048&&ry(A.alternate,A);break;default:Al(v,A,D,$,g)}a=a.sibling}}function Tu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:Tu(l,u),g&2048&&ny(u.alternate,u);break;case 24:Tu(l,u),g&2048&&ry(u.alternate,u);break;default:Tu(l,u)}a=a.sibling}}var Su=8192;function Rl(s){if(s.subtreeFlags&Su)for(s=s.child;s!==null;)a_(s),s=s.sibling}function a_(s){switch(s.tag){case 26:Rl(s),s.flags&Su&&s.memoizedState!==null&&F5(ns,s.memoizedState,s.memoizedProps);break;case 5:Rl(s);break;case 3:case 4:var a=ns;ns=Ah(s.stateNode.containerInfo),Rl(s),ns=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Su,Su=16777216,Rl(s),Su=a):Rl(s));break;default:Rl(s)}}function o_(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Au(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];mn=u,c_(u,s)}o_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l_(s),s=s.sibling}function l_(s){switch(s.tag){case 0:case 11:case 15:Au(s),s.flags&2048&&ia(9,s,s.return);break;case 3:Au(s);break;case 12:Au(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,mh(s)):Au(s);break;default:Au(s)}}function mh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];mn=u,c_(u,s)}o_(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ia(8,a,a.return),mh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,mh(a));break;default:mh(a)}s=s.sibling}}function c_(s,a){for(;mn!==null;){var l=mn;switch(l.tag){case 0:case 11:case 15:ia(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,mn=u;else e:for(l=s;mn!==null;){u=mn;var g=u.sibling,v=u.return;if(e_(u),u===l){mn=null;break e}if(g!==null){g.return=v,mn=g;break e}mn=v}}}var n5={getCacheForType:function(s){var a=Dn(sn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},r5=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,Ze=null,at=0,gt=0,gr=null,la=!1,Cl=!1,sy=!1,Ti=0,Ut=0,ca=0,Eo=0,iy=0,Ur=0,Nl=0,Ru=null,sr=null,ay=!1,oy=0,ph=1/0,gh=null,ua=null,Tn=0,da=null,Il=null,Dl=0,ly=0,cy=null,u_=null,Cu=0,uy=null;function yr(){if((pt&2)!==0&&at!==0)return at&-at;if(K.T!==null){var s=vl;return s!==0?s:yy()}return yt()}function d_(){Ur===0&&(Ur=(at&536870912)===0||ft?$i():536870912);var s=Lr.current;return s!==null&&(s.flags|=32),Ur}function vr(s,a,l){(s===At&&(gt===2||gt===9)||s.cancelPendingCommit!==null)&&(jl(s,0),fa(s,at,Ur,!1)),Cr(s,l),((pt&2)===0||s!==At)&&(s===At&&((pt&2)===0&&(Eo|=l),Ut===4&&fa(s,at,Ur,!1)),Ds(s))}function f_(s,a,l){if((pt&6)!==0)throw Error(r(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Ar(s,a),g=u?a5(s,a):hy(s,a,!0),v=u;do{if(g===0){Cl&&!u&&fa(s,a,0,!1);break}else{if(l=s.current.alternate,v&&!s5(l)){g=hy(s,a,!1),v=!1;continue}if(g===2){if(v=a,s.errorRecoveryDisabledLanes&v)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var D=s;g=Ru;var $=D.current.memoizedState.isDehydrated;if($&&(jl(D,A).flags|=256),A=hy(D,A,!1),A!==2){if(sy&&!$){D.errorRecoveryDisabledLanes|=v,Eo|=v,g=4;break e}v=sr,sr=g,v!==null&&(sr===null?sr=v:sr.push.apply(sr,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){jl(s,0),fa(s,a,0,!0);break}e:{switch(u=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:fa(u,a,Ur,!la);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=oy+300-bn(),10<g)){if(fa(u,a,Ur,!la),Sr(u,0,!0)!==0)break e;u.timeoutHandle=B_(h_.bind(null,u,l,sr,gh,ay,a,Ur,Eo,Nl,la,v,2,-0,0),g);break e}h_(u,l,sr,gh,ay,a,Ur,Eo,Nl,la,v,0,-0,0)}}break}while(!0);Ds(s)}function h_(s,a,l,u,g,v,A,D,$,J,ae,ce,te,ne){if(s.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:U5},a_(a),ce=B5(),ce!==null)){s.cancelPendingCommit=ce(b_.bind(null,s,a,v,l,u,g,A,D,$,ae,1,te,ne)),fa(s,v,A,!J);return}b_(s,a,v,l,u,g,A,D,$)}function s5(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!fr(v(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fa(s,a,l,u){a&=~iy,a&=~Eo,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var v=31-ct(g),A=1<<v;u[v]=-1,g&=~A}l!==0&&xe(s,l,a)}function yh(){return(pt&6)===0?(Nu(0),!1):!0}function dy(){if(Ze!==null){if(gt===0)var s=Ze.return;else s=Ze,gi=yo=null,Cg(s),Tl=null,xu=0,s=Ze;for(;s!==null;)G2(s.alternate,s),s=s.return;Ze=null}}function jl(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,w5(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),dy(),At=s,Ze=l=hi(s.current,null),at=a,gt=0,gr=null,la=!1,Cl=Ar(s,a),sy=!1,Nl=Ur=iy=Eo=ca=Ut=0,sr=Ru=null,ay=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-ct(u),v=1<<g;a|=s[g],u&=~v}return Ti=a,Uf(),l}function m_(s,a){We=null,K.H=sh,a===uu||a===Yf?(a=Db(),gt=3):a===Cb?(a=Db(),gt=4):gt=a===j2?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gr=a,Ze===null&&(Ut=1,ch(s,Pr(a,s.current)))}function p_(){var s=K.H;return K.H=sh,s===null?sh:s}function g_(){var s=K.A;return K.A=n5,s}function fy(){Ut=4,la||(at&4194048)!==at&&Lr.current!==null||(Cl=!0),(ca&134217727)===0&&(Eo&134217727)===0||At===null||fa(At,at,Ur,!1)}function hy(s,a,l){var u=pt;pt|=2;var g=p_(),v=g_();(At!==s||at!==a)&&(gh=null,jl(s,a)),a=!1;var A=Ut;e:do try{if(gt!==0&&Ze!==null){var D=Ze,$=gr;switch(gt){case 8:dy(),A=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var J=gt;if(gt=0,gr=null,Ml(s,D,$,J),l&&Cl){A=0;break e}break;default:J=gt,gt=0,gr=null,Ml(s,D,$,J)}}i5(),A=Ut;break}catch(ae){m_(s,ae)}while(!0);return a&&s.shellSuspendCounter++,gi=yo=null,pt=u,K.H=g,K.A=v,Ze===null&&(At=null,at=0,Uf()),A}function i5(){for(;Ze!==null;)y_(Ze)}function a5(s,a){var l=pt;pt|=2;var u=p_(),g=g_();At!==s||at!==a?(gh=null,ph=bn()+500,jl(s,a)):Cl=Ar(s,a);e:do try{if(gt!==0&&Ze!==null){a=Ze;var v=gr;t:switch(gt){case 1:gt=0,gr=null,Ml(s,a,v,1);break;case 2:case 9:if(Nb(v)){gt=0,gr=null,v_(a);break}a=function(){gt!==2&&gt!==9||At!==s||(gt=7),Ds(s)},v.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Nb(v)?(gt=0,gr=null,v_(a)):(gt=0,gr=null,Ml(s,a,v,7));break;case 5:var A=null;switch(Ze.tag){case 26:A=Ze.memoizedState;case 5:case 27:var D=Ze;if(!A||J_(A)){gt=0,gr=null;var $=D.sibling;if($!==null)Ze=$;else{var J=D.return;J!==null?(Ze=J,vh(J)):Ze=null}break t}}gt=0,gr=null,Ml(s,a,v,5);break;case 6:gt=0,gr=null,Ml(s,a,v,6);break;case 8:dy(),Ut=6;break e;default:throw Error(r(462))}}o5();break}catch(ae){m_(s,ae)}while(!0);return gi=yo=null,K.H=u,K.A=g,pt=l,Ze!==null?0:(At=null,at=0,Uf(),Ut)}function o5(){for(;Ze!==null&&!Qr();)y_(Ze)}function y_(s){var a=$2(s.alternate,s,Ti);s.memoizedProps=s.pendingProps,a===null?vh(s):Ze=a}function v_(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=L2(l,a,a.pendingProps,a.type,void 0,at);break;case 11:a=L2(l,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:Cg(a);default:G2(l,a),a=Ze=xb(a,Ti),a=$2(l,a,Ti)}s.memoizedProps=s.pendingProps,a===null?vh(s):Ze=a}function Ml(s,a,l,u){gi=yo=null,Cg(a),Tl=null,xu=0;var g=a.return;try{if(Q6(s,g,a,l,at)){Ut=1,ch(s,Pr(l,s.current)),Ze=null;return}}catch(v){if(g!==null)throw Ze=g,v;Ut=1,ch(s,Pr(l,s.current)),Ze=null;return}a.flags&32768?(ft||u===1?s=!0:Cl||(at&536870912)!==0?s=!1:(la=s=!0,(u===2||u===9||u===3||u===6)&&(u=Lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),x_(a,s)):vh(a)}function vh(s){var a=s;do{if((a.flags&32768)!==0){x_(a,la);return}s=a.return;var l=Z6(a.alternate,a,Ti);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=s}while(a!==null);Ut===0&&(Ut=5)}function x_(s,a){do{var l=J6(s.alternate,s);if(l!==null){l.flags&=32767,Ze=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=l}while(s!==null);Ut=6,Ze=null}function b_(s,a,l,u,g,v,A,D,$){s.cancelPendingCommit=null;do xh();while(Tn!==0);if((pt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=rg,Gi(s,l,v,A,D,$),s===At&&(Ze=At=null,at=0),Il=a,da=s,Dl=l,ly=v,cy=g,u_=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,d5(ee,function(){return S_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=Z.p,Z.p=2,A=pt,pt|=4;try{e5(s,a,l)}finally{pt=A,Z.p=g,K.T=u}}Tn=1,__(),w_(),E_()}}function __(){if(Tn===1){Tn=0;var s=da,a=Il,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=Z.p;Z.p=2;var g=pt;pt|=4;try{r_(a,s);var v=Sy,A=cb(s.containerInfo),D=v.focusedElem,$=v.selectionRange;if(A!==D&&D&&D.ownerDocument&&lb(D.ownerDocument.documentElement,D)){if($!==null&&Zp(D)){var J=$.start,ae=$.end;if(ae===void 0&&(ae=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ae,D.value.length);else{var ce=D.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Fe=D.textContent.length,ke=Math.min($.start,Fe),_t=$.end===void 0?ke:Math.min($.end,Fe);!ne.extend&&ke>_t&&(A=_t,_t=ke,ke=A);var Y=ob(D,ke),G=ob(D,_t);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var X=ce.createRange();X.setStart(Y.node,Y.offset),ne.removeAllRanges(),ke>_t?(ne.addRange(X),ne.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),ne.addRange(X))}}}}for(ce=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ce.length;D++){var oe=ce[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Dh=!!Ty,Sy=Ty=null}finally{pt=g,Z.p=u,K.T=l}}s.current=a,Tn=2}}function w_(){if(Tn===2){Tn=0;var s=da,a=Il,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=Z.p;Z.p=2;var g=pt;pt|=4;try{J2(s,a.alternate,a)}finally{pt=g,Z.p=u,K.T=l}}Tn=3}}function E_(){if(Tn===4||Tn===3){Tn=0,ni();var s=da,a=Il,l=Dl,u=u_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,Il=da=null,T_(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ua=null),lt(l),a=a.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(be,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=K.T,g=Z.p,Z.p=2,K.T=null;try{for(var v=s.onRecoverableError,A=0;A<u.length;A++){var D=u[A];v(D.value,{componentStack:D.stack})}}finally{K.T=a,Z.p=g}}(Dl&3)!==0&&xh(),Ds(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===uy?Cu++:(Cu=0,uy=s):Cu=0,Nu(0)}}function T_(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,lu(a)))}function xh(s){return __(),w_(),E_(),S_()}function S_(){if(Tn!==5)return!1;var s=da,a=ly;ly=0;var l=lt(Dl),u=K.T,g=Z.p;try{Z.p=32>l?32:l,K.T=null,l=cy,cy=null;var v=da,A=Dl;if(Tn=0,Il=da=null,Dl=0,(pt&6)!==0)throw Error(r(331));var D=pt;if(pt|=4,l_(v.current),i_(v,v.current,A,l),pt=D,Nu(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(be,v)}catch{}return!0}finally{Z.p=g,K.T=u,T_(s,a)}}function A_(s,a,l){a=Pr(l,a),a=zg(s.stateNode,a,2),s=ta(s,a,2),s!==null&&(Cr(s,2),Ds(s))}function Et(s,a,l){if(s.tag===3)A_(s,s,l);else for(;a!==null;){if(a.tag===3){A_(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ua===null||!ua.has(u))){s=Pr(l,s),l=I2(2),u=ta(a,l,2),u!==null&&(D2(l,u,a,s),Cr(u,2),Ds(u));break}}a=a.return}}function my(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new r5;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(sy=!0,g.add(l),s=l5.bind(null,s,a,l),a.then(s,s))}function l5(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,At===s&&(at&l)===l&&(Ut===4||Ut===3&&(at&62914560)===at&&300>bn()-oy?(pt&2)===0&&jl(s,0):iy|=l,Nl===at&&(Nl=0)),Ds(s)}function R_(s,a){a===0&&(a=qi()),s=ml(s,a),s!==null&&(Cr(s,a),Ds(s))}function c5(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),R_(s,l)}function u5(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),R_(s,l)}function d5(s,a){return wr(s,a)}var bh=null,Pl=null,py=!1,_h=!1,gy=!1,To=0;function Ds(s){s!==Pl&&s.next===null&&(Pl===null?bh=Pl=s:Pl=Pl.next=s),_h=!0,py||(py=!0,h5())}function Nu(s,a){if(!gy&&_h){gy=!0;do for(var l=!1,u=bh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var A=u.suspendedLanes,D=u.pingedLanes;v=(1<<31-ct(42|s)+1)-1,v&=g&~(A&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,D_(u,v))}else v=at,v=Sr(u,u===At?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ar(u,v)||(l=!0,D_(u,v));u=u.next}while(l);gy=!1}}function f5(){C_()}function C_(){_h=py=!1;var s=0;To!==0&&(_5()&&(s=To),To=0);for(var a=bn(),l=null,u=bh;u!==null;){var g=u.next,v=N_(u,a);v===0?(u.next=null,l===null?bh=g:l.next=g,g===null&&(Pl=l)):(l=u,(s!==0||(v&3)!==0)&&(_h=!0)),u=g}Nu(s)}function N_(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var A=31-ct(v),D=1<<A,$=g[A];$===-1?((D&l)===0||(D&u)!==0)&&(g[A]=Zr(D,a)):$<=a&&(s.expiredLanes|=D),v&=~D}if(a=At,l=at,l=Sr(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(gt===2||gt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ur(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ar(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&ur(u),lt(l)){case 2:case 8:l=q;break;case 32:l=ee;break;case 268435456:l=_e;break;default:l=ee}return u=I_.bind(null,s),l=wr(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&ur(u),s.callbackPriority=2,s.callbackNode=null,2}function I_(s,a){if(Tn!==0&&Tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(xh()&&s.callbackNode!==l)return null;var u=at;return u=Sr(s,s===At?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(f_(s,u,a),N_(s,bn()),s.callbackNode!=null&&s.callbackNode===l?I_.bind(null,s):null)}function D_(s,a){if(xh())return null;f_(s,a,!0)}function h5(){E5(function(){(pt&6)!==0?wr(Xr,f5):C_()})}function yy(){return To===0&&(To=$i()),To}function j_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:nl(""+s)}function M_(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function m5(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var v=j_((g[rt]||null).action),A=u.submitter;A&&(a=(a=A[rt]||null)?j_(a.formAction):A.getAttribute("formAction"),a!==null&&(v=a,A=null));var D=new rl("action","action",null,u,g);s.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(To!==0){var $=A?M_(g,A):new FormData(g);Vg(l,{pending:!0,data:$,method:g.method,action:v},null,$)}}else typeof v=="function"&&(D.preventDefault(),$=A?M_(g,A):new FormData(g),Vg(l,{pending:!0,data:$,method:g.method,action:v},v,$))},currentTarget:g}]})}}for(var vy=0;vy<ng.length;vy++){var xy=ng[vy],p5=xy.toLowerCase(),g5=xy[0].toUpperCase()+xy.slice(1);ts(p5,"on"+g5)}ts(fb,"onAnimationEnd"),ts(hb,"onAnimationIteration"),ts(mb,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(M6,"onTransitionRun"),ts(P6,"onTransitionStart"),ts(k6,"onTransitionCancel"),ts(pb,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function P_(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;e:{var v=void 0;if(a)for(var A=u.length-1;0<=A;A--){var D=u[A],$=D.instance,J=D.currentTarget;if(D=D.listener,$!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=J;try{v(g)}catch(ae){lh(ae)}g.currentTarget=null,v=$}else for(A=0;A<u.length;A++){if(D=u[A],$=D.instance,J=D.currentTarget,D=D.listener,$!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=J;try{v(g)}catch(ae){lh(ae)}g.currentTarget=null,v=$}}}}function Je(s,a){var l=a[Bc];l===void 0&&(l=a[Bc]=new Set);var u=s+"__bubble";l.has(u)||(k_(a,s,2,!1),l.add(u))}function by(s,a,l){var u=0;a&&(u|=4),k_(l,s,u,a)}var wh="_reactListening"+Math.random().toString(36).slice(2);function _y(s){if(!s[wh]){s[wh]=!0,zc.forEach(function(l){l!=="selectionchange"&&(y5.has(l)||by(l,!1,s),by(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[wh]||(a[wh]=!0,by("selectionchange",!1,a))}}function k_(s,a,l,u){switch(iw(a)){case 2:var g=$5;break;case 8:g=q5;break;default:g=ky}l=g.bind(null,a,l,s),g=void 0,!jr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function wy(s,a,l,u,g){var v=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var D=u.stateNode.containerInfo;if(D===g)break;if(A===4)for(A=u.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;D!==null;){if(A=ri(D),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){u=v=A;continue e}D=D.parentNode}}u=u.return}Tf(function(){var J=v,ae=Dr(l),ce=[];e:{var te=gb.get(s);if(te!==void 0){var ne=rl,Fe=s;switch(s){case"keypress":if(ws(l)===0)break e;case"keydown":case"keyup":ne=cl;break;case"focusin":Fe="focus",ne=al;break;case"focusout":Fe="blur",ne=al;break;case"beforeblur":case"afterblur":ne=al;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=jf;break;case fb:case hb:case mb:ne=ol;break;case pb:ne=Pf;break;case"scroll":case"scrollend":ne=Sf;break;case"wheel":ne=ul;break;case"copy":case"cut":case"paste":ne=ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=eu;break;case"toggle":case"beforetoggle":ne=Of}var ke=(a&4)!==0,_t=!ke&&(s==="scroll"||s==="scrollend"),Y=ke?te!==null?te+"Capture":null:te;ke=[];for(var G=J,X;G!==null;){var oe=G;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=no(G,Y),oe!=null&&ke.push(Du(G,oe,X))),_t)break;G=G.return}0<ke.length&&(te=new ne(te,Fe,null,l,ae),ce.push({event:te,listeners:ke}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==oi&&(Fe=l.relatedTarget||l.fromElement)&&(ri(Fe)||Fe[Nr]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Fe=l.relatedTarget||l.toElement,ne=J,Fe=Fe?ri(Fe):null,Fe!==null&&(_t=o(Fe),ke=Fe.tag,Fe!==_t||ke!==5&&ke!==27&&ke!==6)&&(Fe=null)):(ne=null,Fe=J),ne!==Fe)){if(ke=Mr,oe="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ke=eu,oe="onPointerLeave",Y="onPointerEnter",G="pointer"),_t=ne==null?te:vs(ne),X=Fe==null?te:vs(Fe),te=new ke(oe,G+"leave",ne,l,ae),te.target=_t,te.relatedTarget=X,oe=null,ri(ae)===J&&(ke=new ke(Y,G+"enter",Fe,l,ae),ke.target=X,ke.relatedTarget=_t,oe=ke),_t=oe,ne&&Fe)t:{for(ke=ne,Y=Fe,G=0,X=ke;X;X=kl(X))G++;for(X=0,oe=Y;oe;oe=kl(oe))X++;for(;0<G-X;)ke=kl(ke),G--;for(;0<X-G;)Y=kl(Y),X--;for(;G--;){if(ke===Y||Y!==null&&ke===Y.alternate)break t;ke=kl(ke),Y=kl(Y)}ke=null}else ke=null;ne!==null&&O_(ce,te,ne,ke,!1),Fe!==null&&_t!==null&&O_(ce,_t,Fe,ke,!0)}}e:{if(te=J?vs(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ae=tb;else if(rn(te))if(nb)Ae=I6;else{Ae=C6;var Xe=R6}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Kc(J.elementType)&&(Ae=tb):Ae=N6;if(Ae&&(Ae=Ae(s,J))){fi(ce,Ae,l,ae);break e}Xe&&Xe(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Qi(te,"number",te.value)}switch(Xe=J?vs(J):window,s){case"focusin":(rn(Xe)||Xe.contentEditable==="true")&&(dl=Xe,Jp=J,ru=null);break;case"focusout":ru=Jp=dl=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,ub(ce,l,ae);break;case"selectionchange":if(j6)break;case"keydown":case"keyup":ub(ce,l,ae)}var je;if(Ss)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else st?se(s,l)&&(Ve="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(T&&l.locale!=="ko"&&(st||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&st&&(je=Wc()):(_s=ae,Xi="value"in _s?_s.value:_s.textContent,st=!0)),Xe=Eh(J,Ve),0<Xe.length&&(Ve=new Zc(Ve,s,null,l,ae),ce.push({event:Ve,listeners:Xe}),je?Ve.data=je:(je=ye(l),je!==null&&(Ve.data=je)))),(je=_?nn(s,l):it(s,l))&&(Ve=Eh(J,"onBeforeInput"),0<Ve.length&&(Xe=new Zc("onBeforeInput","beforeinput",null,l,ae),ce.push({event:Xe,listeners:Ve}),Xe.data=je)),m5(ce,s,J,l,ae)}P_(ce,a)})}function Du(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Eh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=no(s,l),g!=null&&u.unshift(Du(s,g,v)),g=no(s,a),g!=null&&u.push(Du(s,g,v))),s.tag===3)return u;s=s.return}return[]}function kl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function O_(s,a,l,u,g){for(var v=a._reactName,A=[];l!==null&&l!==u;){var D=l,$=D.alternate,J=D.stateNode;if(D=D.tag,$!==null&&$===u)break;D!==5&&D!==26&&D!==27||J===null||($=J,g?(J=no(l,v),J!=null&&A.unshift(Du(l,J,$))):g||(J=no(l,v),J!=null&&A.push(Du(l,J,$)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var v5=/\r\n?/g,x5=/\u0000|\uFFFD/g;function V_(s){return(typeof s=="string"?s:""+s).replace(v5,`
`).replace(x5,"")}function L_(s,a){return a=V_(a),V_(s)===a}function Th(){}function bt(s,a,l,u,g,v){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ir(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ir(s,""+u);break;case"className":xs(s,"class",u);break;case"tabIndex":xs(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(s,l,u);break;case"style":Gc(s,u,v);break;case"data":if(a!=="object"){xs(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=nl(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&bt(s,a,"name",g.name,g,null),bt(s,a,"formEncType",g.formEncType,g,null),bt(s,a,"formMethod",g.formMethod,g,null),bt(s,a,"formTarget",g.formTarget,g,null)):(bt(s,a,"encType",g.encType,g,null),bt(s,a,"method",g.method,g,null),bt(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=nl(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Th);break;case"onScroll":u!=null&&Je("scroll",s);break;case"onScrollEnd":u!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=nl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Wi(s,"popover",u);break;case"xlinkActuate":_n(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_n(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_n(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_n(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_n(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_n(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_n(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_n(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_n(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wi(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gp.get(l)||l,Wi(s,l,u))}}function Ey(s,a,l,u,g,v){switch(l){case"style":Gc(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Ir(s,u):(typeof u=="number"||typeof u=="bigint")&&Ir(s,""+u);break;case"onScroll":u!=null&&Je("scroll",s);break;case"onScrollEnd":u!=null&&Je("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),v=s[rt]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(a,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wi(s,l,u)}}}function Sn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,v,A,l,null)}}g&&bt(s,a,"srcSet",l.srcSet,l,null),u&&bt(s,a,"src",l.src,l,null);return;case"input":Je("invalid",s);var D=v=A=g=null,$=null,J=null;for(u in l)if(l.hasOwnProperty(u)){var ae=l[u];if(ae!=null)switch(u){case"name":g=ae;break;case"type":A=ae;break;case"checked":$=ae;break;case"defaultChecked":J=ae;break;case"value":v=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:bt(s,a,u,ae,l,null)}}Ja(s,v,D,$,J,A,g,!1),tl(s);return;case"select":Je("invalid",s),u=A=v=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":v=D;break;case"defaultValue":A=D;break;case"multiple":u=D;default:bt(s,a,g,D,l,null)}a=v,l=A,s.multiple=!!u,a!=null?ai(s,!!u,a,!1):l!=null&&ai(s,!!u,l,!0);return;case"textarea":Je("invalid",s),v=g=u=null;for(A in l)if(l.hasOwnProperty(A)&&(D=l[A],D!=null))switch(A){case"value":u=D;break;case"defaultValue":g=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:bt(s,a,A,D,l,null)}eo(s,u,g,v),tl(s);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(u=l[$],u!=null))switch($){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:bt(s,a,$,u,l,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(u=0;u<Iu.length;u++)Je(Iu[u],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(u=l[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,J,u,l,null)}return;default:if(Kc(a)){for(ae in l)l.hasOwnProperty(ae)&&(u=l[ae],u!==void 0&&Ey(s,a,ae,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&bt(s,a,D,u,l,null))}function b5(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,D=null,$=null,J=null,ae=null;for(ne in l){var ce=l[ne];if(l.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=ce;default:u.hasOwnProperty(ne)||bt(s,a,ne,null,u,ce)}}for(var te in u){var ne=u[te];if(ce=l[te],u.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":v=ne;break;case"name":g=ne;break;case"checked":J=ne;break;case"defaultChecked":ae=ne;break;case"value":A=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==ce&&bt(s,a,te,ne,u,ce)}}dr(s,A,D,$,J,ae,v,g);return;case"select":ne=A=D=te=null;for(v in l)if($=l[v],l.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":ne=$;default:u.hasOwnProperty(v)||bt(s,a,v,null,u,$)}for(g in u)if(v=u[g],$=l[g],u.hasOwnProperty(g)&&(v!=null||$!=null))switch(g){case"value":te=v;break;case"defaultValue":D=v;break;case"multiple":A=v;default:v!==$&&bt(s,a,g,v,u,$)}a=D,l=A,u=ne,te!=null?ai(s,!!l,te,!1):!!u!=!!l&&(a!=null?ai(s,!!l,a,!0):ai(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:bt(s,a,D,null,u,g)}for(A in u)if(g=u[A],v=l[A],u.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":te=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&bt(s,a,A,g,u,v)}vt(s,te,ne);return;case"option":for(var Fe in l)if(te=l[Fe],l.hasOwnProperty(Fe)&&te!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":s.selected=!1;break;default:bt(s,a,Fe,null,u,te)}for($ in u)if(te=u[$],ne=l[$],u.hasOwnProperty($)&&te!==ne&&(te!=null||ne!=null))switch($){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:bt(s,a,$,te,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)te=l[ke],l.hasOwnProperty(ke)&&te!=null&&!u.hasOwnProperty(ke)&&bt(s,a,ke,null,u,te);for(J in u)if(te=u[J],ne=l[J],u.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:bt(s,a,J,te,u,ne)}return;default:if(Kc(a)){for(var _t in l)te=l[_t],l.hasOwnProperty(_t)&&te!==void 0&&!u.hasOwnProperty(_t)&&Ey(s,a,_t,void 0,u,te);for(ae in u)te=u[ae],ne=l[ae],!u.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||Ey(s,a,ae,te,u,ne);return}}for(var Y in l)te=l[Y],l.hasOwnProperty(Y)&&te!=null&&!u.hasOwnProperty(Y)&&bt(s,a,Y,null,u,te);for(ce in u)te=u[ce],ne=l[ce],!u.hasOwnProperty(ce)||te===ne||te==null&&ne==null||bt(s,a,ce,te,u,ne)}var Ty=null,Sy=null;function Sh(s){return s.nodeType===9?s:s.ownerDocument}function U_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ay(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ry=null;function _5(){var s=window.event;return s&&s.type==="popstate"?s===Ry?!1:(Ry=s,!0):(Ry=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,w5=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(s){return z_.resolve(null).then(s).catch(T5)}:B_;function T5(s){setTimeout(function(){throw s})}function ha(s){return s==="head"}function H_(s,a){var l=a,u=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var A=s.ownerDocument;if(l&1&&ju(A.documentElement),l&2&&ju(A.body),l&4)for(l=A.head,ju(l),A=l.firstChild;A;){var D=A.nextSibling,$=A.nodeName;A[Wa]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=D}}if(g===0){s.removeChild(v),Fu(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);Fu(a)}function Cy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cy(l),Yi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function S5(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Wa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=rs(s.nextSibling),s===null)break}return null}function A5(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=rs(s.nextSibling),s===null))return null;return s}function Ny(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function R5(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function rs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Iy=null;function $_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function q_(s,a,l){switch(a=Sh(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ju(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Yi(s)}var Fr=new Map,G_=new Set;function Ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Si=Z.d;Z.d={f:C5,r:N5,D:I5,C:D5,L:j5,m:M5,X:k5,S:P5,M:O5};function C5(){var s=Si.f(),a=yh();return s||a}function N5(s){var a=ys(s);a!==null&&a.tag===5&&a.type==="form"?f2(a):Si.r(s)}var Ol=typeof document>"u"?null:document;function K_(s,a,l){var u=Ol;if(u&&typeof a=="string"&&a){var g=Yt(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),G_.has(g)||(G_.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Sn(a,"link",s),Bt(a),u.head.appendChild(a)))}}function I5(s){Si.D(s),K_("dns-prefetch",s,null)}function D5(s,a){Si.C(s,a),K_("preconnect",s,a)}function j5(s,a,l){Si.L(s,a,l);var u=Ol;if(u&&s&&a){var g='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Yt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Yt(l.imageSizes)+'"]')):g+='[href="'+Yt(s)+'"]';var v=g;switch(a){case"style":v=Vl(s);break;case"script":v=Ll(s)}Fr.has(v)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Fr.set(v,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Mu(v))||a==="script"&&u.querySelector(Pu(v))||(a=u.createElement("link"),Sn(a,"link",s),Bt(a),u.head.appendChild(a)))}}function M5(s,a){Si.m(s,a);var l=Ol;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Yt(u)+'"][href="'+Yt(s)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ll(s)}if(!Fr.has(v)&&(s=y({rel:"modulepreload",href:s},a),Fr.set(v,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pu(v)))return}u=l.createElement("link"),Sn(u,"link",s),Bt(u),l.head.appendChild(u)}}}function P5(s,a,l){Si.S(s,a,l);var u=Ol;if(u&&s){var g=Hn(u).hoistableStyles,v=Vl(s);a=a||"default";var A=g.get(v);if(!A){var D={loading:0,preload:null};if(A=u.querySelector(Mu(v)))D.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Fr.get(v))&&Dy(s,l);var $=A=u.createElement("link");Bt($),Sn($,"link",s),$._p=new Promise(function(J,ae){$.onload=J,$.onerror=ae}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rh(A,a,u)}A={type:"stylesheet",instance:A,count:1,state:D},g.set(v,A)}}}function k5(s,a){Si.X(s,a);var l=Ol;if(l&&s){var u=Hn(l).hoistableScripts,g=Ll(s),v=u.get(g);v||(v=l.querySelector(Pu(g)),v||(s=y({src:s,async:!0},a),(a=Fr.get(g))&&jy(s,a),v=l.createElement("script"),Bt(v),Sn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function O5(s,a){Si.M(s,a);var l=Ol;if(l&&s){var u=Hn(l).hoistableScripts,g=Ll(s),v=u.get(g);v||(v=l.querySelector(Pu(g)),v||(s=y({src:s,async:!0,type:"module"},a),(a=Fr.get(g))&&jy(s,a),v=l.createElement("script"),Bt(v),Sn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Y_(s,a,l,u){var g=(g=Ce.current)?Ah(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Vl(l.href),l=Hn(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Vl(l.href);var v=Hn(g).hoistableStyles,A=v.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,A),(v=g.querySelector(Mu(s)))&&!v._p&&(A.instance=v,A.state.loading=5),Fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fr.set(s,l),v||V5(g,s,l,A.state))),a&&u===null)throw Error(r(528,""));return A}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ll(l),l=Hn(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Vl(s){return'href="'+Yt(s)+'"'}function Mu(s){return'link[rel="stylesheet"]['+s+"]"}function W_(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function V5(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Sn(a,"link",l),Bt(a),s.head.appendChild(a))}function Ll(s){return'[src="'+Yt(s)+'"]'}function Pu(s){return"script[async]"+s}function Q_(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Yt(l.href)+'"]');if(u)return a.instance=u,Bt(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Bt(u),Sn(u,"style",g),Rh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Vl(l.href);var v=s.querySelector(Mu(g));if(v)return a.state.loading|=4,a.instance=v,Bt(v),v;u=W_(l),(g=Fr.get(g))&&Dy(u,g),v=(s.ownerDocument||s).createElement("link"),Bt(v);var A=v;return A._p=new Promise(function(D,$){A.onload=D,A.onerror=$}),Sn(v,"link",u),a.state.loading|=4,Rh(v,l.precedence,s),a.instance=v;case"script":return v=Ll(l.src),(g=s.querySelector(Pu(v)))?(a.instance=g,Bt(g),g):(u=l,(g=Fr.get(v))&&(u=y({},l),jy(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Bt(g),Sn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Rh(u,l.precedence,s));return a.instance}function Rh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,A=0;A<u.length;A++){var D=u[A];if(D.dataset.precedence===a)v=D;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Dy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function jy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ch=null;function X_(s,a,l){if(Ch===null){var u=new Map,g=Ch=new Map;g.set(l,u)}else g=Ch,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Wa]||v[et]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(a)||"";A=s+A;var D=u.get(A);D?D.push(v):u.set(A,[v])}}return u}function Z_(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function L5(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ku=null;function U5(){}function F5(s,a,l){if(ku===null)throw Error(r(475));var u=ku;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Vl(l.href),v=s.querySelector(Mu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Nh.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=v,Bt(v);return}v=s.ownerDocument||s,l=W_(l),(g=Fr.get(g))&&Dy(l,g),v=v.createElement("link"),Bt(v);var A=v;A._p=new Promise(function(D,$){A.onload=D,A.onerror=$}),Sn(v,"link",l),a.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Nh.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function B5(){if(ku===null)throw Error(r(475));var s=ku;return s.stylesheets&&s.count===0&&My(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&My(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)My(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ih=null;function My(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ih=new Map,a.forEach(z5,s),Ih=null,Nh.call(s))}function z5(s,a){if(!(a.state.loading&4)){var l=Ih.get(s);if(l)var u=l.get(null);else{l=new Map,Ih.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),u=A)}u&&l.set(null,u)}g=a.instance,A=g.getAttribute("data-precedence"),v=l.get(A)||u,v===u&&l.set(null,g),l.set(A,g),this.count++,u=Nh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Ou={$$typeof:R,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function H5(s,a,l,u,g,v,A,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ew(s,a,l,u,g,v,A,D,$,J,ae,ce){return s=new H5(s,a,l,A,D,$,J,ce),a=1,v===!0&&(a|=24),v=hr(3,null,null,a),s.current=v,v.stateNode=s,a=mg(),a.refCount++,s.pooledCache=a,a.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:a},vg(v),s}function tw(s){return s?(s=pl,s):pl}function nw(s,a,l,u,g,v){g=tw(g),u.context===null?u.context=g:u.pendingContext=g,u=ea(a),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=ta(s,u,a),l!==null&&(vr(l,s,a),fu(l,s,a))}function rw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Py(s,a){rw(s,a),(s=s.alternate)&&rw(s,a)}function sw(s){if(s.tag===13){var a=ml(s,67108864);a!==null&&vr(a,s,67108864),Py(s,67108864)}}var Dh=!0;function $5(s,a,l,u){var g=K.T;K.T=null;var v=Z.p;try{Z.p=2,ky(s,a,l,u)}finally{Z.p=v,K.T=g}}function q5(s,a,l,u){var g=K.T;K.T=null;var v=Z.p;try{Z.p=8,ky(s,a,l,u)}finally{Z.p=v,K.T=g}}function ky(s,a,l,u){if(Dh){var g=Oy(u);if(g===null)wy(s,a,u,jh,l),aw(s,u);else if(K5(g,s,a,l,u))u.stopPropagation();else if(aw(s,u),a&4&&-1<G5.indexOf(s)){for(;g!==null;){var v=ys(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=In(v.pendingLanes);if(A!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var $=1<<31-ct(A);D.entanglements[1]|=$,A&=~$}Ds(v),(pt&6)===0&&(ph=bn()+500,Nu(0))}}break;case 13:D=ml(v,2),D!==null&&vr(D,v,2),yh(),Py(v,2)}if(v=Oy(u),v===null&&wy(s,a,u,jh,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else wy(s,a,u,null,l)}}function Oy(s){return s=Dr(s),Vy(s)}var jh=null;function Vy(s){if(jh=null,s=ri(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return jh=s,null}function iw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ya()){case Xr:return 2;case q:return 8;case ee:case ie:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Ly=!1,ma=null,pa=null,ga=null,Vu=new Map,Lu=new Map,ya=[],G5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aw(s,a){switch(s){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Vu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(a.pointerId)}}function Uu(s,a,l,u,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},a!==null&&(a=ys(a),a!==null&&sw(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function K5(s,a,l,u,g){switch(a){case"focusin":return ma=Uu(ma,s,a,l,u,g),!0;case"dragenter":return pa=Uu(pa,s,a,l,u,g),!0;case"mouseover":return ga=Uu(ga,s,a,l,u,g),!0;case"pointerover":var v=g.pointerId;return Vu.set(v,Uu(Vu.get(v)||null,s,a,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Lu.set(v,Uu(Lu.get(v)||null,s,a,l,u,g)),!0}return!1}function ow(s){var a=ri(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,tn(s.priority,function(){if(l.tag===13){var u=yr();u=dt(u);var g=ml(l,u);g!==null&&vr(g,l,u),Py(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Oy(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);oi=u,l.target.dispatchEvent(u),oi=null}else return a=ys(l),a!==null&&sw(a),s.blockedOn=l,!1;a.shift()}return!0}function lw(s,a,l){Mh(s)&&l.delete(a)}function Y5(){Ly=!1,ma!==null&&Mh(ma)&&(ma=null),pa!==null&&Mh(pa)&&(pa=null),ga!==null&&Mh(ga)&&(ga=null),Vu.forEach(lw),Lu.forEach(lw)}function Ph(s,a){s.blockedOn===a&&(s.blockedOn=null,Ly||(Ly=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y5)))}var kh=null;function cw(s){kh!==s&&(kh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kh===s&&(kh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Vy(u||l)===null)continue;break}var v=ys(l);v!==null&&(s.splice(a,3),a-=3,Vg(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Fu(s){function a($){return Ph($,s)}ma!==null&&Ph(ma,s),pa!==null&&Ph(pa,s),ga!==null&&Ph(ga,s),Vu.forEach(a),Lu.forEach(a);for(var l=0;l<ya.length;l++){var u=ya[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ya.length&&(l=ya[0],l.blockedOn===null);)ow(l),l.blockedOn===null&&ya.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],A=g[rt]||null;if(typeof v=="function")A||cw(l);else if(A){var D=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[rt]||null)D=A.formAction;else if(Vy(g)!==null)continue}else D=A.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),cw(l)}}}function Uy(s){this._internalRoot=s}Oh.prototype.render=Uy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=yr();nw(l,u,s,a,null,null)},Oh.prototype.unmount=Uy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;nw(s.current,2,null,s,null,null),yh(),a[Nr]=null}};function Oh(s){this._internalRoot=s}Oh.prototype.unstable_scheduleHydration=function(s){if(s){var a=yt();s={blockedOn:null,target:s,priority:a};for(var l=0;l<ya.length&&a!==0&&a<ya[l].priority;l++);ya.splice(l,0,s),l===0&&ow(s)}};var uw=e.version;if(uw!=="19.1.0")throw Error(r(527,uw,"19.1.0"));Z.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var W5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{be=Vh.inject(W5),Re=Vh}catch{}}return zu.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,u="",g=A2,v=R2,A=C2,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=ew(s,1,!1,null,null,l,u,g,v,A,D,null),s[Nr]=a.current,_y(s),new Uy(a)},zu.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var u=!1,g="",v=A2,A=R2,D=C2,$=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=ew(s,1,!0,a,l??null,u,g,v,A,D,$,J),a.context=tw(null),l=a.current,u=yr(),u=dt(u),g=ea(u),g.callback=null,ta(l,g,u),l=u,a.current.lanes=l,Cr(a,l),Ds(a),s[Nr]=a.current,_y(s),new Oh(a)},zu.version="19.1.0",zu}var bw;function aI(){if(bw)return zy.exports;bw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zy.exports=iI(),zy.exports}var oI=aI(),Hu={},_w;function lI(){if(_w)return Hu;_w=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.parse=c,Hu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const S=new o,C=b.length;if(C<2)return S;const N=(w==null?void 0:w.decode)||y;let M=0;do{const I=b.indexOf("=",M);if(I===-1)break;const R=b.indexOf(";",M),k=R===-1?C:R;if(I>k){M=b.lastIndexOf(";",I-1)+1;continue}const F=d(b,M,I),W=f(b,I,F),V=b.slice(F,W);if(S[V]===void 0){let j=d(b,I+1,k),O=f(b,k,j);const U=N(b.slice(j,O));S[V]=U}M=k+1}while(M<C);return S}function d(b,w,S){do{const C=b.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<S);return S}function f(b,w,S){for(;w>S;){const C=b.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return S}function m(b,w,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=C(w);if(!e.test(N))throw new TypeError(`argument val is invalid: ${w}`);let M=b+"="+N;if(!S)return M;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);M+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);M+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);M+="; Path="+S.path}if(S.expires){if(!x(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);M+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(M+="; HttpOnly"),S.secure&&(M+="; Secure"),S.partitioned&&(M+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return M}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return i.call(b)==="[object Date]"}return Hu}lI();var ww="popstate";function cI(t={}){function e(r,i){let{pathname:o,search:c,hash:d}=r.location;return P0("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_d(i)}return dI(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uI(){return Math.random().toString(36).substring(2,10)}function Ew(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_c(e):e,state:n,key:e&&e.key||r||uI()}}function _d({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dI(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function x(){d="POP";let N=y(),M=N==null?null:N-m;m=N,f&&f({action:d,location:C.location,delta:M})}function b(N,M){d="PUSH";let I=P0(C.location,N,M);m=y()+1;let R=Ew(I,m),k=C.createHref(I);try{c.pushState(R,"",k)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(k)}o&&f&&f({action:d,location:C.location,delta:1})}function w(N,M){d="REPLACE";let I=P0(C.location,N,M);m=y();let R=Ew(I,m),k=C.createHref(I);c.replaceState(R,"",k),o&&f&&f({action:d,location:C.location,delta:0})}function S(N){let M=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof N=="string"?N:_d(N);return I=I.replace(/ $/,"%20"),Dt(M,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,M)}let C={get action(){return d},get location(){return t(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(ww,x),f=N,()=>{i.removeEventListener(ww,x),f=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let M=S(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:w,go(N){return c.go(N)}};return C}function wS(t,e,n="/"){return fI(t,e,n,!1)}function fI(t,e,n,r){let i=typeof e=="string"?_c(e):e,o=Mi(i.pathname||"/",n);if(o==null)return null;let c=ES(t);hI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=TI(o);d=wI(c[f],m,r)}return d}function ES(t,e=[],n=[],r=""){let i=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ii([r,f.relativePath]),y=n.concat(f);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ES(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:bI(m,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let f of TS(o.path))i(o,c,f)}),e}function TS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=TS(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function hI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_I(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mI=/^:[\w-]+$/,pI=3,gI=2,yI=1,vI=10,xI=-2,Tw=t=>t==="*";function bI(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=xI),e&&(r+=gI),n.filter(i=>!Tw(i)).reduce((i,o)=>i+(mI.test(o)?pI:o===""?yI:vI),r)}function _I(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wI(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Ii([o,x.pathname]),pathnameBase:CI(Ii([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Ii([o,x.pathnameBase]))}return c}function _m(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:x},b)=>{if(y==="*"){let S=d[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[b];return x&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function EI(t,e=!1,n=!0){cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_c(t):t;return{pathname:n?n.startsWith("/")?n:AI(n,e):e,search:NI(r),hash:II(i)}}function AI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gv(t){let e=RI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Kv(t,e,n,r=!1){let i;typeof t=="string"?i=_c(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),Gy("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Gy("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Gy("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=SI(i,d),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ii=t=>t.join("/").replace(/\/\/+/g,"/"),CI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,II=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var jI=["GET",...SS];new Set(jI);var wc=E.createContext(null);wc.displayName="DataRouter";var ap=E.createContext(null);ap.displayName="DataRouterState";var AS=E.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var MI=E.createContext(new Map);MI.displayName="Fetchers";var PI=E.createContext(null);PI.displayName="Await";var hs=E.createContext(null);hs.displayName="Navigation";var qd=E.createContext(null);qd.displayName="Location";var Yr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Yv=E.createContext(null);Yv.displayName="RouteError";function kI(t,{relative:e}={}){Dt(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(hs),{hash:i,pathname:o,search:c}=Gd(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Ii([n,o])),r.createHref({pathname:d,search:c,hash:i})}function Ec(){return E.useContext(qd)!=null}function Js(){return Dt(Ec(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(qd).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(t){E.useContext(hs).static||E.useLayoutEffect(t)}function Wr(){let{isDataRoute:t}=E.useContext(Yr);return t?XI():OI()}function OI(){Dt(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(wc),{basename:e,navigator:n}=E.useContext(hs),{matches:r}=E.useContext(Yr),{pathname:i}=Js(),o=JSON.stringify(Gv(r)),c=E.useRef(!1);return CS(()=>{c.current=!0}),E.useCallback((f,m={})=>{if(cs(c.current,RS),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=Kv(f,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ii([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,i,t])}var VI=E.createContext(null);function LI(t){let e=E.useContext(Yr).outlet;return e&&E.createElement(VI.Provider,{value:t},e)}function UI(){let{matches:t}=E.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function Gd(t,{relative:e}={}){let{matches:n}=E.useContext(Yr),{pathname:r}=Js(),i=JSON.stringify(Gv(n));return E.useMemo(()=>Kv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function FI(t,e){return NS(t,e)}function NS(t,e,n,r){var I;Dt(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=E.useContext(hs),{matches:c}=E.useContext(Yr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",x=d&&d.route;{let R=x&&x.path||"";IS(m,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Js(),w;if(e){let R=typeof e=="string"?_c(e):e;Dt(y==="/"||((I=R.pathname)==null?void 0:I.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let S=w.pathname||"/",C=S;if(y!=="/"){let R=y.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=!o&&n&&n.matches&&n.matches.length>0?n.matches:wS(t,{pathname:C});cs(x||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),cs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=qI(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Ii([y,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Ii([y,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r);return e&&M?E.createElement(qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function BI(){let t=QI(),e=DI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,c)}var zI=E.createElement(BI,null),HI=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Yr.Provider,{value:this.props.routeContext},E.createElement(Yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $I({routeContext:t,match:e,children:n}){let r=E.useContext(wc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Yr.Provider,{value:t},n)}function qI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:x}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,y)=>{let x,b=!1,w=null,S=null;n&&(x=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||zI,c&&(d<0&&y===0?(IS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===y&&(b=!0,S=m.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,y+1)),N=()=>{let M;return x?M=w:b?M=S:m.route.Component?M=E.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,E.createElement($I,{match:m,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?E.createElement(HI,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}function Wv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(t){let e=E.useContext(wc);return Dt(e,Wv(t)),e}function KI(t){let e=E.useContext(ap);return Dt(e,Wv(t)),e}function YI(t){let e=E.useContext(Yr);return Dt(e,Wv(t)),e}function Qv(t){let e=YI(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WI(){return Qv("useRouteId")}function QI(){var r;let t=E.useContext(Yv),e=KI("useRouteError"),n=Qv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XI(){let{router:t}=GI("useNavigate"),e=Qv("useNavigate"),n=E.useRef(!1);return CS(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{cs(n.current,RS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Sw={};function IS(t,e,n){!e&&!Sw[t]&&(Sw[t]=!0,cs(!1,n))}E.memo(ZI);function ZI({routes:t,future:e,state:n}){return NS(t,void 0,n,e)}function Lh({to:t,replace:e,state:n,relative:r}){Dt(Ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(hs);cs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Yr),{pathname:c}=Js(),d=Wr(),f=Kv(t,Gv(o),c,r==="path"),m=JSON.stringify(f);return E.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function DS(t){return LI(t.context)}function xr(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Dt(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=_c(n));let{pathname:f="/",search:m="",hash:y="",state:x=null,key:b="default"}=n,w=E.useMemo(()=>{let S=Mi(f,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:x,key:b},navigationType:r}},[c,f,m,y,x,b,r]);return cs(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(hs.Provider,{value:d},E.createElement(qd.Provider,{children:e,value:w}))}function e8({children:t,location:e}){return FI(k0(t),e)}function k0(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,k0(r.props.children,o));return}Dt(r.type===xr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=k0(r.props.children,o)),n.push(c)}),n}var rm="get",sm="application/x-www-form-urlencoded";function op(t){return t!=null&&typeof t.tagName=="string"}function t8(t){return op(t)&&t.tagName.toLowerCase()==="button"}function n8(t){return op(t)&&t.tagName.toLowerCase()==="form"}function r8(t){return op(t)&&t.tagName.toLowerCase()==="input"}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i8(t,e){return t.button===0&&(!e||e==="_self")&&!s8(t)}var Uh=null;function a8(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var o8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ky(t){return t!=null&&!o8.has(t)?(cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):t}function l8(t,e){let n,r,i,o,c;if(n8(t)){let d=t.getAttribute("action");r=d?Mi(d,e):null,n=t.getAttribute("method")||rm,i=Ky(t.getAttribute("enctype"))||sm,o=new FormData(t)}else if(t8(t)||r8(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Mi(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||rm,i=Ky(t.getAttribute("formenctype"))||Ky(d.getAttribute("enctype"))||sm,o=new FormData(d,t),!a8()){let{name:m,type:y,value:x}=t;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,x)}}else{if(op(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rm,r=null,i=sm,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}function Xv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function c8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function d8(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await c8(o,n);return c.links?c.links():[]}return[]}));return p8(r.flat(1).filter(u8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Aw(t,e,n,r,i,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var y;return n[m].pathname!==f.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{var x;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function f8(t,e,{includeHydrateFallback:n}={}){return h8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function h8(t){return[...new Set(t)]}function m8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function p8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(m8(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}var g8=new Set([100,101,204,205]);function y8(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Mi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function jS(){let t=E.useContext(wc);return Xv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function v8(){let t=E.useContext(ap);return Xv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zv=E.createContext(void 0);Zv.displayName="FrameworkContext";function MS(){let t=E.useContext(Zv);return Xv(t,"You must render this element inside a <HydratedRouter> element"),t}function x8(t,e){let n=E.useContext(Zv),[r,i]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=M=>{M.forEach(I=>{c(I.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),E.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:$u(d,w),onBlur:$u(f,S),onMouseEnter:$u(m,w),onMouseLeave:$u(y,S),onTouchStart:$u(x,w)}]:[!1,b,{}]}function $u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function b8({page:t,...e}){let{router:n}=jS(),r=E.useMemo(()=>wS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(w8,{page:t,matches:r,...e}):null}function _8(t){let{manifest:e,routeModules:n}=MS(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return d8(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function w8({page:t,matches:e,...n}){let r=Js(),{manifest:i,routeModules:o}=MS(),{basename:c}=jS(),{loaderData:d,matches:f}=v8(),m=E.useMemo(()=>Aw(t,e,f,i,r,"data"),[t,e,f,i,r]),y=E.useMemo(()=>Aw(t,e,f,i,r,"assets"),[t,e,f,i,r]),x=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,C=!1;if(e.forEach(M=>{var R;let I=i.routes[M.route.id];!I||!I.hasLoader||(!m.some(k=>k.route.id===M.route.id)&&M.route.id in d&&((R=o[M.route.id])!=null&&R.shouldRevalidate)||I.hasClientLoader?C=!0:S.add(M.route.id))}),S.size===0)return[];let N=y8(t,c);return C&&S.size>0&&N.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[c,d,r,i,m,e,t,o]),b=E.useMemo(()=>f8(y,i),[y,i]),w=_8(y);return E.createElement(E.Fragment,null,x.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:C})=>E.createElement("link",{key:S,...C})))}function E8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PS&&(window.__reactRouterVersion="7.5.3")}catch{}function T8({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=cI({window:n,v5Compat:!0}));let i=r.current,[o,c]=E.useState({action:i.action,location:i.location}),d=E.useCallback(f=>{E.startTransition(()=>c(f))},[c]);return E.useLayoutEffect(()=>i.listen(d),[i,d]),E.createElement(JI,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:y,viewTransition:x,...b},w){let{basename:S}=E.useContext(hs),C=typeof m=="string"&&kS.test(m),N,M=!1;if(typeof m=="string"&&C&&(N=m,PS))try{let O=new URL(window.location.href),U=m.startsWith("//")?new URL(O.protocol+m):new URL(m),B=Mi(U.pathname,S);U.origin===O.origin&&B!=null?m=B+U.search+U.hash:M=!0}catch{cs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=kI(m,{relative:i}),[R,k,F]=x8(r,b),W=C8(m,{replace:c,state:d,target:f,preventScrollReset:y,relative:i,viewTransition:x});function V(O){e&&e(O),O.defaultPrevented||W(O)}let j=E.createElement("a",{...b,...F,href:N||I,onClick:M||o?e:V,ref:E8(w,k),target:f,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?E.createElement(E.Fragment,null,j,E.createElement(b8,{page:I})):j});lr.displayName="Link";var S8=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:f,...m},y){let x=Gd(c,{relative:m.relative}),b=Js(),w=E.useContext(ap),{navigator:S,basename:C}=E.useContext(hs),N=w!=null&&M8(x)&&d===!0,M=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,I=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&C&&(R=Mi(R,C)||R);const k=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=I===M||!i&&I.startsWith(M)&&I.charAt(k)==="/",W=R!=null&&(R===M||!i&&R.startsWith(M)&&R.charAt(M.length)==="/"),V={isActive:F,isPending:W,isTransitioning:N},j=F?e:void 0,O;typeof r=="function"?O=r(V):O=[r,F?"active":null,W?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(V):o;return E.createElement(lr,{...m,"aria-current":j,className:O,ref:y,style:U,to:c,viewTransition:d},typeof f=="function"?f(V):f)});S8.displayName="NavLink";var A8=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=rm,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:x,...b},w)=>{let S=D8(),C=j8(d,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&kS.test(d),I=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let k=R.nativeEvent.submitter,F=(k==null?void 0:k.getAttribute("formmethod"))||c;S(k||R.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:o,relative:m,preventScrollReset:y,viewTransition:x})};return E.createElement("form",{ref:w,method:N,action:C,onSubmit:r?f:I,...b,"data-discover":!M&&t==="render"?"true":void 0})});A8.displayName="Form";function R8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(t){let e=E.useContext(wc);return Dt(e,R8(t)),e}function C8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Wr(),f=Js(),m=Gd(t,{relative:o});return E.useCallback(y=>{if(i8(y,e)){y.preventDefault();let x=n!==void 0?n:_d(f)===_d(m);d(t,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[f,d,m,n,r,e,t,i,o,c])}var N8=0,I8=()=>`__${String(++N8)}__`;function D8(){let{router:t}=OS("useSubmit"),{basename:e}=E.useContext(hs),n=WI();return E.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:f,body:m}=l8(r,e);if(i.navigate===!1){let y=i.fetcherKey||I8();await t.fetch(y,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function j8(t,{relative:e}={}){let{basename:n}=E.useContext(hs),r=E.useContext(Yr);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Gd(t||".",{relative:e})},c=Js();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ii([n,o.pathname])),_d(o)}function M8(t,e={}){let n=E.useContext(AS);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OS("useViewTransitionState"),i=Gd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _m(i.pathname,c)!=null||_m(i.pathname,o)!=null}new TextEncoder;[...g8];var Gr=_S();const Jv=E.createContext({});function ex(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const tx=typeof window<"u",VS=tx?E.useLayoutEffect:E.useEffect,lp=E.createContext(null),nx=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class P8 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k8({children:t,isPresent:e,anchorX:n}){const r=E.useId(),i=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=E.useContext(nx);return E.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:y,right:x}=o.current;if(e||!i.current||!d||!f)return;const b=n==="left"?`left: ${y}`:`right: ${x}`;i.current.dataset.motionPopId=r;const w=document.createElement("style");return c&&(w.nonce=c),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),h.jsx(P8,{isPresent:e,childRef:i,sizeRef:o,children:E.cloneElement(t,{ref:i})})}const O8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:c,anchorX:d})=>{const f=ex(V8),m=E.useId();let y=!0,x=E.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{f.set(b,!0);for(const w of f.values())if(!w)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,r]);return o&&y&&(x={...x}),E.useMemo(()=>{f.forEach((b,w)=>f.set(w,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(t=h.jsx(k8,{isPresent:n,anchorX:d,children:t})),h.jsx(lp.Provider,{value:x,children:t})};function V8(){return new Map}function LS(t=!0){const e=E.useContext(lp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=E.useId();E.useEffect(()=>{if(t)return i(o)},[t]);const c=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const Fh=t=>t.key||"";function Rw(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const rx=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:c=!1,anchorX:d="left"})=>{const[f,m]=LS(c),y=E.useMemo(()=>Rw(t),[t]),x=c&&!f?[]:y.map(Fh),b=E.useRef(!0),w=E.useRef(y),S=ex(()=>new Map),[C,N]=E.useState(y),[M,I]=E.useState(y);VS(()=>{b.current=!1,w.current=y;for(let F=0;F<M.length;F++){const W=Fh(M[F]);x.includes(W)?S.delete(W):S.get(W)!==!0&&S.set(W,!1)}},[M,x.length,x.join("-")]);const R=[];if(y!==C){let F=[...y];for(let W=0;W<M.length;W++){const V=M[W],j=Fh(V);x.includes(j)||(F.splice(W,0,V),R.push(V))}return o==="wait"&&R.length&&(F=R),I(Rw(F)),N(y),null}const{forceRender:k}=E.useContext(Jv);return h.jsx(h.Fragment,{children:M.map(F=>{const W=Fh(F),V=c&&!f?!1:y===M||x.includes(W),j=()=>{if(S.has(W))S.set(W,!0);else return;let O=!0;S.forEach(U=>{U||(O=!1)}),O&&(k==null||k(),I(w.current),c&&(m==null||m()),r&&r())};return h.jsx(O8,{isPresent:V,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:V?void 0:j,anchorX:d,children:F},W)})})};function sx(t,e){t.indexOf(e)===-1&&t.push(e)}function ix(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pi=(t,e,n)=>n>e?e:n<t?t:n;let ax=()=>{};const ki={},US=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FS=t=>/^0[^.\s]+$/u.test(t);function ox(t){let e;return()=>(e===void 0&&(e=t()),e)}const Kr=t=>t,L8=(t,e)=>n=>e(t(n)),Kd=(...t)=>t.reduce(L8),wd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lx{constructor(){this.subscriptions=[]}add(e){return sx(this.subscriptions,e),()=>ix(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fs=t=>t*1e3,Bs=t=>t/1e3;function BS(t,e){return e?t*(1e3/e):0}const zS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,U8=1e-7,F8=12;function B8(t,e,n,r,i){let o,c,d=0;do c=e+(n-e)/2,o=zS(c,r,i)-t,o>0?n=c:e=c;while(Math.abs(o)>U8&&++d<F8);return c}function Yd(t,e,n,r){if(t===e&&n===r)return Kr;const i=o=>B8(o,0,1,t,n);return o=>o===0||o===1?o:zS(i(o),e,r)}const HS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$S=t=>e=>1-t(1-e),qS=Yd(.33,1.53,.69,.99),cx=$S(qS),GS=HS(cx),KS=t=>(t*=2)<1?.5*cx(t):.5*(2-Math.pow(2,-10*(t-1))),ux=t=>1-Math.sin(Math.acos(t)),YS=$S(ux),WS=HS(ux),z8=Yd(.42,0,1,1),H8=Yd(0,0,.58,1),QS=Yd(.42,0,.58,1),$8=t=>Array.isArray(t)&&typeof t[0]!="number",XS=t=>Array.isArray(t)&&typeof t[0]=="number",q8={linear:Kr,easeIn:z8,easeInOut:QS,easeOut:H8,circIn:ux,circInOut:WS,circOut:YS,backIn:cx,backInOut:GS,backOut:qS,anticipate:KS},G8=t=>typeof t=="string",Cw=t=>{if(XS(t)){ax(t.length===4);const[e,n,r,i]=t;return Yd(e,n,r,i)}else if(G8(t))return q8[t];return t},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Nw={value:null};function K8(t,e){let n=new Set,r=new Set,i=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(x){c.has(x)&&(y.schedule(x),t()),f++,x(d)}const y={schedule:(x,b=!1,w=!1)=>{const C=w&&i?n:r;return b&&c.add(x),C.has(x)||C.add(x),x},cancel:x=>{r.delete(x),c.delete(x)},process:x=>{if(d=x,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&Nw.value&&Nw.value.frameloop[e].push(f),f=0,n.clear(),i=!1,o&&(o=!1,y.process(x))}};return y}const Y8=40;function ZS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Bh.reduce((R,k)=>(R[k]=K8(o,e?k:void 0),R),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:y,update:x,preRender:b,render:w,postRender:S}=c,C=()=>{const R=ki.useManualTiming?i.timestamp:performance.now();n=!1,ki.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,Y8),1)),i.timestamp=R,i.isProcessing=!0,d.process(i),f.process(i),m.process(i),y.process(i),x.process(i),b.process(i),w.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(C))},N=()=>{n=!0,r=!0,i.isProcessing||t(C)};return{schedule:Bh.reduce((R,k)=>{const F=c[k];return R[k]=(W,V=!1,j=!1)=>(n||N(),F.schedule(W,V,j)),R},{}),cancel:R=>{for(let k=0;k<Bh.length;k++)c[Bh[k]].cancel(R)},state:i,steps:c}}const{schedule:Ot,cancel:Ma,state:An,steps:Yy}=ZS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kr,!0);let im;function W8(){im=void 0}const or={now:()=>(im===void 0&&or.set(An.isProcessing||ki.useManualTiming?An.timestamp:performance.now()),im),set:t=>{im=t,queueMicrotask(W8)}},JS=t=>e=>typeof e=="string"&&e.startsWith(t),dx=JS("--"),Q8=JS("var(--"),fx=t=>Q8(t)?X8.test(t.split("/*")[0].trim()):!1,X8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ed={...Tc,transform:t=>Pi(0,1,t)},zh={...Tc,default:1},id=t=>Math.round(t*1e5)/1e5,hx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z8(t){return t==null}const J8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mx=(t,e)=>n=>!!(typeof n=="string"&&J8.test(n)&&n.startsWith(t)||e&&!Z8(n)&&Object.prototype.hasOwnProperty.call(n,e)),eA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(hx);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},eD=t=>Pi(0,255,t),Wy={...Tc,transform:t=>Math.round(eD(t))},No={test:mx("rgb","red"),parse:eA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wy.transform(t)+", "+Wy.transform(e)+", "+Wy.transform(n)+", "+id(Ed.transform(r))+")"};function tD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const O0={test:mx("#"),parse:tD,transform:No.transform},Wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ba=Wd("deg"),zs=Wd("%"),Be=Wd("px"),nD=Wd("vh"),rD=Wd("vw"),Iw={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},ql={test:mx("hsl","hue"),parse:eA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zs.transform(id(e))+", "+zs.transform(id(n))+", "+id(Ed.transform(r))+")"},kn={test:t=>No.test(t)||O0.test(t)||ql.test(t),parse:t=>No.test(t)?No.parse(t):ql.test(t)?ql.parse(t):O0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?No.transform(t):ql.transform(t)},sD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hx))==null?void 0:e.length)||0)+(((n=t.match(sD))==null?void 0:n.length)||0)>0}const tA="number",nA="color",aD="var",oD="var(",Dw="${}",lD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Td(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(lD,f=>(kn.test(f)?(r.color.push(o),i.push(nA),n.push(kn.parse(f))):f.startsWith(oD)?(r.var.push(o),i.push(aD),n.push(f)):(r.number.push(o),i.push(tA),n.push(parseFloat(f))),++o,Dw)).split(Dw);return{values:n,split:d,indexes:r,types:i}}function rA(t){return Td(t).values}function sA(t){const{split:e,types:n}=Td(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===tA?o+=id(i[c]):d===nA?o+=kn.transform(i[c]):o+=i[c]}return o}}const cD=t=>typeof t=="number"?0:t;function uD(t){const e=rA(t);return sA(t)(e.map(cD))}const Pa={test:iD,parse:rA,createTransformer:sA,getAnimatableNone:uD};function Qy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=Qy(f,d,t+1/3),o=Qy(f,d,t),c=Qy(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function wm(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,Xy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fD=[O0,No,ql],hD=t=>fD.find(e=>e.test(t));function jw(t){const e=hD(t);if(!e)return!1;let n=e.parse(t);return e===ql&&(n=dD(n)),n}const Mw=(t,e)=>{const n=jw(t),r=jw(e);if(!n||!r)return wm(t,e);const i={...n};return o=>(i.red=Xy(n.red,r.red,o),i.green=Xy(n.green,r.green,o),i.blue=Xy(n.blue,r.blue,o),i.alpha=kt(n.alpha,r.alpha,o),No.transform(i))},V0=new Set(["none","hidden"]);function mD(t,e){return V0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pD(t,e){return n=>kt(t,e,n)}function px(t){return typeof t=="number"?pD:typeof t=="string"?fx(t)?wm:kn.test(t)?Mw:vD:Array.isArray(t)?iA:typeof t=="object"?kn.test(t)?Mw:gD:wm}function iA(t,e){const n=[...t],r=n.length,i=t.map((o,c)=>px(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=i[c](o);return n}}function gD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=px(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function yD(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],c=t.indexes[o][r[o]],d=t.values[c]??0;n[i]=d,r[o]++}return n}const vD=(t,e)=>{const n=Pa.createTransformer(e),r=Td(t),i=Td(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?V0.has(t)&&!i.values.length||V0.has(e)&&!r.values.length?mD(t,e):Kd(iA(yD(r,i),i.values),n):wm(t,e)};function aA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):px(t)(t,e)}const xD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ot.update(e,!0),stop:()=>Ma(e),now:()=>An.isProcessing?An.timestamp:or.now()}},oA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Em=2e4;function gx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Em;)e+=n,r=t.next(e);return e>=Em?1/0:e}function bD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(gx(r),Em);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Bs(i)}}const _D=5;function lA(t,e,n){const r=Math.max(e-_D,0);return BS(n-t(r),e-r)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pw=.001;function wD({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:r=Ft.mass}){let i,o,c=1-e;c=Pi(Ft.minDamping,Ft.maxDamping,c),t=Pi(Ft.minDuration,Ft.maxDuration,Bs(t)),c<1?(i=m=>{const y=m*c,x=y*t,b=y-n,w=L0(m,c),S=Math.exp(-x);return Pw-b/w*S},o=m=>{const x=m*c*t,b=x*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,S=Math.exp(-x),C=L0(Math.pow(m,2),c);return(-i(m)+Pw>0?-1:1)*((b-w)*S)/C}):(i=m=>{const y=Math.exp(-m*t),x=(m-n)*t+1;return-.001+y*x},o=m=>{const y=Math.exp(-m*t),x=(n-m)*(t*t);return y*x});const d=5/t,f=TD(i,o,d);if(t=Fs(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const ED=12;function TD(t,e,n){let r=n;for(let i=1;i<ED;i++)r=r-t(r)/e(r);return r}function L0(t,e){return t*Math.sqrt(1-e*e)}const SD=["duration","bounce"],AD=["stiffness","damping","mass"];function kw(t,e){return e.some(n=>t[n]!==void 0)}function RD(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!kw(t,AD)&&kw(t,SD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:o}}else{const n=wD(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function Tm(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:m,mass:y,duration:x,velocity:b,isResolvedFromDuration:w}=RD({...n,velocity:-Bs(n.velocity||0)}),S=b||0,C=m/(2*Math.sqrt(f*y)),N=c-o,M=Bs(Math.sqrt(f/y)),I=Math.abs(N)<5;r||(r=I?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=I?Ft.restDelta.granular:Ft.restDelta.default);let R;if(C<1){const F=L0(M,C);R=W=>{const V=Math.exp(-C*M*W);return c-V*((S+C*M*N)/F*Math.sin(F*W)+N*Math.cos(F*W))}}else if(C===1)R=F=>c-Math.exp(-M*F)*(N+(S+M*N)*F);else{const F=M*Math.sqrt(C*C-1);R=W=>{const V=Math.exp(-C*M*W),j=Math.min(F*W,300);return c-V*((S+C*M*N)*Math.sinh(j)+F*N*Math.cosh(j))/F}}const k={calculatedDuration:w&&x||null,next:F=>{const W=R(F);if(w)d.done=F>=x;else{let V=F===0?S:0;C<1&&(V=F===0?Fs(S):lA(R,F,W));const j=Math.abs(V)<=r,O=Math.abs(c-W)<=i;d.done=j&&O}return d.value=d.done?c:W,d},toString:()=>{const F=Math.min(gx(k),Em),W=oA(V=>k.next(F*V).value,F,30);return F+"ms "+W},toTransition:()=>{}};return k}Tm.applyToOptions=t=>{const e=bD(t,100,Tm);return t.ease=e.ease,t.duration=Fs(e.duration),t.type="keyframes",t};function U0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:y}){const x=t[0],b={done:!1,value:x},w=j=>d!==void 0&&j<d||f!==void 0&&j>f,S=j=>d===void 0?f:f===void 0||Math.abs(d-j)<Math.abs(f-j)?d:f;let C=n*e;const N=x+C,M=c===void 0?N:c(N);M!==N&&(C=M-x);const I=j=>-C*Math.exp(-j/r),R=j=>M+I(j),k=j=>{const O=I(j),U=R(j);b.done=Math.abs(O)<=m,b.value=b.done?M:U};let F,W;const V=j=>{w(b.value)&&(F=j,W=Tm({keyframes:[b.value,S(b.value)],velocity:lA(R,j,b.value),damping:i,stiffness:o,restDelta:m,restSpeed:y}))};return V(0),{calculatedDuration:null,next:j=>{let O=!1;return!W&&F===void 0&&(O=!0,k(j),V(j)),F!==void 0&&j>=F?W.next(j-F):(!O&&k(j),b)}}}function CD(t,e,n){const r=[],i=n||ki.mix||aA,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Kr:e;d=Kd(f,d)}r.push(d)}return r}function ND(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(ax(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=CD(e,r,i),f=d.length,m=y=>{if(c&&y<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(y<t[x+1]);x++);const b=wd(t[x],t[x+1],y);return d[x](b)};return n?y=>m(Pi(t[0],t[o-1],y)):m}function ID(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wd(0,e,r);t.push(kt(n,1,i))}}function DD(t){const e=[0];return ID(e,t.length-1),e}function jD(t,e){return t.map(n=>n*e)}function MD(t,e){return t.map(()=>e||QS).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$8(r)?r.map(Cw):Cw(r),o={done:!1,value:e[0]},c=jD(n&&n.length===e.length?n:DD(e),t),d=ND(c,e,{ease:Array.isArray(i)?i:MD(e,i)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const PD=t=>t!==null;function yx(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(PD),d=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const kD={decay:U0,inertia:U0,tween:ad,keyframes:ad,spring:Tm};function cA(t){typeof t.type=="string"&&(t.type=kD[t.type])}class vx{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OD=t=>t/100;class uA extends vx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==or.now()&&this.tick(or.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cA(e);const{type:n=ad,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const f=n||ad;f!==ad&&typeof d[0]!="number"&&(this.mixKeyframes=Kd(OD,aA(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=gx(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:x,repeatType:b,repeatDelay:w,type:S,onUpdate:C,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,k=r;if(x){const j=Math.min(this.currentTime,i)/d;let O=Math.floor(j),U=j%1;!U&&j>=1&&(U=1),U===1&&O--,O=Math.min(O,x+1),!!(O%2)&&(b==="reverse"?(U=1-U,w&&(U-=w/d)):b==="mirror"&&(k=c)),R=Pi(0,1,U)*d}const F=I?{done:!1,value:y[0]}:k.next(R);o&&(F.value=o(F.value));let{done:W}=F;!I&&f!==null&&(W=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return V&&S!==U0&&(F.value=yx(y,this.options,N,this.speed)),C&&C(F.value),V&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Bs(this.calculatedDuration)}get time(){return Bs(this.currentTime)}set time(e){e=Fs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(or.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(or.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function VD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Io=t=>t*180/Math.PI,F0=t=>{const e=Io(Math.atan2(t[1],t[0]));return B0(e)},LD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:F0,rotateZ:F0,skewX:t=>Io(Math.atan(t[1])),skewY:t=>Io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},B0=t=>(t=t%360,t<0&&(t+=360),t),Ow=F0,Vw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Lw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),UD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vw,scaleY:Lw,scale:t=>(Vw(t)+Lw(t))/2,rotateX:t=>B0(Io(Math.atan2(t[6],t[5]))),rotateY:t=>B0(Io(Math.atan2(-t[2],t[0]))),rotateZ:Ow,rotate:Ow,skewX:t=>Io(Math.atan(t[4])),skewY:t=>Io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Uw(t){return t.includes("scale")?1:0}function z0(t,e){if(!t||t==="none")return Uw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=UD,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LD,i=d}if(!i)return Uw(e);const o=r[e],c=i[1].split(",").map(BD);return typeof o=="function"?o(c):c[o]}const FD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return z0(n,e)};function BD(t){return parseFloat(t.trim())}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ac=new Set(Sc),Fw=t=>t===Tc||t===Be,zD=new Set(["x","y","z"]),HD=Sc.filter(t=>!zD.has(t));function $D(t){const e=[];return HD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const lc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>z0(e,"x"),y:(t,{transform:e})=>z0(e,"y")};lc.translateX=lc.x;lc.translateY=lc.y;const ko=new Set;let H0=!1,$0=!1,q0=!1;function dA(){if($0){const t=Array.from(ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$D(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))==null||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$0=!1,H0=!1,ko.forEach(t=>t.complete(q0)),ko.clear()}function fA(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($0=!0)})}function qD(){q0=!0,fA(),dA(),q0=!1}class xx{constructor(e,n,r,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ko.add(this),H0||(H0=!0,Ot.read(fA),Ot.resolveKeyframes(dA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}VD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GD=t=>t.startsWith("--");function KD(t,e,n){GD(e)?t.style.setProperty(e,n):t.style[e]=n}const YD=ox(()=>window.ScrollTimeline!==void 0),WD={};function QD(t,e){const n=ox(t);return()=>WD[e]??n()}const hA=QD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wu([0,.65,.55,1]),circOut:Wu([.55,0,1,.45]),backIn:Wu([.31,.01,.66,-.59]),backOut:Wu([.33,1.53,.69,.99])};function mA(t,e){if(t)return typeof t=="function"?hA()?oA(t,e):"ease-out":XS(t)?Wu(t):Array.isArray(t)?t.map(n=>mA(n,e)||Bw.easeOut):Bw[t]}function XD(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const y={[e]:n};f&&(y.offset=f);const x=mA(d,i);Array.isArray(x)&&(y.easing=x);const b={delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(y,b)}function pA(t){return typeof t=="function"&&"applyToOptions"in t}function ZD({type:t,...e}){return pA(t)&&hA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JD extends vx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,ax(typeof e.type!="string");const m=ZD(e);this.animation=XD(n,r,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=yx(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):KD(n,r,y),this.animation.cancel()}f==null||f(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bs(Number(e))}get time(){return Bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YD()?(this.animation.timeline=e,Kr):n(this)}}const gA={anticipate:KS,backInOut:GS,circInOut:WS};function ej(t){return t in gA}function tj(t){typeof t.ease=="string"&&ej(t.ease)&&(t.ease=gA[t.ease])}const zw=10;class nj extends JD{constructor(e){tj(e),cA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new uA({...c,autoplay:!1}),f=Fs(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-zw).value,d.sample(f).value,zw),d.stop()}}const Hw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pa.test(t)||t==="0")&&!t.startsWith("url("));function rj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=Hw(i,e),d=Hw(o,e);return!c||!d?!1:rj(t)||(n==="spring"||pA(n))&&r}const ij=new Set(["opacity","clipPath","filter","transform"]),aj=ox(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oj(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return aj()&&n&&ij.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&o!==0&&c!=="inertia"}const lj=40;class cj extends vx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:y,...x}){var S;super(),this.stop=()=>{var C,N;this._animation?(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)):(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=or.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:c,name:f,motionValue:m,element:y,...x},w=(y==null?void 0:y.KeyframeResolver)||xx;this.keyframeResolver=new w(d,(C,N,M)=>this.onKeyframesResolved(C,N,b,!M),f,m,y),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:y}=r;this.resolvedAt=or.now(),sj(e,o,c,d)||((ki.instantAnimations||!f)&&(y==null||y(yx(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!m&&oj(b)?new nj({...b,element:b.motionValue.owner.current}):new uA(b);w.finished.then(()=>this.notifyFinished()).catch(Kr),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||qD(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const uj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dj(t){const e=uj.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yA(t,e,n=1){const[r,i]=dj(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return US(c)?parseFloat(c):c}return fx(i)?yA(i,e,n+1):i}function bx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vA=new Set(["width","height","top","left","right","bottom",...Sc]),fj={test:t=>t==="auto",parse:t=>t},xA=t=>e=>e.test(t),bA=[Tc,Be,zs,ba,rD,nD,fj],$w=t=>bA.find(xA(t));function hj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FS(t):!0}const mj=new Set(["brightness","contrast","saturate","opacity"]);function pj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hx)||[];if(!r)return t;const i=n.replace(r,"");let o=mj.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const gj=/\b([a-z-]*)\(.*?\)/gu,G0={...Pa,getAnimatableNone:t=>{const e=t.match(gj);return e?e.map(pj).join(" "):t}},qw={...Tc,transform:Math.round},yj={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:zh,scaleX:zh,scaleY:zh,scaleZ:zh,skew:ba,skewX:ba,skewY:ba,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Ed,originX:Iw,originY:Iw,originZ:Be},_x={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...yj,zIndex:qw,fillOpacity:Ed,strokeOpacity:Ed,numOctaves:qw},vj={..._x,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:G0,WebkitFilter:G0},_A=t=>vj[t];function wA(t,e){let n=_A(t);return n!==G0&&(n=Pa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xj=new Set(["auto","none","0"]);function bj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!xj.has(o)&&Td(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=wA(n,i)}class _j extends xx{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),fx(m))){const y=yA(m,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!vA.has(r)||e.length!==2)return;const[i,o]=e,c=$w(i),d=$w(o);if(c!==d)if(Fw(c)&&Fw(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||hj(e[i]))&&r.push(i);r.length&&bj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=lc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function wj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const{schedule:wx}=ZS(queueMicrotask,!1),ss={x:!1,y:!1};function EA(){return ss.x||ss.y}function Ej(t){return t==="x"||t==="y"?ss[t]?null:(ss[t]=!0,()=>{ss[t]=!1}):ss.x||ss.y?null:(ss.x=ss.y=!0,()=>{ss.x=ss.y=!1})}function TA(t,e){const n=wj(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Gw(t){return!(t.pointerType==="touch"||EA())}function Tj(t,e,n={}){const[r,i,o]=TA(t,n),c=d=>{if(!Gw(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const y=x=>{Gw(x)&&(m(x),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,i)};return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const SA=(t,e)=>e?t===e?!0:SA(t,e.parentElement):!1,Ex=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Sj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aj(t){return Sj.has(t.tagName)||t.tabIndex!==-1}const Qu=new WeakSet;function Kw(t){return e=>{e.key==="Enter"&&t(e)}}function Zy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Rj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Kw(()=>{if(Qu.has(n))return;Zy(n,"down");const i=Kw(()=>{Zy(n,"up")}),o=()=>Zy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Yw(t){return Ex(t)&&!EA()}function Cj(t,e,n={}){const[r,i,o]=TA(t,n),c=d=>{const f=d.currentTarget;if(!Yw(d)||Qu.has(f))return;Qu.add(f);const m=e(f,d),y=(w,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!Yw(w)||!Qu.has(f))&&(Qu.delete(f),typeof m=="function"&&m(w,{success:S}))},x=w=>{y(w,f===window||f===document||n.useGlobalTarget||SA(f,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",b,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d instanceof HTMLElement&&(d.addEventListener("focus",m=>Rj(m,i)),!Aj(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}const Ww=30,Nj=t=>!isNaN(parseFloat(t));class Ij{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var c,d;const o=or.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ww)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ww);return BS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sd(t,e){return new Ij(t,e)}const Dj=[...bA,kn,Pa],jj=t=>Dj.find(xA(t)),AA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,RA=E.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cc={};for(const t in Qw)cc[t]={isEnabled:e=>Qw[t].some(n=>!!e[n])};function Mj(t){for(const e in t)cc[e]={...cc[e],...t[e]}}const Pj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pj.has(t)}let CA=t=>!Sm(t);function kj(t){t&&(CA=e=>e.startsWith("on")?!Sm(e):t(e))}try{kj(require("@emotion/is-prop-valid").default)}catch{}function Oj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(CA(i)||n===!0&&Sm(i)||!e&&!Sm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Vj(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const cp=E.createContext({});function up(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ad(t){return typeof t=="string"||Array.isArray(t)}const Tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sx=["initial",...Tx];function dp(t){return up(t.animate)||Sx.some(e=>Ad(t[e]))}function NA(t){return!!(dp(t)||t.variants)}function Lj(t,e){if(dp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ad(n)?n:void 0,animate:Ad(r)?r:void 0}}return t.inherit!==!1?e:{}}function Uj(t){const{initial:e,animate:n}=Lj(t,E.useContext(cp));return E.useMemo(()=>({initial:e,animate:n}),[Xw(e),Xw(n)])}function Xw(t){return Array.isArray(t)?t.join(" "):t}const Fj=Symbol.for("motionComponentSymbol");function Gl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bj(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gl(n)&&(n.current=r))},[e])}const Ax=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zj="framerAppearId",IA="data-"+Ax(zj),DA=E.createContext({});function Hj(t,e,n,r,i){var C,N;const{visualElement:o}=E.useContext(cp),c=E.useContext(RA),d=E.useContext(lp),f=E.useContext(nx).reducedMotion,m=E.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=m.current,x=E.useContext(DA);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&$j(m.current,n,i,x);const b=E.useRef(!1);E.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const w=n[IA],S=E.useRef(!!w&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,w))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,w)));return VS(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),wx.render(y.render),S.current&&y.animationState&&y.animationState.animateChanges())}),E.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,w)}),S.current=!1))}),y}function $j(t,e,n,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jA(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&Gl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:m})}function jA(t){if(t)return t.options.allowProjection!==!1?t.projection:jA(t.parent)}function qj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Mj(t);function o(d,f){let m;const y={...E.useContext(nx),...d,layoutId:Gj(d)},{isStatic:x}=y,b=Uj(d),w=r(d,x);if(!x&&tx){Kj();const S=Yj(y);m=S.MeasureLayout,b.visualElement=Hj(i,w,y,e,S.ProjectionNode)}return h.jsxs(cp.Provider,{value:b,children:[m&&b.visualElement?h.jsx(m,{visualElement:b.visualElement,...y}):null,n(i,d,Bj(w,b.visualElement,f),w,x,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=E.forwardRef(o);return c[Fj]=i,c}function Gj({layoutId:t}){const e=E.useContext(Jv).id;return e&&t!==void 0?e+"-"+t:t}function Kj(t,e){E.useContext(RA).strict}function Yj(t){const{drag:e,layout:n}=cc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Rd={};function Wj(t){for(const e in t)Rd[e]=t[e],dx(e)&&(Rd[e].isCSSVariable=!0)}function MA(t,{layout:e,layoutId:n}){return Ac.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rd[t]||t==="opacity")}const Un=t=>!!(t&&t.getVelocity),Qj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xj=Sc.length;function Zj(t,e,n){let r="",i=!0;for(let o=0;o<Xj;o++){const c=Sc[o],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=AA(d,_x[c]);if(!f){i=!1;const y=Qj[c]||c;r+=`${y}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Rx(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const f in e){const m=e[f];if(Ac.has(f)){c=!0;continue}else if(dx(f)){i[f]=m;continue}else{const y=AA(m,_x[f]);f.startsWith("origin")?(d=!0,o[f]=y):r[f]=y}}if(e.transform||(c||n?r.transform=Zj(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:y=0}=o;r.transformOrigin=`${f} ${m} ${y}`}}const Cx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PA(t,e,n){for(const r in e)!Un(e[r])&&!MA(r,n)&&(t[r]=e[r])}function Jj({transformTemplate:t},e){return E.useMemo(()=>{const n=Cx();return Rx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function e9(t,e){const n=t.style||{},r={};return PA(r,n,t),Object.assign(r,Jj(t,e)),r}function t9(t,e){const n={},r=e9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const n9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nx(t){return typeof t!="string"||t.includes("-")?!1:!!(n9.indexOf(t)>-1||/[A-Z]/u.test(t))}const r9={offset:"stroke-dashoffset",array:"stroke-dasharray"},s9={offset:"strokeDashoffset",array:"strokeDasharray"};function i9(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?r9:s9;t[o.offset]=Be.transform(-r);const c=Be.transform(e),d=Be.transform(n);t[o.array]=`${c} ${d}`}function kA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...d},f,m){if(Rx(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox="fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&i9(y,i,o,c,!1)}const OA=()=>({...Cx(),attrs:{}}),VA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a9(t,e,n,r){const i=E.useMemo(()=>{const o=OA();return kA(o,e,VA(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};PA(o,t.style,t),i.style={...o,...i.style}}return i}function o9(t=!1){return(n,r,i,{latestValues:o},c)=>{const f=(Nx(n)?a9:t9)(r,o,c,n),m=Oj(r,typeof n=="string",t),y=n!==E.Fragment?{...m,...f,ref:i}:{},{children:x}=r,b=E.useMemo(()=>Un(x)?x.get():x,[x]);return E.createElement(n,{...y,children:b})}}function Zw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ix(t,e,n,r){if(typeof e=="function"){const[i,o]=Zw(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Zw(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function am(t){return Un(t)?t.get():t}function l9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:c9(n,r,i,t),renderState:e()}}const LA=t=>(e,n)=>{const r=E.useContext(cp),i=E.useContext(lp),o=()=>l9(t,e,r,i);return n?o():ex(o)};function c9(t,e,n,r){const i={},o=r(t,{});for(const b in o)i[b]=am(o[b]);let{initial:c,animate:d}=t;const f=dp(t),m=NA(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const x=y?d:c;if(x&&typeof x!="boolean"&&!up(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const S=Ix(t,b[w]);if(S){const{transitionEnd:C,transition:N,...M}=S;for(const I in M){let R=M[I];if(Array.isArray(R)){const k=y?R.length-1:0;R=R[k]}R!==null&&(i[I]=R)}for(const I in C)i[I]=C[I]}}}return i}function Dx(t,e,n){var o;const{style:r}=t,i={};for(const c in r)(Un(r[c])||e.style&&Un(e.style[c])||MA(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(i[c]=r[c]);return i}const u9={useVisualState:LA({scrapeMotionValuesFromProps:Dx,createRenderState:Cx})};function UA(t,e,n){const r=Dx(t,e,n);for(const i in t)if(Un(t[i])||Un(e[i])){const o=Sc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const d9={useVisualState:LA({scrapeMotionValuesFromProps:UA,createRenderState:OA})};function f9(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Nx(r)?d9:u9,preloadedFeatures:t,useRender:o9(i),createVisualElement:e,Component:r};return qj(c)}}function Cd(t,e,n){const r=t.getProps();return Ix(r,e,n!==void 0?n:r.custom,t)}const K0=t=>Array.isArray(t);function h9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sd(n))}function m9(t){return K0(t)?t[t.length-1]||0:t}function p9(t,e){const n=Cd(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const c in o){const d=m9(o[c]);h9(t,c,d)}}function g9(t){return!!(Un(t)&&t.add)}function Y0(t,e){const n=t.getValue("willChange");if(g9(n))return n.add(e);if(!n&&ki.WillChange){const r=new ki.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function FA(t){return t.props[IA]}const y9=t=>t!==null;function v9(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(y9),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const x9={type:"spring",stiffness:500,damping:25,restSpeed:10},b9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_9={type:"keyframes",duration:.8},w9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E9=(t,{keyframes:e})=>e.length>2?_9:Ac.has(t)?t.startsWith("scale")?b9(e[1]):x9:w9;function T9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const jx=(t,e,n,r={},i,o)=>c=>{const d=bx(r,t)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Fs(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};T9(d)||Object.assign(y,E9(t,y)),y.duration&&(y.duration=Fs(y.duration)),y.repeatDelay&&(y.repeatDelay=Fs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),(ki.instantAnimations||ki.skipAnimations)&&(x=!0,y.duration=0,y.delay=0),y.allowFlatten=!d.type&&!d.ease,x&&!o&&e.get()!==void 0){const b=v9(y.keyframes,d);if(b!==void 0){Ot.update(()=>{y.onUpdate(b),y.onComplete()});return}}return new cj(y)};function S9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(o=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const y in d){const x=t.getValue(y,t.latestValues[y]??null),b=d[y];if(b===void 0||m&&S9(m,y))continue;const w={delay:n,...bx(o||{},y)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===S&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=FA(t);if(M){const I=window.MotionHandoffAnimation(M,y,Ot);I!==null&&(w.startTime=I,C=!0)}}Y0(t,y),x.start(jx(y,x,b,t.shouldReduceMotion&&vA.has(y)?{type:!1}:w,t,C));const N=x.animation;N&&f.push(N)}return c&&Promise.all(f).then(()=>{Ot.update(()=>{c&&p9(t,c)})}),f}function W0(t,e,n={}){var f;const r=Cd(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(BA(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:b}=i;return A9(t,e,y+m,x,b,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,y]=d==="beforeChildren"?[o,c]:[c,o];return m().then(()=>y())}else return Promise.all([o(),c(n.delay)])}function A9(t,e,n=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,f=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(R9).forEach((m,y)=>{m.notify("AnimationStart",e),c.push(W0(m,e,{...o,delay:n+f(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function R9(t,e){return t.sortNodePosition(e)}function C9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>W0(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=W0(t,e,n);else{const i=typeof e=="function"?Cd(t,e,n.custom):e;r=Promise.all(BA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function zA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const N9=Sx.length;function HA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N9;n++){const r=Sx[n],i=t.props[r];(Ad(i)||i===!1)&&(e[r]=i)}return e}const I9=[...Tx].reverse(),D9=Tx.length;function j9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>C9(t,n,r)))}function M9(t){let e=j9(t),n=Jw(),r=!0;const i=f=>(m,y)=>{var b;const x=Cd(t,y,f==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(x){const{transition:w,transitionEnd:S,...C}=x;m={...m,...C,...S}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,y=HA(t.parent)||{},x=[],b=new Set;let w={},S=1/0;for(let N=0;N<D9;N++){const M=I9[N],I=n[M],R=m[M]!==void 0?m[M]:y[M],k=Ad(R),F=M===f?I.isActive:null;F===!1&&(S=N);let W=R===y[M]&&R!==m[M]&&k;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),I.protectedKeys={...w},!I.isActive&&F===null||!R&&!I.prevProp||up(R)||typeof R=="boolean")continue;const V=P9(I.prevProp,R);let j=V||M===f&&I.isActive&&!W&&k||N>S&&k,O=!1;const U=Array.isArray(R)?R:[R];let B=U.reduce(i(M),{});F===!1&&(B={});const{prevResolvedValues:z={}}=I,L={...z,...B},we=Z=>{j=!0,b.has(Z)&&(O=!0,b.delete(Z)),I.needsAnimating[Z]=!0;const re=t.getValue(Z);re&&(re.liveStyle=!1)};for(const Z in L){const re=B[Z],ve=z[Z];if(w.hasOwnProperty(Z))continue;let H=!1;K0(re)&&K0(ve)?H=!zA(re,ve):H=re!==ve,H?re!=null?we(Z):b.add(Z):re!==void 0&&b.has(Z)?we(Z):I.protectedKeys[Z]=!0}I.prevProp=R,I.prevResolvedValues=B,I.isActive&&(w={...w,...B}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(W&&V)||O)&&x.push(...U.map(Z=>({animation:Z,options:{type:M}})))}if(b.size){const N={};if(typeof m.initial!="boolean"){const M=Cd(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(N.transition=M.transition)}b.forEach(M=>{const I=t.getBaseTarget(M),R=t.getValue(M);R&&(R.liveStyle=!0),N[M]=I??null}),x.push({animation:N})}let C=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(f,m)}),n[f].isActive=m;const y=c(f);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Jw(),r=!0}}}function P9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zA(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jw(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k9 extends Ha{constructor(e){super(e),e.animationState||(e.animationState=M9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();up(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let O9=0;class V9 extends Ha{constructor(){super(...arguments),this.id=O9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L9={animation:{Feature:k9},exit:{Feature:V9}};function Nd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qd(t){return{point:{x:t.pageX,y:t.pageY}}}const U9=t=>e=>Ex(e)&&t(e,Qd(e));function od(t,e,n,r){return Nd(t,e,U9(n),r)}function $A({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function F9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function B9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const qA=1e-4,z9=1-qA,H9=1+qA,GA=.01,$9=0-GA,q9=0+GA;function Wn(t){return t.max-t.min}function G9(t,e,n){return Math.abs(t-e)<=n}function eE(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z9&&t.scale<=H9||isNaN(t.scale))&&(t.scale=1),(t.translate>=$9&&t.translate<=q9||isNaN(t.translate))&&(t.translate=0)}function ld(t,e,n,r){eE(t.x,e.x,n.x,r?r.originX:void 0),eE(t.y,e.y,n.y,r?r.originY:void 0)}function tE(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function K9(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function nE(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function cd(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}const rE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:rE(),y:rE()}),sE=()=>({min:0,max:0}),$t=()=>({x:sE(),y:sE()});function Hr(t){return[t("x"),t("y")]}function Jy(t){return t===void 0||t===1}function Q0({scale:t,scaleX:e,scaleY:n}){return!Jy(t)||!Jy(e)||!Jy(n)}function Ao(t){return Q0(t)||KA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KA(t){return iE(t.x)||iE(t.y)}function iE(t){return t&&t!=="0%"}function Am(t,e,n){const r=t-n,i=e*r;return n+i}function aE(t,e,n,r,i){return i!==void 0&&(t=Am(t,i,r)),Am(t,n,r)+e}function X0(t,e=0,n=1,r,i){t.min=aE(t.min,e,n,r,i),t.max=aE(t.max,e,n,r,i)}function YA(t,{x:e,y:n}){X0(t.x,e.translate,e.scale,e.originPoint),X0(t.y,n.translate,n.scale,n.originPoint)}const oE=.999999999999,lE=1.0000000000001;function Y9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YA(t,c)),r&&Ao(o.latestValues)&&Wl(t,o.latestValues))}e.x<lE&&e.x>oE&&(e.x=1),e.y<lE&&e.y>oE&&(e.y=1)}function Yl(t,e){t.min=t.min+e,t.max=t.max+e}function cE(t,e,n,r,i=.5){const o=kt(t.min,t.max,i);X0(t,e,n,o,r)}function Wl(t,e){cE(t.x,e.x,e.scaleX,e.scale,e.originX),cE(t.y,e.y,e.scaleY,e.scale,e.originY)}function WA(t,e){return $A(B9(t.getBoundingClientRect(),e))}function W9(t,e,n){const r=WA(t,n),{scroll:i}=e;return i&&(Yl(r.x,i.offset.x),Yl(r.y,i.offset.y)),r}const QA=({current:t})=>t?t.ownerDocument.defaultView:null,uE=(t,e)=>Math.abs(t-e);function Q9(t,e){const n=uE(t.x,e.x),r=uE(t.y,e.y);return Math.sqrt(n**2+r**2)}class XA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=t0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=Q9(x.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:S}=x,{timestamp:C}=An;this.history.push({...S,timestamp:C});const{onStart:N,onMove:M}=this.handlers;b||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=e0(b,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=t0(x.type==="pointercancel"?this.lastMoveEventInfo:e0(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,N),S&&S(x,N)},!Ex(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Qd(e),d=e0(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=An;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,t0(d,this.history)),this.removeListeners=Kd(od(this.contextWindow,"pointermove",this.handlePointerMove),od(this.contextWindow,"pointerup",this.handlePointerUp),od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ma(this.updatePoint)}}function e0(t,e){return e?{point:e(t.point)}:t}function dE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t0({point:t},e){return{point:t,delta:dE(t,ZA(e)),offset:dE(t,X9(e)),velocity:Z9(e,.1)}}function X9(t){return t[0]}function ZA(t){return t[t.length-1]}function Z9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ZA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Fs(e)));)n--;if(!r)return{x:0,y:0};const o=Bs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function J9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function fE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eM(t,{top:e,left:n,bottom:r,right:i}){return{x:fE(t.x,n,i),y:fE(t.y,e,r)}}function hE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tM(t,e){return{x:hE(t.x,e.x),y:hE(t.y,e.y)}}function nM(t,e){let n=.5;const r=Wn(t),i=Wn(e);return i>r?n=wd(e.min,e.max-r,t.min):r>i&&(n=wd(t.min,t.max-i,e.min)),Pi(0,1,n)}function rM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Z0=.35;function sM(t=Z0){return t===!1?t=0:t===!0&&(t=Z0),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,n){return{min:pE(t,e),max:pE(t,n)}}function pE(t,e){return typeof t=="number"?t:t[e]||0}const iM=new WeakMap;class aM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qd(y).point)},o=(y,x)=>{const{drag:b,dragPropagation:w,onDragStart:S}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ej(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(N=>{let M=this.getAxisMotionValue(N).get()||0;if(zs.test(M)){const{projection:I}=this.visualElement;if(I&&I.layout){const R=I.layout.layoutBox[N];R&&(M=Wn(R)*(parseFloat(M)/100))}}this.originPoint[N]=M}),S&&Ot.postRender(()=>S(y,x)),Y0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(y,x)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:S,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=x;if(w&&this.currentDirection===null){this.currentDirection=oM(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),C&&C(y,x)},d=(y,x)=>this.stop(y,x),f=()=>Hr(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new XA(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:QA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ot.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Hh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=J9(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Gl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eM(r.layoutBox,e):this.constraints=!1,this.elastic=sM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=rM(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=W9(r,i.root,this.visualElement.getTransformPagePoint());let c=tM(i.layout.layoutBox,o);if(n){const d=n(F9(c));this.hasMutatedConstraints=!!d,d&&(c=$A(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Hr(y=>{if(!Hh(y,n,this.currentDirection))return;let x=f&&f[y]||{};c&&(x={min:0,max:0});const b=i?200:1e6,w=i?40:1e7,S={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(y,S)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Y0(this.visualElement,e),r.start(jx(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!Hh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-kt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=nM({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(c=>{if(!Hh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(kt(f,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;iM.set(this.visualElement,this);const e=this.visualElement.current,n=od(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Gl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ot.read(r);const c=Nd(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Hr(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=f[y].translate,x.set(x.get()+f[y].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=Z0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Hh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lM extends Ha{constructor(e){super(e),this.removeGroupControls=Kr,this.removeListeners=Kr,this.controls=new aM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=t=>(e,n)=>{t&&Ot.postRender(()=>t(e,n))};class cM extends Ha{constructor(){super(...arguments),this.removePointerDownListener=Kr}onPointerDown(e){this.session=new XA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gE(e),onStart:gE(n),onMove:r,onEnd:(o,c)=>{delete this.session,i&&Ot.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=yE(t,e.target.x),r=yE(t,e.target.y);return`${n}% ${r}%`}},uM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pa.parse(t);if(i.length>5)return r;const o=Pa.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=f;const m=kt(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class dM extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Wj(fM),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Ot.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JA(t){const[e,n]=LS(),r=E.useContext(Jv);return h.jsx(dM,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(DA),isPresent:e,safeToRemove:n})}const fM={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:uM};function hM(t,e,n){const r=Un(t)?t:Sd(t);return r.start(jx("",r,e,n)),r.animation}function mM(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pM=(t,e)=>t.depth-e.depth;class gM{constructor(){this.children=[],this.isDirty=!1}add(e){sx(this.children,e),this.isDirty=!0}remove(e){ix(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pM),this.isDirty=!1,this.children.forEach(e)}}function yM(t,e){const n=or.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ma(r),t(o-e))};return Ot.setup(r,!0),()=>Ma(r)}const e3=["TopLeft","TopRight","BottomLeft","BottomRight"],vM=e3.length,vE=t=>typeof t=="string"?parseFloat(t):t,xE=t=>typeof t=="number"||Be.test(t);function xM(t,e,n,r,i,o){i?(t.opacity=kt(0,n.opacity??1,bM(r)),t.opacityExit=kt(e.opacity??1,0,_M(r))):o&&(t.opacity=kt(e.opacity??1,n.opacity??1,r));for(let c=0;c<vM;c++){const d=`border${e3[c]}Radius`;let f=bE(e,d),m=bE(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||xE(f)===xE(m)?(t[d]=Math.max(kt(vE(f),vE(m),r),0),(zs.test(m)||zs.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function bE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bM=t3(0,.5,YS),_M=t3(.5,.95,Kr);function t3(t,e,n){return r=>r<t?0:r>e?1:n(wd(t,e,r))}function _E(t,e){t.min=e.min,t.max=e.max}function Br(t,e){_E(t.x,e.x),_E(t.y,e.y)}function wE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function EE(t,e,n,r,i){return t-=e,t=Am(t,1/n,r),i!==void 0&&(t=Am(t,1/i,r)),t}function wM(t,e=0,n=1,r=.5,i,o=t,c=t){if(zs.test(e)&&(e=parseFloat(e),e=kt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=kt(o.min,o.max,r);t===o&&(d-=e),t.min=EE(t.min,e,n,d,i),t.max=EE(t.max,e,n,d,i)}function TE(t,e,[n,r,i],o,c){wM(t,e[n],e[r],e[i],e.scale,o,c)}const EM=["x","scaleX","originX"],TM=["y","scaleY","originY"];function SE(t,e,n,r){TE(t.x,e,EM,n?n.x:void 0,r?r.x:void 0),TE(t.y,e,TM,n?n.y:void 0,r?r.y:void 0)}function AE(t){return t.translate===0&&t.scale===1}function n3(t){return AE(t.x)&&AE(t.y)}function RE(t,e){return t.min===e.min&&t.max===e.max}function SM(t,e){return RE(t.x,e.x)&&RE(t.y,e.y)}function CE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function r3(t,e){return CE(t.x,e.x)&&CE(t.y,e.y)}function NE(t){return Wn(t.x)/Wn(t.y)}function IE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AM{constructor(){this.members=[]}add(e){sx(this.members,e),e.scheduleRender()}remove(e){if(ix(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RM(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:x,rotateY:b,skewX:w,skewY:S}=n;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),x&&(r+=`rotateX(${x}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const n0=["","X","Y","Z"],CM={visibility:"hidden"},DE=1e3;let NM=0;function r0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function s3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&s3(r)}function i3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=NM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jM),this.nodes.forEach(VM),this.nodes.forEach(LM),this.nodes.forEach(MM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new gM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lx),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mM(c),this.instance=c;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=yM(b,250),om.hasAnimatedSinceResize&&(om.hasAnimatedSinceResize=!1,this.nodes.forEach(ME))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||y.getDefaultTransition()||HM,{onLayoutAnimationStart:N,onLayoutAnimationComplete:M}=y.getProps(),I=!this.targetLayout||!r3(this.targetLayout,S),R=!b&&w;if(this.options.layoutRoot||this.resumeFrom||R||b&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,R);const k={...bx(C,"layout"),onPlay:N,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else b||ME(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&s3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jE);return}this.isUpdating||this.nodes.forEach(kM),this.isUpdating=!1,this.nodes.forEach(OM),this.nodes.forEach(IM),this.nodes.forEach(DM),this.clearAllSnapshots();const d=or.now();An.delta=Pi(0,1e3/60,d-An.timestamp),An.timestamp=d,An.isProcessing=!0,Yy.update.process(An),Yy.preRender.process(An),Yy.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PM),this.sharedNodes.forEach(FM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!n3(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(d||Ao(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),$M(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return $t();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(qM))){const{scroll:y}=this.root;y&&(Yl(d.x,y.offset.x),Yl(d.y,y.offset.y))}return d}removeElementScroll(c){var f;const d=$t();if(Br(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:x,options:b}=y;y!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&Br(d,c),Yl(d.x,x.offset.x),Yl(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=$t();Br(f,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Wl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ao(y.latestValues)&&Wl(f,y.latestValues)}return Ao(this.latestValues)&&Wl(f,this.latestValues),f}removeTransform(c){const d=$t();Br(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ao(m.latestValues))continue;Q0(m.latestValues)&&m.updateSnapshot();const y=$t(),x=m.measurePageBox();Br(y,x),SE(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ao(this.latestValues)&&SE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),cd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),YA(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),cd(this.relativeTargetOrigin,this.target,w.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Q0(this.parent.latestValues)||KA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===An.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Br(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;Y9(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$t());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wE(this.prevProjectionDelta.x,this.projectionDelta.x),wE(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!IE(this.projectionDelta.x,this.prevProjectionDelta.x)||!IE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},x=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=$t(),w=f?f.source:void 0,S=this.layout?this.layout.source:void 0,C=w!==S,N=this.getStack(),M=!N||N.members.length<=1,I=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(zM));this.animationProgress=0;let R;this.mixTargetDelta=k=>{const F=k/1e3;PE(x.x,c.x,F),PE(x.y,c.y,F),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BM(this.relativeTarget,this.relativeTargetOrigin,b,F),R&&SM(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=$t()),Br(R,this.relativeTarget)),C&&(this.animationValues=y,xM(y,m,this.latestValues,F,I,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{om.hasAnimatedSinceResize=!0,this.currentAnimation=hM(0,DE,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:y}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&a3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||$t();const x=Wn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=Wn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Br(d,f),Wl(d,y),ld(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AM),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&r0("z",c,m,this.animationValues);for(let y=0;y<n0.length;y++)r0(`rotate${n0[y]}`,c,m,this.animationValues),r0(`skew${n0[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return CM;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=am(c==null?void 0:c.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=am(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=RM(this.projectionDeltaWithTransform,this.treeScale,y),f&&(d.transform=f(y,d.transform));const{x,y:b}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,m.animationValues?d.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Rd){if(y[w]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:N}=Rd[w],M=d.transform==="none"?y[w]:S(y[w],m);if(C){const I=C.length;for(let R=0;R<I;R++)d[C[R]]=M}else N?this.options.visualElement.renderState.vars[w]=M:d[w]=M}return this.options.layoutId&&(d.pointerEvents=m===this?am(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(jE),this.root.sharedNodes.clear()}}}function IM(t){t.updateLayout()}function DM(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Hr(x=>{const b=c?e.measuredBox[x]:e.layoutBox[x],w=Wn(b);b.min=r[x].min,b.max=b.min+w}):a3(o,e.layoutBox,r)&&Hr(x=>{const b=c?e.measuredBox[x]:e.layoutBox[x],w=Wn(r[x]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const d=Kl();ld(d,r,e.layoutBox);const f=Kl();c?ld(f,t.applyTransform(i,!0),e.measuredBox):ld(f,r,e.layoutBox);const m=!n3(d);let y=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:w}=x;if(b&&w){const S=$t();cd(S,e.layoutBox,b.layoutBox);const C=$t();cd(C,r,w.layoutBox),r3(S,C)||(y=!0),x.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function jM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PM(t){t.clearSnapshot()}function jE(t){t.clearMeasurements()}function kM(t){t.isLayoutDirty=!1}function OM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ME(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VM(t){t.resolveTargetDelta()}function LM(t){t.calcProjection()}function UM(t){t.resetSkewAndRotation()}function FM(t){t.removeLeadSnapshot()}function PE(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kE(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function BM(t,e,n,r){kE(t.x,e.x,n.x,r),kE(t.y,e.y,n.y,r)}function zM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const HM={duration:.45,ease:[.4,0,.1,1]},OE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VE=OE("applewebkit/")&&!OE("chrome/")?Math.round:Kr;function LE(t){t.min=VE(t.min),t.max=VE(t.max)}function $M(t){LE(t.x),LE(t.y)}function a3(t,e,n){return t==="position"||t==="preserve-aspect"&&!G9(NE(e),NE(n),.2)}function qM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const GM=i3({attachResizeListener:(t,e)=>Nd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s0={current:void 0},o3=i3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!s0.current){const t=new GM({});t.mount(window),t.setOptions({layoutScroll:!0}),s0.current=t}return s0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KM={pan:{Feature:cM},drag:{Feature:lM,ProjectionNode:o3,MeasureLayout:JA}};function UE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ot.postRender(()=>o(e,Qd(e)))}class YM extends Ha{mount(){const{current:e}=this.node;e&&(this.unmount=Tj(e,(n,r)=>(UE(this.node,r,"Start"),i=>UE(this.node,i,"End"))))}unmount(){}}class WM extends Ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Nd(this.node.current,"focus",()=>this.onFocus()),Nd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ot.postRender(()=>o(e,Qd(e)))}class QM extends Ha{mount(){const{current:e}=this.node;e&&(this.unmount=Cj(e,(n,r)=>(FE(this.node,r,"Start"),(i,{success:o})=>FE(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J0=new WeakMap,i0=new WeakMap,XM=t=>{const e=J0.get(t.target);e&&e(t)},ZM=t=>{t.forEach(XM)};function JM({root:t,...e}){const n=t||document;i0.has(n)||i0.set(n,{});const r=i0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ZM,{root:t,...e})),r[i]}function eP(t,e,n){const r=JM(e);return J0.set(t,n),r.observe(t),()=>{J0.delete(t),r.unobserve(t)}}const tP={some:0,all:1};class nP extends Ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tP[i]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),b=m?y:x;b&&b(f)};return eP(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rP(e,n))&&this.startObserver()}unmount(){}}function rP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sP={inView:{Feature:nP},tap:{Feature:QM},focus:{Feature:WM},hover:{Feature:YM}},iP={layout:{ProjectionNode:o3,MeasureLayout:JA}},ev={current:null},l3={current:!1};function aP(){if(l3.current=!0,!!tx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=t.matches;t.addListener(e),e()}else ev.current=!1}const oP=new WeakMap;function lP(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Un(i))t.addValue(r,i);else if(Un(o))t.addValue(r,Sd(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,Sd(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const BE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cP{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=or.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ot.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=dp(n),this.isVariantNode=NA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const w=x[b];f[b]!==void 0&&Un(w)&&w.set(f[b],!1)}}mount(e){this.current=e,oP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),l3.current||aP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ev.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ma(this.notifyUpdate),Ma(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ac.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cc){const n=cc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BE.length;r++){const i=BE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=lP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Sd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(US(r)||FS(r))?r=parseFloat(r):!jj(r)&&Pa.test(n)&&(r=wA(e,n)),this.setBaseTarget(e,Un(r)?r.get():r)),Un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Ix(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Un(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class c3 extends cP{constructor(){super(...arguments),this.KeyframeResolver=_j}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function u3(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function uP(t){return window.getComputedStyle(t)}class dP extends c3{constructor(){super(...arguments),this.type="html",this.renderInstance=u3}readValueFromInstance(e,n){if(Ac.has(n))return FD(e,n);{const r=uP(e),i=(dx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WA(e,n)}build(e,n,r){Rx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Dx(e,n,r)}}const d3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fP(t,e,n,r){u3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(d3.has(i)?i:Ax(i),e.attrs[i])}class hP extends c3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ac.has(n)){const r=_A(n);return r&&r.default||0}return n=d3.has(n)?n:Ax(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UA(e,n,r)}build(e,n,r){kA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){fP(e,n,r,i)}mount(e){this.isSVGTag=VA(e.tagName),super.mount(e)}}const mP=(t,e)=>Nx(t)?new hP(e):new dP(e,{allowProjection:t!==E.Fragment}),pP=f9({...L9,...sP,...KM,...iP},mP),Tt=Vj(pP);var f3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zE=Oe.createContext&&Oe.createContext(f3),gP=["attr","size","title"];function yP(t,e){if(t==null)return{};var n=vP(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vP(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){xP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xP(t,e,n){return e=bP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bP(t){var e=_P(t,"string");return typeof e=="symbol"?e:e+""}function _P(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h3(t){return t&&t.map((e,n)=>Oe.createElement(e.tag,Cm({key:n},e.attr),h3(e.child)))}function De(t){return e=>Oe.createElement(wP,Rm({attr:Cm({},t.attr)},e),h3(t.child))}function wP(t){var e=n=>{var{attr:r,size:i,title:o}=t,c=yP(t,gP),d=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Oe.createElement("svg",Rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:Cm(Cm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Oe.createElement("title",null,o),t.children)};return zE!==void 0?Oe.createElement(zE.Consumer,null,n=>e(n)):e(f3)}function m3(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function p3(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function g3(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Mx(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function y3(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function EP(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function v3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function TP(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function $E(t){return De({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function x3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function SP(t){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function AP(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function b3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Nm(t){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Px(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function RP(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Im(t){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function _3(t){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Rc(t){return De({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function tc(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M288 136V0H88C74.7 0 64 10.7 64 24v232H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h140.9c3 0 5.8 1.7 7.2 4.4l19.9 39.8 56.8-113.7c2.9-5.9 11.4-5.9 14.3 0l34.7 69.5H352c8.8 0 16 7.2 16 16s-7.2 16-16 16h-89.9L240 275.8l-56.8 113.7c-2.9 5.9-11.4 5.9-14.3 0L134.1 320H64v168c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H312c-13.2 0-24-10.8-24-24zm153-31L343.1 7c-4.5-4.5-10.6-7-17-7H320v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function w3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function uc(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(t)}function CP(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function E3(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function a0(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function tv(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function T3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function NP(t){return De({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M168 416c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 17.67 14.33 32 32 32h192c17.67 0 32-14.33 32-32v-64h-88z"},child:[]}]})(t)}function S3(t){return De({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},child:[]}]})(t)}function nv(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function rv(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}function kx(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Os(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function sv(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(t)}function qE(t){return De({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function IP(t){return De({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function A3(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function ud(t){return De({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Ql(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(t)}function ks(t){return De({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function R3(t){return De({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function C3(t){return De({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function DP(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(t)}function N3(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"},child:[]}]})(t)}function jP(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function o0(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}function Ox(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8zm3 16H9v-2h6v2zm0-5h-2v2h-2v-2H9v-2h2V9h2v2h2v2z"},child:[]}]})(t)}function MP(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function Vx(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 9c-1.1 0-2-.9-2-2s2-4 2-4 2 2.9 2 4-.9 2-2 2zm-3.5-2c0-.73.41-1.71.92-2.66A9.965 9.965 0 0 0 11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12c0-.55-.06-1.09-.14-1.62a3.5 3.5 0 0 1-.86.12c-1.93 0-3.5-1.57-3.5-3.5zm-1.88.38 1.06 1.06-1.06 1.06 1.06 1.06-1.06 1.06L13.5 9.5l2.12-2.12zm-8.3 1.06 1.06-1.06L10.5 9.5l-2.12 2.12-1.06-1.06L8.38 9.5 7.32 8.44zM15.44 17c-.69-1.19-1.97-2-3.44-2s-2.75.81-3.44 2H6.88c.3-.76.76-1.43 1.34-1.99L5.24 13.3c-.45.26-1.01.28-1.49 0a1.501 1.501 0 0 1 1.5-2.6c.48.28.74.78.74 1.29l3.58 2.07c.73-.36 1.55-.56 2.43-.56 2.33 0 4.32 1.45 5.12 3.5h-1.68z"},child:[]}]})(t)}function PP(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3V13zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm6 9.09c0 4-2.55 7.7-6 8.83-3.45-1.13-6-4.82-6-8.83v-4.7l6-2.25 6 2.25v4.7z"},child:[]}]})(t)}function kP(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function OP(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function VP(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}var Xd=t=>t.type==="checkbox",Do=t=>t instanceof Date,Yn=t=>t==null;const I3=t=>typeof t=="object";var Gt=t=>!Yn(t)&&!Array.isArray(t)&&I3(t)&&!Do(t),LP=t=>Gt(t)&&t.target?Xd(t.target)?t.target.checked:t.target.value:t,UP=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FP=(t,e)=>t.has(UP(e)),BP=t=>{const e=t.constructor&&t.constructor.prototype;return Gt(e)&&e.hasOwnProperty("isPrototypeOf")},Lx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Lx&&(t instanceof Blob||r))&&(n||Gt(t)))if(e=n?[]:{},!n&&!BP(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pn(t[i]));else return t;return e}var fp=t=>Array.isArray(t)?t.filter(Boolean):[],Zt=t=>t===void 0,Ne=(t,e,n)=>{if(!e||!Gt(t))return n;const r=fp(e.split(/[,[\].]+?/)).reduce((i,o)=>Yn(i)?i:i[o],t);return Zt(r)||r===t?Zt(t[e])?n:t[e]:r},Ms=t=>typeof t=="boolean",Ux=t=>/^\w*$/.test(t),D3=t=>fp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(t,e,n)=>{let r=-1;const i=Ux(e)?[e]:D3(e),o=i.length,c=o-1;for(;++r<o;){const d=i[r];let f=n;if(r!==c){const m=t[d];f=Gt(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const GE={BLUR:"blur",FOCUS_OUT:"focusout"},is={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Oe.createContext(null);var zP=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const c=o;return e._proxyFormState[c]!==is.all&&(e._proxyFormState[c]=!r||is.all),t[c]}});return i};const HP=typeof window<"u"?E.useLayoutEffect:E.useEffect;var Vs=t=>typeof t=="string",$P=(t,e,n,r,i)=>Vs(t)?(r&&e.watch.add(t),Ne(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Ne(n,o))):(r&&(e.watchAll=!0),n),qP=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},dd=t=>Array.isArray(t)?t:[t],KE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},iv=t=>Yn(t)||!I3(t);function _a(t,e){if(iv(t)||iv(e))return t===e;if(Do(t)&&Do(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const c=e[i];if(Do(o)&&Do(c)||Gt(o)&&Gt(c)||Array.isArray(o)&&Array.isArray(c)?!_a(o,c):o!==c)return!1}}return!0}var Kn=t=>Gt(t)&&!Object.keys(t).length,Fx=t=>t.type==="file",as=t=>typeof t=="function",Dm=t=>{if(!Lx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},j3=t=>t.type==="select-multiple",Bx=t=>t.type==="radio",GP=t=>Bx(t)||Xd(t),l0=t=>Dm(t)&&t.isConnected;function KP(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Zt(t)?r++:t[e[r++]];return t}function YP(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zt(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:Ux(e)?[e]:D3(e),r=n.length===1?t:KP(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Gt(r)&&Kn(r)||Array.isArray(r)&&YP(r))&&on(t,n.slice(0,-1)),t}var M3=t=>{for(const e in t)if(as(t[e]))return!0;return!1};function jm(t,e={}){const n=Array.isArray(t);if(Gt(t)||n)for(const r in t)Array.isArray(t[r])||Gt(t[r])&&!M3(t[r])?(e[r]=Array.isArray(t[r])?[]:{},jm(t[r],e[r])):Yn(t[r])||(e[r]=!0);return e}function P3(t,e,n){const r=Array.isArray(t);if(Gt(t)||r)for(const i in t)Array.isArray(t[i])||Gt(t[i])&&!M3(t[i])?Zt(e)||iv(n[i])?n[i]=Array.isArray(t[i])?jm(t[i],[]):{...jm(t[i])}:P3(t[i],Yn(e)?{}:e[i],n[i]):n[i]=!_a(t[i],e[i]);return n}var Gu=(t,e)=>P3(t,e,jm(e));const YE={value:!1,isValid:!1},WE={value:!0,isValid:!0};var k3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zt(t[0].attributes.value)?Zt(t[0].value)||t[0].value===""?WE:{value:t[0].value,isValid:!0}:WE:YE}return YE},O3=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Zt(t)?t:e?t===""?NaN:t&&+t:n&&Vs(t)?new Date(t):r?r(t):t;const QE={isValid:!1,value:null};var V3=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,QE):QE;function XE(t){const e=t.ref;return Fx(e)?e.files:Bx(e)?V3(t.refs).value:j3(e)?[...e.selectedOptions].map(({value:n})=>n):Xd(e)?k3(t.refs).value:O3(Zt(e.value)?t.ref.value:e.value,t)}var WP=(t,e,n,r)=>{const i={};for(const o of t){const c=Ne(e,o);c&&Ct(i,o,c._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Mm=t=>t instanceof RegExp,Ku=t=>Zt(t)?t:Mm(t)?t.source:Gt(t)?Mm(t.value)?t.value.source:t.value:t,ZE=t=>({isOnSubmit:!t||t===is.onSubmit,isOnBlur:t===is.onBlur,isOnChange:t===is.onChange,isOnAll:t===is.all,isOnTouch:t===is.onTouched});const JE="AsyncFunction";var QP=t=>!!t&&!!t.validate&&!!(as(t.validate)&&t.validate.constructor.name===JE||Gt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===JE)),XP=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),eT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const fd=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=Ne(t,i);if(o){const{_f:c,...d}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],i)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(fd(d,e))break}else if(Gt(d)&&fd(d,e))break}}};function tT(t,e,n){const r=Ne(t,n);if(r||Ux(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),c=Ne(e,o),d=Ne(t,o);if(c&&!Array.isArray(c)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};i.pop()}return{name:n}}var ZP=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Kn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!r||is.all))},JP=(t,e,n)=>!t||!e||t===e||dd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),ek=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tk=(t,e)=>!fp(Ne(t,e)).length&&on(t,e),nk=(t,e,n)=>{const r=dd(Ne(t,n));return Ct(r,"root",e[n]),Ct(t,n,r),t},lm=t=>Vs(t);function nT(t,e,n="validate"){if(lm(t)||Array.isArray(t)&&t.every(lm)||Ms(t)&&!t)return{type:n,message:lm(t)?t:"",ref:e}}var Ul=t=>Gt(t)&&!Mm(t)?t:{value:t,message:""},rT=async(t,e,n,r,i,o)=>{const{ref:c,refs:d,required:f,maxLength:m,minLength:y,min:x,max:b,pattern:w,validate:S,name:C,valueAsNumber:N,mount:M}=t._f,I=Ne(n,C);if(!M||e.has(C))return{};const R=d?d[0]:c,k=z=>{i&&R.reportValidity&&(R.setCustomValidity(Ms(z)?"":z||""),R.reportValidity())},F={},W=Bx(c),V=Xd(c),j=W||V,O=(N||Fx(c))&&Zt(c.value)&&Zt(I)||Dm(c)&&c.value===""||I===""||Array.isArray(I)&&!I.length,U=qP.bind(null,C,r,F),B=(z,L,we,pe=Ai.maxLength,K=Ai.minLength)=>{const Z=z?L:we;F[C]={type:z?pe:K,message:Z,ref:c,...U(z?pe:K,Z)}};if(o?!Array.isArray(I)||!I.length:f&&(!j&&(O||Yn(I))||Ms(I)&&!I||V&&!k3(d).isValid||W&&!V3(d).isValid)){const{value:z,message:L}=lm(f)?{value:!!f,message:f}:Ul(f);if(z&&(F[C]={type:Ai.required,message:L,ref:R,...U(Ai.required,L)},!r))return k(L),F}if(!O&&(!Yn(x)||!Yn(b))){let z,L;const we=Ul(b),pe=Ul(x);if(!Yn(I)&&!isNaN(I)){const K=c.valueAsNumber||I&&+I;Yn(we.value)||(z=K>we.value),Yn(pe.value)||(L=K<pe.value)}else{const K=c.valueAsDate||new Date(I),Z=H=>new Date(new Date().toDateString()+" "+H),re=c.type=="time",ve=c.type=="week";Vs(we.value)&&I&&(z=re?Z(I)>Z(we.value):ve?I>we.value:K>new Date(we.value)),Vs(pe.value)&&I&&(L=re?Z(I)<Z(pe.value):ve?I<pe.value:K<new Date(pe.value))}if((z||L)&&(B(!!z,we.message,pe.message,Ai.max,Ai.min),!r))return k(F[C].message),F}if((m||y)&&!O&&(Vs(I)||o&&Array.isArray(I))){const z=Ul(m),L=Ul(y),we=!Yn(z.value)&&I.length>+z.value,pe=!Yn(L.value)&&I.length<+L.value;if((we||pe)&&(B(we,z.message,L.message),!r))return k(F[C].message),F}if(w&&!O&&Vs(I)){const{value:z,message:L}=Ul(w);if(Mm(z)&&!I.match(z)&&(F[C]={type:Ai.pattern,message:L,ref:c,...U(Ai.pattern,L)},!r))return k(L),F}if(S){if(as(S)){const z=await S(I,n),L=nT(z,R);if(L&&(F[C]={...L,...U(Ai.validate,L.message)},!r))return k(L.message),F}else if(Gt(S)){let z={};for(const L in S){if(!Kn(z)&&!r)break;const we=nT(await S[L](I,n),R,L);we&&(z={...we,...U(L,we.message)},k(we.message),r&&(F[C]=z))}if(!Kn(z)&&(F[C]={ref:R,...z},!r))return F}}return k(!0),F};const rk={mode:is.onSubmit,reValidateMode:is.onChange,shouldFocusError:!0};function sk(t={}){let e={...rk,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:as(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Gt(e.defaultValues)||Gt(e.values)?Pn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Pn(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...y};const b={array:KE(),state:KE()},w=e.criteriaMode===is.all,S=q=>ee=>{clearTimeout(m),m=setTimeout(q,ee)},C=async q=>{if(!e.disabled&&(y.isValid||x.isValid||q)){const ee=e.resolver?Kn((await V()).errors):await O(r,!0);ee!==n.isValid&&b.state.next({isValid:ee})}},N=(q,ee)=>{!e.disabled&&(y.isValidating||y.validatingFields||x.isValidating||x.validatingFields)&&((q||Array.from(d.mount)).forEach(ie=>{ie&&(ee?Ct(n.validatingFields,ie,ee):on(n.validatingFields,ie))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Kn(n.validatingFields)}))},M=(q,ee=[],ie,_e,ge=!0,me=!0)=>{if(_e&&ie&&!e.disabled){if(c.action=!0,me&&Array.isArray(Ne(r,q))){const be=ie(Ne(r,q),_e.argA,_e.argB);ge&&Ct(r,q,be)}if(me&&Array.isArray(Ne(n.errors,q))){const be=ie(Ne(n.errors,q),_e.argA,_e.argB);ge&&Ct(n.errors,q,be),tk(n.errors,q)}if((y.touchedFields||x.touchedFields)&&me&&Array.isArray(Ne(n.touchedFields,q))){const be=ie(Ne(n.touchedFields,q),_e.argA,_e.argB);ge&&Ct(n.touchedFields,q,be)}(y.dirtyFields||x.dirtyFields)&&(n.dirtyFields=Gu(i,o)),b.state.next({name:q,isDirty:B(q,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(o,q,ee)},I=(q,ee)=>{Ct(n.errors,q,ee),b.state.next({errors:n.errors})},R=q=>{n.errors=q,b.state.next({errors:n.errors,isValid:!1})},k=(q,ee,ie,_e)=>{const ge=Ne(r,q);if(ge){const me=Ne(o,q,Zt(ie)?Ne(i,q):ie);Zt(me)||_e&&_e.defaultChecked||ee?Ct(o,q,ee?me:XE(ge._f)):we(q,me),c.mount&&C()}},F=(q,ee,ie,_e,ge)=>{let me=!1,be=!1;const Re={name:q};if(!e.disabled){if(!ie||_e){(y.isDirty||x.isDirty)&&(be=n.isDirty,n.isDirty=Re.isDirty=B(),me=be!==Re.isDirty);const Ge=_a(Ne(i,q),ee);be=!!Ne(n.dirtyFields,q),Ge?on(n.dirtyFields,q):Ct(n.dirtyFields,q,!0),Re.dirtyFields=n.dirtyFields,me=me||(y.dirtyFields||x.dirtyFields)&&be!==!Ge}if(ie){const Ge=Ne(n.touchedFields,q);Ge||(Ct(n.touchedFields,q,ie),Re.touchedFields=n.touchedFields,me=me||(y.touchedFields||x.touchedFields)&&Ge!==ie)}me&&ge&&b.state.next(Re)}return me?Re:{}},W=(q,ee,ie,_e)=>{const ge=Ne(n.errors,q),me=(y.isValid||x.isValid)&&Ms(ee)&&n.isValid!==ee;if(e.delayError&&ie?(f=S(()=>I(q,ie)),f(e.delayError)):(clearTimeout(m),f=null,ie?Ct(n.errors,q,ie):on(n.errors,q)),(ie?!_a(ge,ie):ge)||!Kn(_e)||me){const be={..._e,...me&&Ms(ee)?{isValid:ee}:{},errors:n.errors,name:q};n={...n,...be},b.state.next(be)}},V=async q=>{N(q,!0);const ee=await e.resolver(o,e.context,WP(q||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return N(q),ee},j=async q=>{const{errors:ee}=await V(q);if(q)for(const ie of q){const _e=Ne(ee,ie);_e?Ct(n.errors,ie,_e):on(n.errors,ie)}else n.errors=ee;return ee},O=async(q,ee,ie={valid:!0})=>{for(const _e in q){const ge=q[_e];if(ge){const{_f:me,...be}=ge;if(me){const Re=d.array.has(me.name),Ge=ge._f&&QP(ge._f);Ge&&y.validatingFields&&N([_e],!0);const ct=await rT(ge,d.disabled,o,w,e.shouldUseNativeValidation&&!ee,Re);if(Ge&&y.validatingFields&&N([_e]),ct[me.name]&&(ie.valid=!1,ee))break;!ee&&(Ne(ct,me.name)?Re?nk(n.errors,ct,me.name):Ct(n.errors,me.name,ct[me.name]):on(n.errors,me.name))}!Kn(be)&&await O(be,ee,ie)}}return ie.valid},U=()=>{for(const q of d.unMount){const ee=Ne(r,q);ee&&(ee._f.refs?ee._f.refs.every(ie=>!l0(ie)):!l0(ee._f.ref))&&Ee(q)}d.unMount=new Set},B=(q,ee)=>!e.disabled&&(q&&ee&&Ct(o,q,ee),!_a(H(),i)),z=(q,ee,ie)=>$P(q,d,{...c.mount?o:Zt(ee)?i:Vs(q)?{[q]:ee}:ee},ie,ee),L=q=>fp(Ne(c.mount?o:i,q,e.shouldUnregister?Ne(i,q,[]):[])),we=(q,ee,ie={})=>{const _e=Ne(r,q);let ge=ee;if(_e){const me=_e._f;me&&(!me.disabled&&Ct(o,q,O3(ee,me)),ge=Dm(me.ref)&&Yn(ee)?"":ee,j3(me.ref)?[...me.ref.options].forEach(be=>be.selected=ge.includes(be.value)):me.refs?Xd(me.ref)?me.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(ge)?be.checked=!!ge.find(Re=>Re===be.value):be.checked=ge===be.value||!!ge)}):me.refs.forEach(be=>be.checked=be.value===ge):Fx(me.ref)?me.ref.value="":(me.ref.value=ge,me.ref.type||b.state.next({name:q,values:Pn(o)})))}(ie.shouldDirty||ie.shouldTouch)&&F(q,ge,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&ve(q)},pe=(q,ee,ie)=>{for(const _e in ee){if(!ee.hasOwnProperty(_e))return;const ge=ee[_e],me=`${q}.${_e}`,be=Ne(r,me);(d.array.has(q)||Gt(ge)||be&&!be._f)&&!Do(ge)?pe(me,ge,ie):we(me,ge,ie)}},K=(q,ee,ie={})=>{const _e=Ne(r,q),ge=d.array.has(q),me=Pn(ee);Ct(o,q,me),ge?(b.array.next({name:q,values:Pn(o)}),(y.isDirty||y.dirtyFields||x.isDirty||x.dirtyFields)&&ie.shouldDirty&&b.state.next({name:q,dirtyFields:Gu(i,o),isDirty:B(q,me)})):_e&&!_e._f&&!Yn(me)?pe(q,me,ie):we(q,me,ie),eT(q,d)&&b.state.next({...n}),b.state.next({name:c.mount?q:void 0,values:Pn(o)})},Z=async q=>{c.mount=!0;const ee=q.target;let ie=ee.name,_e=!0;const ge=Ne(r,ie),me=Ge=>{_e=Number.isNaN(Ge)||Do(Ge)&&isNaN(Ge.getTime())||_a(Ge,Ne(o,ie,Ge))},be=ZE(e.mode),Re=ZE(e.reValidateMode);if(ge){let Ge,ct;const Er=ee.type?XE(ge._f):LP(q),zn=q.type===GE.BLUR||q.type===GE.FOCUS_OUT,Tr=!XP(ge._f)&&!e.resolver&&!Ne(n.errors,ie)&&!ge._f.deps||ek(zn,Ne(n.touchedFields,ie),n.isSubmitted,Re,be),er=eT(ie,d,zn);Ct(o,ie,Er),zn?(ge._f.onBlur&&ge._f.onBlur(q),f&&f(0)):ge._f.onChange&&ge._f.onChange(q);const tr=F(ie,Er,zn),In=!Kn(tr)||er;if(!zn&&b.state.next({name:ie,type:q.type,values:Pn(o)}),Tr)return(y.isValid||x.isValid)&&(e.mode==="onBlur"?zn&&C():zn||C()),In&&b.state.next({name:ie,...er?{}:tr});if(!zn&&er&&b.state.next({...n}),e.resolver){const{errors:Sr}=await V([ie]);if(me(Er),_e){const Ar=tT(n.errors,r,ie),Zr=tT(Sr,r,Ar.name||ie);Ge=Zr.error,ie=Zr.name,ct=Kn(Sr)}}else N([ie],!0),Ge=(await rT(ge,d.disabled,o,w,e.shouldUseNativeValidation))[ie],N([ie]),me(Er),_e&&(Ge?ct=!1:(y.isValid||x.isValid)&&(ct=await O(r,!0)));_e&&(ge._f.deps&&ve(ge._f.deps),W(ie,ct,Ge,tr))}},re=(q,ee)=>{if(Ne(n.errors,ee)&&q.focus)return q.focus(),1},ve=async(q,ee={})=>{let ie,_e;const ge=dd(q);if(e.resolver){const me=await j(Zt(q)?q:ge);ie=Kn(me),_e=q?!ge.some(be=>Ne(me,be)):ie}else q?(_e=(await Promise.all(ge.map(async me=>{const be=Ne(r,me);return await O(be&&be._f?{[me]:be}:be)}))).every(Boolean),!(!_e&&!n.isValid)&&C()):_e=ie=await O(r);return b.state.next({...!Vs(q)||(y.isValid||x.isValid)&&ie!==n.isValid?{}:{name:q},...e.resolver||!q?{isValid:ie}:{},errors:n.errors}),ee.shouldFocus&&!_e&&fd(r,re,q?ge:d.mount),_e},H=q=>{const ee={...c.mount?o:i};return Zt(q)?ee:Vs(q)?Ne(ee,q):q.map(ie=>Ne(ee,ie))},le=(q,ee)=>({invalid:!!Ne((ee||n).errors,q),isDirty:!!Ne((ee||n).dirtyFields,q),error:Ne((ee||n).errors,q),isValidating:!!Ne(n.validatingFields,q),isTouched:!!Ne((ee||n).touchedFields,q)}),he=q=>{q&&dd(q).forEach(ee=>on(n.errors,ee)),b.state.next({errors:q?n.errors:{}})},fe=(q,ee,ie)=>{const _e=(Ne(r,q,{_f:{}})._f||{}).ref,ge=Ne(n.errors,q)||{},{ref:me,message:be,type:Re,...Ge}=ge;Ct(n.errors,q,{...Ge,...ee,ref:_e}),b.state.next({name:q,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&_e&&_e.focus&&_e.focus()},Ie=(q,ee)=>as(q)?b.state.subscribe({next:ie=>q(z(void 0,ee),ie)}):z(q,ee,!0),He=q=>b.state.subscribe({next:ee=>{JP(q.name,ee.name,q.exact)&&ZP(ee,q.formState||y,bn,q.reRenderRoot)&&q.callback({values:{...o},...n,...ee})}}).unsubscribe,Ce=q=>(c.mount=!0,x={...x,...q.formState},He({...q,formState:x})),Ee=(q,ee={})=>{for(const ie of q?dd(q):d.mount)d.mount.delete(ie),d.array.delete(ie),ee.keepValue||(on(r,ie),on(o,ie)),!ee.keepError&&on(n.errors,ie),!ee.keepDirty&&on(n.dirtyFields,ie),!ee.keepTouched&&on(n.touchedFields,ie),!ee.keepIsValidating&&on(n.validatingFields,ie),!e.shouldUnregister&&!ee.keepDefaultValue&&on(i,ie);b.state.next({values:Pn(o)}),b.state.next({...n,...ee.keepDirty?{isDirty:B()}:{}}),!ee.keepIsValid&&C()},Me=({disabled:q,name:ee})=>{(Ms(q)&&c.mount||q||d.disabled.has(ee))&&(q?d.disabled.add(ee):d.disabled.delete(ee))},jt=(q,ee={})=>{let ie=Ne(r,q);const _e=Ms(ee.disabled)||Ms(e.disabled);return Ct(r,q,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:q}},name:q,mount:!0,...ee}}),d.mount.add(q),ie?Me({disabled:Ms(ee.disabled)?ee.disabled:e.disabled,name:q}):k(q,!0,ee.value),{..._e?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:Ku(ee.min),max:Ku(ee.max),minLength:Ku(ee.minLength),maxLength:Ku(ee.maxLength),pattern:Ku(ee.pattern)}:{},name:q,onChange:Z,onBlur:Z,ref:ge=>{if(ge){jt(q,ee),ie=Ne(r,q);const me=Zt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,be=GP(me),Re=ie._f.refs||[];if(be?Re.find(Ge=>Ge===me):me===ie._f.ref)return;Ct(r,q,{_f:{...ie._f,...be?{refs:[...Re.filter(l0),me,...Array.isArray(Ne(i,q))?[{}]:[]],ref:{type:me.type,name:q}}:{ref:me}}}),k(q,!1,void 0,me)}else ie=Ne(r,q,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(FP(d.array,q)&&c.action)&&d.unMount.add(q)}}},Kt=()=>e.shouldFocusError&&fd(r,re,d.mount),Jn=q=>{Ms(q)&&(b.state.next({disabled:q}),fd(r,(ee,ie)=>{const _e=Ne(r,ie);_e&&(ee.disabled=_e._f.disabled||q,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ge=>{ge.disabled=_e._f.disabled||q}))},0,!1))},cr=(q,ee)=>async ie=>{let _e;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ge=Pn(o);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:be}=await V();n.errors=me,ge=be}else await O(r);if(d.disabled.size)for(const me of d.disabled)Ct(ge,me,void 0);if(on(n.errors,"root"),Kn(n.errors)){b.state.next({errors:{}});try{await q(ge,ie)}catch(me){_e=me}}else ee&&await ee({...n.errors},ie),Kt(),setTimeout(Kt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},wr=(q,ee={})=>{Ne(r,q)&&(Zt(ee.defaultValue)?K(q,Pn(Ne(i,q))):(K(q,ee.defaultValue),Ct(i,q,Pn(ee.defaultValue))),ee.keepTouched||on(n.touchedFields,q),ee.keepDirty||(on(n.dirtyFields,q),n.isDirty=ee.defaultValue?B(q,Pn(Ne(i,q))):B()),ee.keepError||(on(n.errors,q),y.isValid&&C()),b.state.next({...n}))},ur=(q,ee={})=>{const ie=q?Pn(q):i,_e=Pn(ie),ge=Kn(q),me=ge?i:_e;if(ee.keepDefaultValues||(i=ie),!ee.keepValues){if(ee.keepDirtyValues){const be=new Set([...d.mount,...Object.keys(Gu(i,o))]);for(const Re of Array.from(be))Ne(n.dirtyFields,Re)?Ct(me,Re,Ne(o,Re)):K(Re,Ne(me,Re))}else{if(Lx&&Zt(q))for(const be of d.mount){const Re=Ne(r,be);if(Re&&Re._f){const Ge=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Dm(Ge)){const ct=Ge.closest("form");if(ct){ct.reset();break}}}}for(const be of d.mount)K(be,Ne(me,be))}o=Pn(me),b.array.next({values:{...me}}),b.state.next({values:{...me}})}d={mount:ee.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!_a(q,i)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:ee.keepDirtyValues?ee.keepDefaultValues&&o?Gu(i,o):n.dirtyFields:ee.keepDefaultValues&&q?Gu(i,q):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qr=(q,ee)=>ur(as(q)?q(o):q,ee),ni=(q,ee={})=>{const ie=Ne(r,q),_e=ie&&ie._f;if(_e){const ge=_e.refs?_e.refs[0]:_e.ref;ge.focus&&(ge.focus(),ee.shouldSelect&&as(ge.select)&&ge.select())}},bn=q=>{n={...n,...q}},Xr={control:{register:jt,unregister:Ee,getFieldState:le,handleSubmit:cr,setError:fe,_subscribe:He,_runSchema:V,_getWatch:z,_getDirty:B,_setValid:C,_setFieldArray:M,_setDisabledField:Me,_setErrors:R,_getFieldArray:L,_reset:ur,_resetDefaultValues:()=>as(e.defaultValues)&&e.defaultValues().then(q=>{Qr(q,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Jn,_subjects:b,_proxyFormState:y,get _fields(){return r},get _formValues(){return o},get _state(){return c},set _state(q){c=q},get _defaultValues(){return i},get _names(){return d},set _names(q){d=q},get _formState(){return n},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:Ce,trigger:ve,register:jt,handleSubmit:cr,watch:Ie,setValue:K,getValues:H,reset:Qr,resetField:wr,clearErrors:he,unregister:Ee,setError:fe,setFocus:ni,getFieldState:le};return{...Xr,formControl:Xr}}function L3(t={}){const e=Oe.useRef(void 0),n=Oe.useRef(void 0),[r,i]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:as(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:as(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:sk(t),formState:r},t.formControl&&t.defaultValues&&!as(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,HP(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(d=>({...d,isReady:!0})),o._formState.isReady=!0,c},[o]),Oe.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Oe.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!Kn(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),Oe.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Oe.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==r.isDirty&&o._subjects.state.next({isDirty:c})}},[o,r.isDirty]),Oe.useEffect(()=>{t.values&&!_a(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(c=>({...c}))):o._resetDefaultValues()},[o,t.values]),Oe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=zP(r,o),e.current}const ik=()=>{};var sT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ak=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},F3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,y=o>>2,x=(o&3)<<4|d>>4;let b=(d&15)<<2|m>>6,w=m&63;f||(w=64,c||(b=64)),r.push(n[y],n[x],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ak(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||x==null)throw new ok;const b=o<<2|d>>4;if(r.push(b),m!==64){const w=d<<4&240|m>>2;if(r.push(w),x!==64){const S=m<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ok extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lk=function(t){const e=U3(t);return F3.encodeByteArray(e,!0)},Pm=function(t){return lk(t).replace(/\./g,"")},B3=function(t){try{return F3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=()=>ck().__FIREBASE_DEFAULTS__,dk=()=>{if(typeof process>"u"||typeof sT>"u")return;const t=sT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B3(t[1]);return e&&JSON.parse(e)},hp=()=>{try{return ik()||uk()||dk()||fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z3=t=>{var e,n;return(n=(e=hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hk=t=>{const e=z3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H3=()=>{var t;return(t=hp())===null||t===void 0?void 0:t.config},$3=t=>{var e;return(e=hp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return t.endsWith(".cloudworkstations.dev")}async function q3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pm(JSON.stringify(n)),Pm(JSON.stringify(c)),""].join(".")}const hd={};function gk(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function yk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iT=!1;function mp(t,e){if(typeof window>"u"||typeof document>"u"||!Zd(window.location.host)||hd[t]===e||hd[t]||iT)return;hd[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=gk().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{iT=!0,c()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=yk(r),w=n("text"),S=document.getElementById(w)||document.createElement("span"),C=n("learnmore"),N=document.getElementById(C)||document.createElement("a"),M=n("preprendIcon"),I=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;d(R),y(N,C);const k=m();f(I,M),R.append(I,S,N,k),document.body.appendChild(R)}o?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function xk(){var t;const e=(t=hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _k(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ek(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tk(){return!xk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ak(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rk,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jd.prototype.create)}}class Jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?Ck(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Bi(i,d,r)}}function Ck(t,e){return t.replace(Nk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nk=/\{\$([^}]+)}/g;function Ik(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(aT(o)&&aT(c)){if(!Oo(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Dk(t,e){const n=new jk(t,e);return n.subscribe.bind(n)}class jk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=c0),i.error===void 0&&(i.error=c0),i.complete===void 0&&(i.complete=c0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function c0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ok(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kk(t){return t===Ro?void 0:t}function Ok(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const Lk={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Uk=tt.INFO,Fk={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Bk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zx{constructor(e){this.name=e,this._logLevel=Uk,this._logHandler=Bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const zk=(t,e)=>e.some(n=>t instanceof n);let oT,lT;function Hk(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $k(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G3=new WeakMap,av=new WeakMap,K3=new WeakMap,u0=new WeakMap,Hx=new WeakMap;function qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ra(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&G3.set(n,t)}).catch(()=>{}),Hx.set(e,t),e}function Gk(t){if(av.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});av.set(t,e)}let ov={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kk(t){ov=t(ov)}function Yk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(d0(this),e,...n);return K3.set(r,e.sort?e.sort():[e]),Ra(r)}:$k().includes(t)?function(...e){return t.apply(d0(this),e),Ra(G3.get(this))}:function(...e){return Ra(t.apply(d0(this),e))}}function Wk(t){return typeof t=="function"?Yk(t):(t instanceof IDBTransaction&&Gk(t),zk(t,Hk())?new Proxy(t,ov):t)}function Ra(t){if(t instanceof IDBRequest)return qk(t);if(u0.has(t))return u0.get(t);const e=Wk(t);return e!==t&&(u0.set(t,e),Hx.set(e,t)),e}const d0=t=>Hx.get(t);function Qk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=Ra(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ra(c.result),f.oldVersion,f.newVersion,Ra(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Xk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],f0=new Map;function cT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f0.get(e))return f0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xk.includes(n)))return;const o=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&f.done]))[0]};return f0.set(e,o),o}Kk(t=>({...t,get:(e,n,r)=>cT(e,n)||t.get(e,n,r),has:(e,n)=>!!cT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lv="@firebase/app",uT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new zx("@firebase/app"),tO="@firebase/app-compat",nO="@firebase/analytics-compat",rO="@firebase/analytics",sO="@firebase/app-check-compat",iO="@firebase/app-check",aO="@firebase/auth",oO="@firebase/auth-compat",lO="@firebase/database",cO="@firebase/data-connect",uO="@firebase/database-compat",dO="@firebase/functions",fO="@firebase/functions-compat",hO="@firebase/installations",mO="@firebase/installations-compat",pO="@firebase/messaging",gO="@firebase/messaging-compat",yO="@firebase/performance",vO="@firebase/performance-compat",xO="@firebase/remote-config",bO="@firebase/remote-config-compat",_O="@firebase/storage",wO="@firebase/storage-compat",EO="@firebase/firestore",TO="@firebase/ai",SO="@firebase/firestore-compat",AO="firebase",RO="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="[DEFAULT]",CO={[lv]:"fire-core",[tO]:"fire-core-compat",[rO]:"fire-analytics",[nO]:"fire-analytics-compat",[iO]:"fire-app-check",[sO]:"fire-app-check-compat",[aO]:"fire-auth",[oO]:"fire-auth-compat",[lO]:"fire-rtdb",[cO]:"fire-data-connect",[uO]:"fire-rtdb-compat",[dO]:"fire-fn",[fO]:"fire-fn-compat",[hO]:"fire-iid",[mO]:"fire-iid-compat",[pO]:"fire-fcm",[gO]:"fire-fcm-compat",[yO]:"fire-perf",[vO]:"fire-perf-compat",[xO]:"fire-rc",[bO]:"fire-rc-compat",[_O]:"fire-gcs",[wO]:"fire-gcs-compat",[EO]:"fire-fst",[SO]:"fire-fst-compat",[TO]:"fire-vertex","fire-js":"fire-js",[AO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Map,NO=new Map,uv=new Map;function dT(t,e){try{t.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dc(t){const e=t.name;if(uv.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const n of km.values())dT(n,t);for(const n of NO.values())dT(n,t);return!0}function $x(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new Jd("app","Firebase",IO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=RO;function Y3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ca.create("bad-app-name",{appName:String(i)});if(n||(n=H3()),!n)throw Ca.create("no-options");const o=km.get(i);if(o){if(Oo(n,o.options)&&Oo(r,o.config))return o;throw Ca.create("duplicate-app",{appName:i})}const c=new Vk(i);for(const f of uv.values())c.addComponent(f);const d=new DO(n,r,c);return km.set(i,d),d}function W3(t=cv){const e=km.get(t);if(!e&&t===cv&&H3())return Y3();if(!e)throw Ca.create("no-app",{appName:t});return e}function Na(t,e,n){var r;let i=(r=CO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}dc(new Vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firebase-heartbeat-database",MO=1,Id="firebase-heartbeat-store";let h0=null;function Q3(){return h0||(h0=Qk(jO,MO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),h0}async function PO(t){try{const n=(await Q3()).transaction(Id),r=await n.objectStore(Id).get(X3(t));return await n.done,r}catch(e){if(e instanceof Bi)Oi.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(n.message)}}}async function fT(t,e){try{const r=(await Q3()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,X3(t)),await r.done}catch(n){if(n instanceof Bi)Oi.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oi.warn(r.message)}}}function X3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1024,OO=30;class VO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>OO){const c=FO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hT(),{heartbeatsToSend:r,unsentEntries:i}=LO(this._heartbeatsCache.heartbeats),o=Pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Oi.warn(n),""}}}function hT(){return new Date().toISOString().substring(0,10)}function LO(t,e=kO){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),mT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sk()?Ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mT(t){return Pm(JSON.stringify({version:2,heartbeats:t})).length}function FO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){dc(new Vo("platform-logger",e=>new Jk(e),"PRIVATE")),dc(new Vo("heartbeat",e=>new VO(e),"PRIVATE")),Na(lv,uT,t),Na(lv,uT,"esm2017"),Na("fire-js","")}BO("");var zO="firebase",HO="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Na(zO,HO,"app");function qx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=Z3,J3=new Jd("auth","Firebase",Z3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new zx("@firebase/auth");function qO(t,...e){Om.logLevel<=tt.WARN&&Om.warn(`Auth (${Cc}): ${t}`,...e)}function cm(t,...e){Om.logLevel<=tt.ERROR&&Om.error(`Auth (${Cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw Gx(t,...e)}function Hs(t,...e){return Gx(t,...e)}function eR(t,e,n){const r=Object.assign(Object.assign({},$O()),{[e]:n});return new Jd("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return eR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J3.create(t,...e)}function Le(t,e,...n){if(!t)throw Gx(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cm(e),new Error(e)}function Vi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GO(){return pT()==="http:"||pT()==="https:"}function pT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||_k()||"connection"in navigator)?navigator.onLine:!0}function YO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=vk()||wk()}get(){return KO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XO=new tf(3e4,6e4);function $a(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zi(t,e,n,r,i={}){return nR(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=ef(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return bk()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Zd(t.emulatorConfig.host)&&(m.credentials="include"),tR.fetch()(await rR(t,t.config.apiHost,n,d),m)})}async function nR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WO),e);try{const i=new JO(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw $h(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw $h(t,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw eR(t,y,m);us(t,y)}}catch(i){if(i instanceof Bi)throw i;us(t,"network-request-failed",{message:String(i)})}}async function nf(t,e,n,r,i={}){const o=await zi(t,e,n,r,i);return"mfaPendingCredential"in o&&us(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function rR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,c=o.config.emulator?Kx(t.config,i):`${t.config.apiScheme}://${i}`;return QO.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function ZO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hs(this.auth,"network-request-failed")),XO.get())})}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hs(t,e,r);return i.customData._tokenResponse=n,i}function gT(t){return t!==void 0&&t.enterprise!==void 0}class eV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tV(t,e){return zi(t,"GET","/v2/recaptchaConfig",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function Vm(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=Yx(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:md(m0(i.auth_time)),issuedAtTime:md(m0(i.iat)),expirationTime:md(m0(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function m0(t){return Number(t)*1e3}function Yx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=B3(n);return i?JSON.parse(i):(cm("Failed to decode base64 JWT payload"),null)}catch(i){return cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yT(t){const e=Yx(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&sV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=md(this.lastLoginAt),this.creationTime=md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fc(t,Vm(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sR(o.providerUserInfo):[],d=oV(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new fv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,x)}async function aV(t){const e=un(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sR(t){return t.map(e=>{var{providerId:n}=e,r=qx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e){const n=await nR(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=await rR(t,i,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",tR.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cV(t,e){return zi(t,"POST","/v2/accounts:revokeToken",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=yT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await lV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new nc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rV(this,e)}reload(){return aV(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await fc(this,nV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,c,d,f,m,y;const x=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,C=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(m=n.createdAt)!==null&&m!==void 0?m:void 0,I=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:R,emailVerified:k,isAnonymous:F,providerData:W,stsTokenManager:V}=n;Le(R&&V,e,"internal-error");const j=nc.fromJSON(this.name,V);Le(typeof R=="string",e,"internal-error"),xa(x,e.name),xa(b,e.name),Le(typeof k=="boolean",e,"internal-error"),Le(typeof F=="boolean",e,"internal-error"),xa(w,e.name),xa(S,e.name),xa(C,e.name),xa(N,e.name),xa(M,e.name),xa(I,e.name);const O=new os({uid:R,auth:e,email:b,emailVerified:k,displayName:x,isAnonymous:F,photoURL:S,phoneNumber:w,tenantId:C,stsTokenManager:j,createdAt:M,lastLoginAt:I});return W&&Array.isArray(W)&&(O.providerData=W.map(U=>Object.assign({},U))),N&&(O._redirectEventId=N),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const o=new os({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?sR(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),d=new nc;d.updateFromIdToken(r);const f=new os({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function Ci(t){Vi(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iR.type="NONE";const xT=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,o),this.fullPersistenceKey=um("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vm(this.auth,{idToken:e}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rc(Ci(xT),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||Ci(xT);const c=um(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){let x;if(typeof y=="string"){const b=await Vm(e,{idToken:y}).catch(()=>{});if(!b)break;x=await os._fromGetAccountInfoResponse(e,b,y)}else x=os._fromJSON(e,y);m!==o&&(d=x),o=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new rc(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dR(e))return"Blackberry";if(fR(e))return"Webos";if(oR(e))return"Safari";if((e.includes("chrome/")||lR(e))&&!e.includes("edge/"))return"Chrome";if(uR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aR(t=Fn()){return/firefox\//i.test(t)}function oR(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lR(t=Fn()){return/crios\//i.test(t)}function cR(t=Fn()){return/iemobile/i.test(t)}function uR(t=Fn()){return/android/i.test(t)}function dR(t=Fn()){return/blackberry/i.test(t)}function fR(t=Fn()){return/webos/i.test(t)}function Wx(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uV(t=Fn()){var e;return Wx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dV(){return Ek()&&document.documentMode===10}function hR(t=Fn()){return Wx(t)||uR(t)||fR(t)||dR(t)||/windows phone/i.test(t)||cR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=bT(Fn());break;case"Worker":n=`${bT(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e={}){return zi(t,"GET","/v2/passwordPolicy",$a(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=6;class pV{constructor(e){var n,r,i,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:mV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new fV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vm(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Di(this));const n=e?un(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hV(this),n=new pV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return un(t)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dk(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yV(t){pp=t}function pR(t){return pp.loadJS(t)}function vV(){return pp.recaptchaEnterpriseScript}function xV(){return pp.gapiScript}function bV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _V{constructor(){this.enterprise=new wV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EV="recaptcha-enterprise",gR="NO_RECAPTCHA";class TV{constructor(e){this.type=EV,this.auth=Go(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{tV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new eV(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function i(o,c,d){const f=window.grecaptcha;gT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(gR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _V().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&gT(window.grecaptcha))i(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vV();f.length!==0&&(f+=d),pR(f).then(()=>{i(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function wT(t,e,n,r=!1,i=!1){const o=new TV(t);let c;if(i)c=gR;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hv(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wT(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wT(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){const n=$x(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Oo(o,e??{}))return i;us(i,"already-initialized")}return n.initialize({options:e})}function AV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RV(t,e,n){const r=Go(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=yR(e),{host:c,port:d}=CV(e),f=d===null?"":`:${d}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Oo(m,r.config.emulator)&&Oo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Zd(c)?(mp("Auth",!0),q3(`${o}//${c}${f}`)):NV()}function yR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CV(t){const e=yR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ET(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:ET(c)}}}function ET(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function IV(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return nf(t,"POST","/v1/accounts:signInWithPassword",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}async function MV(t,e){return nf(t,"POST","/v1/accounts:signInWithEmailLink",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Qx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(e,n,"signInWithPassword",DV);case"emailLink":return jV(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(e,r,"signUpPassword",IV);case"emailLink":return MV(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e){return nf(t,"POST","/v1/accounts:signInWithIdp",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="http://localhost";class Lo extends Qx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=qx(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new Lo(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return sc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sc(e,n)}buildRequest(){const e={requestUri:PV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OV(t){const e=Xu(Zu(t)).link,n=e?Xu(Zu(e)).deep_link_id:null,r=Xu(Zu(t)).deep_link_id;return(r?Xu(Zu(r)).link:null)||r||n||e||t}class Xx{constructor(e){var n,r,i,o,c,d;const f=Xu(Zu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,x=kV((i=f.mode)!==null&&i!==void 0?i:null);Le(m&&y&&x,"argument-error"),this.apiKey=m,this.operation=x,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=OV(e);try{return new Xx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Dd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xx.parseLink(n);return Le(r,"argument-error"),Dd._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends vR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends rf{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lo._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends rf{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends rf{constructor(){super("twitter.com")}static credential(e,n){return Lo._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return nf(t,"POST","/v1/accounts:signUp",$a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await os._fromIdTokenResponse(e,r,i),c=TT(r);return new Uo({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TT(r);return new Uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Bi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Um(e,n,r,i)}}function xR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,o,e,r):o})}async function LV(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e,n=!1){const{auth:r}=t;if($r(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const o=await fc(t,xR(r,i,e,t),n);Le(o.idToken,r,"internal-error");const c=Yx(o.idToken);Le(c,r,"internal-error");const{sub:d}=c;return Le(t.uid===d,r,"user-mismatch"),Uo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&us(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e,n=!1){if($r(t.app))return Promise.reject(Di(t));const r="signIn",i=await xR(t,r,e),o=await Uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function FV(t,e){return bR(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BV(t,e,n){if($r(t.app))return Promise.reject(Di(t));const r=Go(t),c=await hv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_R(t),f}),d=await Uo._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function zV(t,e,n){return $r(t.app)?Promise.reject(Di(t)):FV(un(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_R(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e){return zi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=un(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await fc(r,HV(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function qV(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function GV(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function KV(t,e,n,r){return un(t).onAuthStateChanged(e,n,r)}function YV(t){return un(t).signOut()}const Fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1e3,QV=10;class ER extends wR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);dV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ER.type="LOCAL";const XV=ER;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR extends wR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TR.type="SESSION";const SR=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async m=>m(n.origin,o)),f=await ZV(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const m=Zx("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(x){const b=x;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function e7(t){$s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function t7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r7(){return AR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",s7=1,Bm="firebaseLocalStorage",CR="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function i7(){const t=indexedDB.deleteDatabase(RR);return new sf(t).toPromise()}function mv(){const t=indexedDB.open(RR,s7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bm,{keyPath:CR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bm)?e(r):(r.close(),await i7(),e(await mv()))})})}async function ST(t,e,n){const r=yp(t,!0).put({[CR]:e,value:n});return new sf(r).toPromise()}async function a7(t,e){const n=yp(t,!1).get(e),r=await new sf(n).toPromise();return r===void 0?null:r.value}function AT(t,e){const n=yp(t,!0).delete(e);return new sf(n).toPromise()}const o7=800,l7=3;class NR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(r7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t7(),!this.activeServiceWorker)return;this.sender=new JV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await ST(e,Fm,"1"),await AT(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ST(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yp(i,!1).getAll();return new sf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NR.type="LOCAL";const c7=NR;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t,e){return e?Ci(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Qx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d7(t){return bR(t.auth,new Jx(t),t.bypassAuthState)}function f7(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),UV(n,new Jx(t),t.bypassAuthState)}async function h7(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),LV(n,new Jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d7;case"linkViaPopup":case"linkViaRedirect":return h7;case"reauthViaPopup":case"reauthViaRedirect":return f7;default:us(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new tf(2e3,1e4);class Xl extends IR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Zx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m7.get())};e()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="pendingRedirect",dm=new Map;class g7 extends IR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const r=await y7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y7(t,e){const n=b7(e),r=x7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v7(t,e){dm.set(t._key(),e)}function x7(t){return Ci(t._redirectPersistence)}function b7(t){return um(p7,t.config.apiKey,t.name)}async function _7(t,e,n=!1){if($r(t.app))return Promise.reject(Di(t));const r=Go(t),i=u7(r,e),c=await new g7(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=10*60*1e3;class E7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w7&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(e))}saveEventToCache(e){this.cachedEventUids.add(RT(e)),this.lastProcessedEventTime=Date.now()}}function RT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R7=/^https?/;async function C7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S7(t);for(const n of e)try{if(N7(n))return}catch{}us(t,"unauthorized-domain")}function N7(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!R7.test(n))return!1;if(A7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new tf(3e4,6e4);function CT(){const t=$s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D7(t){return new Promise((e,n)=>{var r,i,o;function c(){CT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CT(),n(Hs(t,"network-request-failed"))},timeout:I7.get()})}if(!((i=(r=$s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$s().gapi)===null||o===void 0)&&o.load)c();else{const d=bV("iframefcb");return $s()[d]=()=>{gapi.load?c():n(Hs(t,"network-request-failed"))},pR(`${xV()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw fm=null,e})}let fm=null;function j7(t){return fm=fm||D7(t),fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new tf(5e3,15e3),P7="__/auth/iframe",k7="emulator/auth/iframe",O7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L7(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kx(e,k7):`https://${t.config.authDomain}/${P7}`,r={apiKey:e.apiKey,appName:t.name,v:Cc},i=V7.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ef(r).slice(1)}`}async function U7(t){const e=await j7(t),n=$s().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:L7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O7,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=Hs(t,"network-request-failed"),d=$s().setTimeout(()=>{o(c)},M7.get());function f(){$s().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B7=500,z7=600,H7="_blank",$7="http://localhost";class NT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q7(t,e,n,r=B7,i=z7){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},F7),{width:r.toString(),height:i.toString(),top:o,left:c}),m=Fn().toLowerCase();n&&(d=lR(m)?H7:n),aR(m)&&(e=e||$7,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[w,S])=>`${b}${w}=${S},`,"");if(uV(m)&&d!=="_self")return G7(e||"",d),new NT(null);const x=window.open(e||"",d,y);Le(x,t,"popup-blocked");try{x.focus()}catch{}return new NT(x)}function G7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="__/auth/handler",Y7="emulator/auth/handler",W7=encodeURIComponent("fac");async function IT(t,e,n,r,i,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cc,eventId:i};if(e instanceof vR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Ik(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))c[y]=x}if(e instanceof rf){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),m=f?`#${W7}=${encodeURIComponent(f)}`:"";return`${Q7(t)}?${ef(d).slice(1)}${m}`}function Q7({config:t}){return t.emulator?Kx(t,Y7):`https://${t.authDomain}/${K7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="webStorageSupport";class X7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SR,this._completeRedirectFn=_7,this._overrideRedirectResult=v7}async _openPopup(e,n,r,i){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await IT(e,n,r,dv(),i);return q7(e,c,Zx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await IT(e,n,r,dv(),i);return e7(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U7(e),r=new E7(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p0,{type:p0},i=>{var o;const c=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[p0];c!==void 0&&n(!!c),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hR()||oR()||Wx()}}const Z7=X7;var DT="@firebase/auth",jT="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tL(t){dc(new Vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},m=new gV(r,i,o,f);return AV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dc(new Vo("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(r=>new J7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Na(DT,jT,eL(t)),Na(DT,jT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=5*60,rL=$3("authIdTokenMaxAge")||nL;let MT=null;const sL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rL)return;const i=n==null?void 0:n.token;MT!==i&&(MT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iL(t=W3()){const e=$x(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SV(t,{popupRedirectResolver:Z7,persistence:[c7,XV,SR]}),r=$3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=sL(o.toString());GV(n,c,()=>c(n.currentUser)),qV(n,d=>c(d))}}const i=z3("auth");return i?RV(n,`http://${i}`):mp("Auth",!1),n}function aL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",aL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tL("Browser");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,jR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,j){function O(){}O.prototype=j.prototype,V.D=j.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(U,B,z){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return j.prototype[B].apply(U,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,j,O){O||(O=0);var U=Array(16);if(typeof j=="string")for(var B=0;16>B;++B)U[B]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(B=0;16>B;++B)U[B]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=V.g[0],O=V.g[1],B=V.g[2];var z=V.g[3],L=j+(z^O&(B^z))+U[0]+3614090360&4294967295;j=O+(L<<7&4294967295|L>>>25),L=z+(B^j&(O^B))+U[1]+3905402710&4294967295,z=j+(L<<12&4294967295|L>>>20),L=B+(O^z&(j^O))+U[2]+606105819&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(j^B&(z^j))+U[3]+3250441966&4294967295,O=B+(L<<22&4294967295|L>>>10),L=j+(z^O&(B^z))+U[4]+4118548399&4294967295,j=O+(L<<7&4294967295|L>>>25),L=z+(B^j&(O^B))+U[5]+1200080426&4294967295,z=j+(L<<12&4294967295|L>>>20),L=B+(O^z&(j^O))+U[6]+2821735955&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(j^B&(z^j))+U[7]+4249261313&4294967295,O=B+(L<<22&4294967295|L>>>10),L=j+(z^O&(B^z))+U[8]+1770035416&4294967295,j=O+(L<<7&4294967295|L>>>25),L=z+(B^j&(O^B))+U[9]+2336552879&4294967295,z=j+(L<<12&4294967295|L>>>20),L=B+(O^z&(j^O))+U[10]+4294925233&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(j^B&(z^j))+U[11]+2304563134&4294967295,O=B+(L<<22&4294967295|L>>>10),L=j+(z^O&(B^z))+U[12]+1804603682&4294967295,j=O+(L<<7&4294967295|L>>>25),L=z+(B^j&(O^B))+U[13]+4254626195&4294967295,z=j+(L<<12&4294967295|L>>>20),L=B+(O^z&(j^O))+U[14]+2792965006&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(j^B&(z^j))+U[15]+1236535329&4294967295,O=B+(L<<22&4294967295|L>>>10),L=j+(B^z&(O^B))+U[1]+4129170786&4294967295,j=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(j^O))+U[6]+3225465664&4294967295,z=j+(L<<9&4294967295|L>>>23),L=B+(j^O&(z^j))+U[11]+643717713&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^j&(B^z))+U[0]+3921069994&4294967295,O=B+(L<<20&4294967295|L>>>12),L=j+(B^z&(O^B))+U[5]+3593408605&4294967295,j=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(j^O))+U[10]+38016083&4294967295,z=j+(L<<9&4294967295|L>>>23),L=B+(j^O&(z^j))+U[15]+3634488961&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^j&(B^z))+U[4]+3889429448&4294967295,O=B+(L<<20&4294967295|L>>>12),L=j+(B^z&(O^B))+U[9]+568446438&4294967295,j=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(j^O))+U[14]+3275163606&4294967295,z=j+(L<<9&4294967295|L>>>23),L=B+(j^O&(z^j))+U[3]+4107603335&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^j&(B^z))+U[8]+1163531501&4294967295,O=B+(L<<20&4294967295|L>>>12),L=j+(B^z&(O^B))+U[13]+2850285829&4294967295,j=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(j^O))+U[2]+4243563512&4294967295,z=j+(L<<9&4294967295|L>>>23),L=B+(j^O&(z^j))+U[7]+1735328473&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^j&(B^z))+U[12]+2368359562&4294967295,O=B+(L<<20&4294967295|L>>>12),L=j+(O^B^z)+U[5]+4294588738&4294967295,j=O+(L<<4&4294967295|L>>>28),L=z+(j^O^B)+U[8]+2272392833&4294967295,z=j+(L<<11&4294967295|L>>>21),L=B+(z^j^O)+U[11]+1839030562&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^j)+U[14]+4259657740&4294967295,O=B+(L<<23&4294967295|L>>>9),L=j+(O^B^z)+U[1]+2763975236&4294967295,j=O+(L<<4&4294967295|L>>>28),L=z+(j^O^B)+U[4]+1272893353&4294967295,z=j+(L<<11&4294967295|L>>>21),L=B+(z^j^O)+U[7]+4139469664&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^j)+U[10]+3200236656&4294967295,O=B+(L<<23&4294967295|L>>>9),L=j+(O^B^z)+U[13]+681279174&4294967295,j=O+(L<<4&4294967295|L>>>28),L=z+(j^O^B)+U[0]+3936430074&4294967295,z=j+(L<<11&4294967295|L>>>21),L=B+(z^j^O)+U[3]+3572445317&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^j)+U[6]+76029189&4294967295,O=B+(L<<23&4294967295|L>>>9),L=j+(O^B^z)+U[9]+3654602809&4294967295,j=O+(L<<4&4294967295|L>>>28),L=z+(j^O^B)+U[12]+3873151461&4294967295,z=j+(L<<11&4294967295|L>>>21),L=B+(z^j^O)+U[15]+530742520&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^j)+U[2]+3299628645&4294967295,O=B+(L<<23&4294967295|L>>>9),L=j+(B^(O|~z))+U[0]+4096336452&4294967295,j=O+(L<<6&4294967295|L>>>26),L=z+(O^(j|~B))+U[7]+1126891415&4294967295,z=j+(L<<10&4294967295|L>>>22),L=B+(j^(z|~O))+U[14]+2878612391&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~j))+U[5]+4237533241&4294967295,O=B+(L<<21&4294967295|L>>>11),L=j+(B^(O|~z))+U[12]+1700485571&4294967295,j=O+(L<<6&4294967295|L>>>26),L=z+(O^(j|~B))+U[3]+2399980690&4294967295,z=j+(L<<10&4294967295|L>>>22),L=B+(j^(z|~O))+U[10]+4293915773&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~j))+U[1]+2240044497&4294967295,O=B+(L<<21&4294967295|L>>>11),L=j+(B^(O|~z))+U[8]+1873313359&4294967295,j=O+(L<<6&4294967295|L>>>26),L=z+(O^(j|~B))+U[15]+4264355552&4294967295,z=j+(L<<10&4294967295|L>>>22),L=B+(j^(z|~O))+U[6]+2734768916&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~j))+U[13]+1309151649&4294967295,O=B+(L<<21&4294967295|L>>>11),L=j+(B^(O|~z))+U[4]+4149444226&4294967295,j=O+(L<<6&4294967295|L>>>26),L=z+(O^(j|~B))+U[11]+3174756917&4294967295,z=j+(L<<10&4294967295|L>>>22),L=B+(j^(z|~O))+U[2]+718787259&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~j))+U[9]+3951481745&4294967295,V.g[0]=V.g[0]+j&4294967295,V.g[1]=V.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+z&4294967295}r.prototype.u=function(V,j){j===void 0&&(j=V.length);for(var O=j-this.blockSize,U=this.B,B=this.h,z=0;z<j;){if(B==0)for(;z<=O;)i(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<j;)if(U[B++]=V.charCodeAt(z++),B==this.blockSize){i(this,U),B=0;break}}else for(;z<j;)if(U[B++]=V[z++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=j},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var j=1;j<V.length-8;++j)V[j]=0;var O=8*this.o;for(j=V.length-8;j<V.length;++j)V[j]=O&255,O/=256;for(this.u(V),V=Array(16),j=O=0;4>j;++j)for(var U=0;32>U;U+=8)V[O++]=this.g[j]>>>U&255;return V};function o(V,j){var O=d;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=j(V)}function c(V,j){this.h=j;for(var O=[],U=!0,B=V.length-1;0<=B;B--){var z=V[B]|0;U&&z==j||(O[B]=z,U=!1)}this.g=O}var d={};function f(V){return-128<=V&&128>V?o(V,function(j){return new c([j|0],0>j?-1:0)}):new c([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return x;if(0>V)return N(m(-V));for(var j=[],O=1,U=0;V>=O;U++)j[U]=V/O|0,O*=4294967296;return new c(j,0)}function y(V,j){if(V.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(V.charAt(0)=="-")return N(y(V.substring(1),j));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(j,8)),U=x,B=0;B<V.length;B+=8){var z=Math.min(8,V.length-B),L=parseInt(V.substring(B,B+z),j);8>z?(z=m(Math.pow(j,z)),U=U.j(z).add(m(L))):(U=U.j(O),U=U.add(m(L)))}return U}var x=f(0),b=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(C(this))return-N(this).m();for(var V=0,j=1,O=0;O<this.g.length;O++){var U=this.i(O);V+=(0<=U?U:4294967296+U)*j,j*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(C(this))return"-"+N(this).toString(V);for(var j=m(Math.pow(V,6)),O=this,U="";;){var B=k(O,j).g;O=M(O,B.j(j));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=B,S(O))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var j=0;j<V.g.length;j++)if(V.g[j]!=0)return!1;return!0}function C(V){return V.h==-1}t.l=function(V){return V=M(this,V),C(V)?-1:S(V)?0:1};function N(V){for(var j=V.g.length,O=[],U=0;U<j;U++)O[U]=~V.g[U];return new c(O,~V.h).add(b)}t.abs=function(){return C(this)?N(this):this},t.add=function(V){for(var j=Math.max(this.g.length,V.g.length),O=[],U=0,B=0;B<=j;B++){var z=U+(this.i(B)&65535)+(V.i(B)&65535),L=(z>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);U=L>>>16,z&=65535,L&=65535,O[B]=L<<16|z}return new c(O,O[O.length-1]&-2147483648?-1:0)};function M(V,j){return V.add(N(j))}t.j=function(V){if(S(this)||S(V))return x;if(C(this))return C(V)?N(this).j(N(V)):N(N(this).j(V));if(C(V))return N(this.j(N(V)));if(0>this.l(w)&&0>V.l(w))return m(this.m()*V.m());for(var j=this.g.length+V.g.length,O=[],U=0;U<2*j;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<V.g.length;B++){var z=this.i(U)>>>16,L=this.i(U)&65535,we=V.i(B)>>>16,pe=V.i(B)&65535;O[2*U+2*B]+=L*pe,I(O,2*U+2*B),O[2*U+2*B+1]+=z*pe,I(O,2*U+2*B+1),O[2*U+2*B+1]+=L*we,I(O,2*U+2*B+1),O[2*U+2*B+2]+=z*we,I(O,2*U+2*B+2)}for(U=0;U<j;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=j;U<2*j;U++)O[U]=0;return new c(O,0)};function I(V,j){for(;(V[j]&65535)!=V[j];)V[j+1]+=V[j]>>>16,V[j]&=65535,j++}function R(V,j){this.g=V,this.h=j}function k(V,j){if(S(j))throw Error("division by zero");if(S(V))return new R(x,x);if(C(V))return j=k(N(V),j),new R(N(j.g),N(j.h));if(C(j))return j=k(V,N(j)),new R(N(j.g),j.h);if(30<V.g.length){if(C(V)||C(j))throw Error("slowDivide_ only works with positive integers.");for(var O=b,U=j;0>=U.l(V);)O=F(O),U=F(U);var B=W(O,1),z=W(U,1);for(U=W(U,2),O=W(O,2);!S(U);){var L=z.add(U);0>=L.l(V)&&(B=B.add(O),z=L),U=W(U,1),O=W(O,1)}return j=M(V,B.j(j)),new R(B,j)}for(B=x;0<=V.l(j);){for(O=Math.max(1,Math.floor(V.m()/j.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=m(O),L=z.j(j);C(L)||0<L.l(V);)O-=U,z=m(O),L=z.j(j);S(z)&&(z=b),B=B.add(z),V=M(V,L)}return new R(B,V)}t.A=function(V){return k(this,V).h},t.and=function(V){for(var j=Math.max(this.g.length,V.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)&V.i(U);return new c(O,this.h&V.h)},t.or=function(V){for(var j=Math.max(this.g.length,V.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)|V.i(U);return new c(O,this.h|V.h)},t.xor=function(V){for(var j=Math.max(this.g.length,V.g.length),O=[],U=0;U<j;U++)O[U]=this.i(U)^V.i(U);return new c(O,this.h^V.h)};function F(V){for(var j=V.g.length+1,O=[],U=0;U<j;U++)O[U]=V.i(U)<<1|V.i(U-1)>>>31;return new c(O,V.h)}function W(V,j){var O=j>>5;j%=32;for(var U=V.g.length-O,B=[],z=0;z<U;z++)B[z]=0<j?V.i(z+O)>>>j|V.i(z+O+1)<<32-j:V.i(z+O);return new c(B,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Ia=c}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MR,Ju,PR,hm,pv,kR,OR,VR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,T){return p==Array.prototype||p==Object.prototype||(p[_]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var _=0;_<p.length;++_){var T=p[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(p,_){if(_)e:{var T=r;p=p.split(".");for(var P=0;P<p.length-1;P++){var Q=p[P];if(!(Q in T))break e;T=T[Q]}p=p[p.length-1],P=T[p],_=_(P),_!=P&&_!=null&&e(T,p,{configurable:!0,writable:!0,value:_})}}function o(p,_){p instanceof String&&(p+="");var T=0,P=!1,Q={next:function(){if(!P&&T<p.length){var se=T++;return{value:_(se,p[se]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function m(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function y(p,_,T){return p.call.apply(p.bind,arguments)}function x(p,_,T){if(!p)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function b(p,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,b.apply(null,arguments)}function w(p,_){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),p.apply(this,P)}}function S(p,_){function T(){}T.prototype=_.prototype,p.aa=_.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(P,Q,se){for(var ye=Array(arguments.length-2),st=2;st<arguments.length;st++)ye[st-2]=arguments[st];return _.prototype[Q].apply(P,ye)}}function C(p){const _=p.length;if(0<_){const T=Array(_);for(let P=0;P<_;P++)T[P]=p[P];return T}return[]}function N(p,_){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(f(P)){const Q=p.length||0,se=P.length||0;p.length=Q+se;for(let ye=0;ye<se;ye++)p[Q+ye]=P[ye]}else p.push(P)}}class M{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function k(p){return k[" "](p),p}k[" "]=function(){};var F=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function W(p,_,T){for(const P in p)_.call(T,p[P],P,p)}function V(p,_){for(const T in p)_.call(void 0,p[T],T,p)}function j(p){const _={};for(const T in p)_[T]=p[T];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(p,_){let T,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(T in P)p[T]=P[T];for(let se=0;se<O.length;se++)T=O[se],Object.prototype.hasOwnProperty.call(P,T)&&(p[T]=P[T])}}function B(p){var _=1;p=p.split(":");const T=[];for(;0<_&&p.length;)T.push(p.shift()),_--;return p.length&&T.push(p.join(":")),T}function z(p){d.setTimeout(()=>{throw p},0)}function L(){var p=ve;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class we{constructor(){this.h=this.g=null}add(_,T){const P=pe.get();P.set(_,T),this.h?this.h.next=P:this.g=P,this.h=P}}var pe=new M(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,re=!1,ve=new we,H=()=>{const p=d.Promise.resolve(void 0);Z=()=>{p.then(le)}};var le=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(T){z(T)}var _=pe;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}re=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};d.addEventListener("test",T,_),d.removeEventListener("test",T,_)}catch{}return p}();function He(p,_){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,P=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(F){e:{try{k(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else T=="mouseover"?_=p.fromElement:T=="mouseout"&&(_=p.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&He.aa.h.call(this)}}S(He,fe);var Ce={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Me=0;function jt(p,_,T,P,Q){this.listener=p,this.proxy=null,this.src=_,this.type=T,this.capture=!!P,this.ha=Q,this.key=++Me,this.da=this.fa=!1}function Kt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Jn(p){this.src=p,this.g={},this.h=0}Jn.prototype.add=function(p,_,T,P,Q){var se=p.toString();p=this.g[se],p||(p=this.g[se]=[],this.h++);var ye=wr(p,_,P,Q);return-1<ye?(_=p[ye],T||(_.fa=!1)):(_=new jt(_,this.src,se,!!P,Q),_.fa=T,p.push(_)),_};function cr(p,_){var T=_.type;if(T in p.g){var P=p.g[T],Q=Array.prototype.indexOf.call(P,_,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(P,Q,1),se&&(Kt(_),p.g[T].length==0&&(delete p.g[T],p.h--))}}function wr(p,_,T,P){for(var Q=0;Q<p.length;++Q){var se=p[Q];if(!se.da&&se.listener==_&&se.capture==!!T&&se.ha==P)return Q}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),Qr={};function ni(p,_,T,P,Q){if(Array.isArray(_)){for(var se=0;se<_.length;se++)ni(p,_[se],T,P,Q);return null}return T=me(T),p&&p[Ee]?p.K(_,T,m(P)?!!P.capture:!1,Q):bn(p,_,T,!1,P,Q)}function bn(p,_,T,P,Q,se){if(!_)throw Error("Invalid event type");var ye=m(Q)?!!Q.capture:!!Q,st=_e(p);if(st||(p[ur]=st=new Jn(p)),T=st.add(_,T,P,ye,se),T.proxy)return T;if(P=Ya(),T.proxy=P,P.src=p,P.listener=T,p.addEventListener)Ie||(Q=ye),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),P,Q);else if(p.attachEvent)p.attachEvent(ee(_.toString()),P);else if(p.addListener&&p.removeListener)p.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ya(){function p(T){return _.call(p.src,p.listener,T)}const _=ie;return p}function Xr(p,_,T,P,Q){if(Array.isArray(_))for(var se=0;se<_.length;se++)Xr(p,_[se],T,P,Q);else P=m(P)?!!P.capture:!!P,T=me(T),p&&p[Ee]?(p=p.i,_=String(_).toString(),_ in p.g&&(se=p.g[_],T=wr(se,T,P,Q),-1<T&&(Kt(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete p.g[_],p.h--)))):p&&(p=_e(p))&&(_=p.g[_.toString()],p=-1,_&&(p=wr(_,T,P,Q)),(T=-1<p?_[p]:null)&&q(T))}function q(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ee])cr(_.i,p);else{var T=p.type,P=p.proxy;_.removeEventListener?_.removeEventListener(T,P,p.capture):_.detachEvent?_.detachEvent(ee(T),P):_.addListener&&_.removeListener&&_.removeListener(P),(T=_e(_))?(cr(T,p),T.h==0&&(T.src=null,_[ur]=null)):Kt(p)}}}function ee(p){return p in Qr?Qr[p]:Qr[p]="on"+p}function ie(p,_){if(p.da)p=!0;else{_=new He(_,this);var T=p.listener,P=p.ha||p.src;p.fa&&q(p),p=T.call(P,_)}return p}function _e(p){return p=p[ur],p instanceof Jn?p:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(p){return typeof p=="function"?p:(p[ge]||(p[ge]=function(_){return p.handleEvent(_)}),p[ge])}function be(){he.call(this),this.i=new Jn(this),this.M=this,this.F=null}S(be,he),be.prototype[Ee]=!0,be.prototype.removeEventListener=function(p,_,T,P){Xr(this,p,_,T,P)};function Re(p,_){var T,P=p.F;if(P)for(T=[];P;P=P.F)T.push(P);if(p=p.M,P=_.type||_,typeof _=="string")_=new fe(_,p);else if(_ instanceof fe)_.target=_.target||p;else{var Q=_;_=new fe(P,p),U(_,Q)}if(Q=!0,T)for(var se=T.length-1;0<=se;se--){var ye=_.g=T[se];Q=Ge(ye,P,!0,_)&&Q}if(ye=_.g=p,Q=Ge(ye,P,!0,_)&&Q,Q=Ge(ye,P,!1,_)&&Q,T)for(se=0;se<T.length;se++)ye=_.g=T[se],Q=Ge(ye,P,!1,_)&&Q}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var T=p.g[_],P=0;P<T.length;P++)Kt(T[P]);delete p.g[_],p.h--}}this.F=null},be.prototype.K=function(p,_,T,P){return this.i.add(String(p),_,!1,T,P)},be.prototype.L=function(p,_,T,P){return this.i.add(String(p),_,!0,T,P)};function Ge(p,_,T,P){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,se=0;se<_.length;++se){var ye=_[se];if(ye&&!ye.da&&ye.capture==T){var st=ye.listener,nn=ye.ha||ye.src;ye.fa&&cr(p.i,ye),Q=st.call(nn,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function ct(p,_,T){if(typeof p=="function")T&&(p=b(p,T));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(p,_||0)}function Er(p){p.g=ct(()=>{p.g=null,p.i&&(p.i=!1,Er(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class zn extends he{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(p){he.call(this),this.h=p,this.g={}}S(Tr,he);var er=[];function tr(p){W(p.g,function(_,T){this.g.hasOwnProperty(T)&&q(_)},p),p.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),tr(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,Sr=d.JSON.parse,Ar=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function Zr(){}Zr.prototype.h=null;function $i(p){return p.h||(p.h=p.i())}function qi(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){fe.call(this,"d")}S(Cr,fe);function Gi(){fe.call(this,"c")}S(Gi,fe);var xe={},ze=null;function dt(){return ze=ze||new be}xe.La="serverreachability";function lt(p){fe.call(this,xe.La,p)}S(lt,fe);function yt(p){const _=dt();Re(_,new lt(_))}xe.STAT_EVENT="statevent";function tn(p,_){fe.call(this,xe.STAT_EVENT,p),this.stat=_}S(tn,fe);function Ke(p){const _=dt();Re(_,new tn(_,p))}xe.Ma="timingevent";function et(p,_){fe.call(this,xe.Ma,p),this.size=_}S(et,fe);function rt(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},_)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function Bc(p,_,T,P,Q,se){p.info(function(){if(p.g)if(se)for(var ye="",st=se.split("&"),nn=0;nn<st.length;nn++){var it=st[nn].split("=");if(1<it.length){var fn=it[0];it=it[1];var rn=fn.split("_");ye=2<=rn.length&&rn[1]=="type"?ye+(fn+"="+it+"&"):ye+(fn+"=redacted&")}}else ye=null;else ye=se;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+_+`
`+T+`
`+ye})}function Hp(p,_,T,P,Q,se,ye){p.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+_+`
`+T+`
`+se+" "+ye})}function Ki(p,_,T,P){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wa(p,T)+(P?" "+P:"")})}function vf(p,_){p.info(function(){return"TIMEOUT: "+_})}Nr.prototype.info=function(){};function Wa(p,_){if(!p.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var P=T[p];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return In(T)}catch{return _}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function vs(){}S(vs,Zr),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},ys=new vs;function Hn(p,_,T,P){this.j=p,this.i=_,this.l=T,this.R=P||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var zc={},Xo={};function Jr(p,_,T){p.L=1,p.v=eo(dr(_)),p.m=T,p.P=!0,si(p,null)}function si(p,_){p.F=Date.now(),Qa(p),p.A=dr(p.v);var T=p.A,P=p.R;Array.isArray(P)||(P=[String(P)]),Yc(T.i,"t",P),p.C=0,T=p.j.J,p.h=new Bt,p.g=Pf(p.j,T?_:null,!p.m),0<p.O&&(p.M=new zn(b(p.Y,p,p.g),p.O)),_=p.U,T=p.g,P=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(er[0]=Q.toString()),Q=er);for(var se=0;se<Q.length;se++){var ye=ni(T,Q[se],P||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=p.H?j(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),yt(),Bc(p.i,p.u,p.A,p.l,p.R,p.m)}Hn.prototype.ca=function(p){p=p.target;const _=this.M;_&&Mr(p)==3?_.j():this.Y(p)},Hn.prototype.Y=function(p){try{if(p==this.g)e:{const rn=Mr(this.g);var _=this.g.Ba();const fi=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Af(this.g)))){this.J||rn!=4||_==7||(_==8||0>=fi?yt(3):yt(2)),Wi(this);var T=this.g.Z();this.X=T;t:if(xf(this)){var P=Af(this.g);p="";var Q=P.length,se=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),xs(this);var ye="";break t}this.h.i=new d.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(P[_],{stream:!(se&&_==Q-1)});P.length=0,this.h.g+=p,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Hp(this.i,this.u,this.A,this.l,this.R,rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var st,nn=this.g;if((st=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(st)){var it=st;break t}}it=null}if(T=it)Ki(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,T);else{this.o=!1,this.s=3,Ke(12),_n(this),xs(this);break e}}if(this.P){T=!0;let wn;for(;!this.J&&this.C<ye.length;)if(wn=bf(this,ye),wn==Xo){rn==4&&(this.s=4,Ke(14),T=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==zc){this.s=4,Ke(15),Ki(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else Ki(this.i,this.l,wn,null),Xa(this,wn);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ye.length!=0||this.h.h||(this.s=1,Ke(16),T=!1),this.o=this.o&&T,!T)Ki(this.i,this.l,ye,"[Invalid Chunked Response]"),_n(this),xs(this);else if(0<ye.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),lo(fn),fn.M=!0,Ke(11))}}else Ki(this.i,this.l,ye,null),Xa(this,ye);rn==4&&_n(this),this.o&&!this.J&&(rn==4?Df(this.j,this):(this.o=!1,Qa(this)))}else Yp(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),_n(this),xs(this)}}}catch{}finally{}};function xf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function bf(p,_){var T=p.C,P=_.indexOf(`
`,T);return P==-1?Xo:(T=Number(_.substring(T,P)),isNaN(T)?zc:(P+=1,P+T>_.length?Xo:(_=_.slice(P,P+T),p.C=P+T,_)))}Hn.prototype.cancel=function(){this.J=!0,_n(this)};function Qa(p){p.S=Date.now()+p.I,_f(p,p.I)}function _f(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=rt(b(p.ba,p),_)}function Wi(p){p.B&&(d.clearTimeout(p.B),p.B=null)}Hn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(vf(this.i,this.A),this.L!=2&&(yt(),Ke(17)),_n(this),this.s=2,xs(this)):_f(this,this.S-p)};function xs(p){p.j.G==0||p.J||Df(p.j,p)}function _n(p){Wi(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,tr(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function Xa(p,_){try{var T=p.j;if(T.G!=0&&(T.g==p||Hc(T.h,p))){if(!p.K&&Hc(T.h,p)&&T.G==3){try{var P=T.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)cl(T),ol(T);else break e;Jc(T),Ke(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=rt(b(T.Za,T),6e3));if(1>=Jo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else di(T,11)}else if((p.K||T.g==p)&&cl(T),!I(_))for(Q=T.Da.g.parse(_),_=0;_<Q.length;_++){let it=Q[_];if(T.T=it[0],it=it[1],T.G==2)if(it[0]=="c"){T.K=it[1],T.ia=it[2];const fn=it[3];fn!=null&&(T.la=fn,T.j.info("VER="+T.la));const rn=it[4];rn!=null&&(T.Aa=rn,T.j.info("SVER="+T.Aa));const fi=it[5];fi!=null&&typeof fi=="number"&&0<fi&&(P=1.5*fi,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const wn=p.g;if(wn){const As=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var se=P.h;se.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(el(se,se.h),se.h=null))}if(P.D){const tu=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(P.ya=tu,vt(P.I,P.D,tu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ye=p;if(P.qa=Mf(P,P.J?P.ia:null,P.W),ye.K){$n(P.h,ye);var st=ye,nn=P.L;nn&&(st.I=nn),st.B&&(Wi(st),Qa(st)),P.g=ye}else Nf(P);0<T.i.length&&ll(T)}else it[0]!="stop"&&it[0]!="close"||di(T,7);else T.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?di(T,7):Xc(T):it[0]!="noop"&&T.l&&T.l.ta(it),T.v=0)}}yt(4)}catch{}}var wf=class{constructor(p,_){this.g=p,this.map=_}};function ii(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Jo(p){return p.h?1:p.g?p.g.size:0}function Hc(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function el(p,_){p.g?p.g.add(_):p.h=_}function $n(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ii.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function $c(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const T of p.g.values())_=_.concat(T.D);return _}return C(p.i)}function $p(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],T=p.length,P=0;P<T;P++)_.push(p[P]);return _}_=[],T=0;for(P in p)_[T++]=p[P];return _}function tl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var T=0;T<p;T++)_.push(T);return _}_=[],T=0;for(const P in p)_[T++]=P;return _}}}function qc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var T=tl(p),P=$p(p),Q=P.length,se=0;se<Q;se++)_.call(void 0,P[se],T&&T[se],p)}var Za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qp(p,_){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var P=p[T].indexOf("="),Q=null;if(0<=P){var se=p[T].substring(0,P);Q=p[T].substring(P+1)}else se=p[T];_(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Yt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Yt){this.h=p.h,Ja(this,p.j),this.o=p.o,this.g=p.g,Qi(this,p.s),this.l=p.l;var _=p.i,T=new oi;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),ai(this,T),this.m=p.m}else p&&(_=String(p).match(Za))?(this.h=!1,Ja(this,_[1]||"",!0),this.o=Ir(_[2]||""),this.g=Ir(_[3]||"",!0),Qi(this,_[4]),this.l=Ir(_[5]||"",!0),ai(this,_[6]||"",!0),this.m=Ir(_[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Yt.prototype.toString=function(){var p=[],_=this.j;_&&p.push(to(_,Gc,!0),":");var T=this.g;return(T||_=="file")&&(p.push("//"),(_=this.o)&&p.push(to(_,Gc,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(to(T,T.charAt(0)=="/"?Gp:Kc,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",to(T,nl)),p.join("")};function dr(p){return new Yt(p)}function Ja(p,_,T){p.j=T?Ir(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Qi(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function ai(p,_,T){_ instanceof oi?(p.i=_,Tf(p.i,p.h)):(T||(_=to(_,Kp)),p.i=new oi(_,p.h))}function vt(p,_,T){p.i.set(_,T)}function eo(p){return vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ir(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function to(p,_,T){return typeof p=="string"?(p=encodeURI(p).replace(_,Ef),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ef(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Gc=/[#\/\?@]/g,Kc=/[#\?:]/g,Gp=/[#\?]/g,Kp=/[#\?@]/g,nl=/#/g;function oi(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Dr(p){p.g||(p.g=new Map,p.h=0,p.i&&qp(p.i,function(_,T){p.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=oi.prototype,t.add=function(p,_){Dr(this),this.i=null,p=bs(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(_),this.h+=1,this};function li(p,_){Dr(p),_=bs(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function ci(p,_){return Dr(p),_=bs(p,_),p.g.has(_)}t.forEach=function(p,_){Dr(this),this.g.forEach(function(T,P){T.forEach(function(Q){p.call(_,Q,P,this)},this)},this)},t.na=function(){Dr(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let P=0;P<_.length;P++){const Q=p[P];for(let se=0;se<Q.length;se++)T.push(_[P])}return T},t.V=function(p){Dr(this);let _=[];if(typeof p=="string")ci(this,p)&&(_=_.concat(this.g.get(bs(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)_=_.concat(p[T])}return _},t.set=function(p,_){return Dr(this),this.i=null,p=bs(this,p),ci(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Yc(p,_,T){li(p,_),0<T.length&&(p.i=null,p.g.set(bs(p,_),C(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var P=_[T];const se=encodeURIComponent(String(P)),ye=this.V(P);for(P=0;P<ye.length;P++){var Q=se;ye[P]!==""&&(Q+="="+encodeURIComponent(String(ye[P]))),p.push(Q)}}return this.i=p.join("&")};function bs(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Tf(p,_){_&&!p.j&&(Dr(p),p.i=null,p.g.forEach(function(T,P){var Q=P.toLowerCase();P!=Q&&(li(this,P),Yc(this,Q,T))},p)),p.j=_}function no(p,_){const T=new Nr;if(d.Image){const P=new Image;P.onload=w(jr,T,"TestLoadImage: loaded",!0,_,P),P.onerror=w(jr,T,"TestLoadImage: error",!1,_,P),P.onabort=w(jr,T,"TestLoadImage: abort",!1,_,P),P.ontimeout=w(jr,T,"TestLoadImage: timeout",!1,_,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=p}else _(!1)}function es(p,_){const T=new Nr,P=new AbortController,Q=setTimeout(()=>{P.abort(),jr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:P.signal}).then(se=>{clearTimeout(Q),se.ok?jr(T,"TestPingServer: ok",!0,_):jr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),jr(T,"TestPingServer: error",!1,_)})}function jr(p,_,T,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(T)}catch{}}function ro(){this.g=new Ar}function _s(p,_,T){const P=T||"";try{qc(p,function(Q,se){let ye=Q;m(Q)&&(ye=In(Q)),_.push(P+se+"="+encodeURIComponent(ye))})}catch(Q){throw _.push(P+"type="+encodeURIComponent("_badmap")),Q}}function Xi(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Xi,Zr),Xi.prototype.g=function(){return new ui(this.l,this.j)},Xi.prototype.i=function(p){return function(){return p}}({});function ui(p,_){be.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ui,be),t=ui.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,Es(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?ws(this):Es(this),this.readyState==3&&Wc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ws(this))},t.Qa=function(p){this.g&&(this.response=p,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Es(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=_.next();return p.join(`\r
`)};function Es(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Qc(p){let _="";return W(p,function(T,P){_+=P,_+=":",_+=T,_+=`\r
`}),_}function dn(p,_,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Qc(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):vt(p,_,T))}function ht(p){be.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ht,be);var rl=/^https?$/i,so=["POST","PUT"];t=ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?$i(this.o):$i(ys),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(se){Sf(this,se);return}if(p=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)T.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())T.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),Q=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(so,_,void 0))||P||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of T)this.g.setRequestHeader(se,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(p),this.u=!1}catch(se){Sf(this,se)}};function Sf(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,sl(p),Ts(p)}function sl(p){p.A||(p.A=!0,Re(p,"complete"),Re(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Re(this,"complete"),Re(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?il(this):this.bb())},t.bb=function(){il(this)};function il(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Mr(p)!=4||p.Z()!=2)){if(p.u&&Mr(p)==4)ct(p.Ea,0,p);else if(Re(p,"readystatechange"),Mr(p)==4){p.h=!1;try{const ye=p.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var P;if(P=ye===0){var Q=String(p.D).match(Za)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),P=!rl.test(Q?Q.toLowerCase():"")}T=P}if(T)Re(p,"complete"),Re(p,"success");else{p.m=6;try{var se=2<Mr(p)?p.g.statusText:""}catch{se=""}p.l=se+" ["+p.Z()+"]",sl(p)}}finally{Ts(p)}}}}function Ts(p,_){if(p.g){io(p);const T=p.g,P=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Re(p,"ready");try{T.onreadystatechange=P}catch{}}}function io(p){p.I&&(d.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Mr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Sr(_)}};function Af(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Yp(p){const _={};p=(p.g&&2<=Mr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<p.length;P++){if(I(p[P]))continue;var T=B(p[P]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=_[Q]||[];_[Q]=se,se.push(T)}V(_,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(p,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||_}function al(p){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,p),this.cb=ao("retryDelaySeedMs",1e4,p),this.Wa=ao("forwardChannelMaxRetries",2,p),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(p&&p.concurrentRequestLimit),this.Da=new ro,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=al.prototype,t.la=8,t.G=1,t.connect=function(p,_,T,P){Ke(0),this.W=p,this.H=_||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=Mf(this,null,this.W),ll(this)};function Xc(p){if(Rf(p),p.G==3){var _=p.U++,T=dr(p.I);if(vt(T,"SID",p.K),vt(T,"RID",_),vt(T,"TYPE","terminate"),oo(p,T),_=new Hn(p,p.j,_),_.L=2,_.v=eo(dr(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=_.v,T=!0),T||(_.g=Pf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Qa(_)}jf(p)}function ol(p){p.g&&(lo(p),p.g.cancel(),p.g=null)}function Rf(p){ol(p),p.u&&(d.clearTimeout(p.u),p.u=null),cl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function ll(p){if(!Zo(p.h)&&!p.s){p.s=!0;var _=p.Ga;Z||H(),re||(Z(),re=!0),ve.add(_,p),p.B=0}}function Wp(p,_){return Jo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=rt(b(p.Ga,p,_),eu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Hn(this,this.j,p);let se=this.o;if(this.S&&(se?(se=j(se),U(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Cf(this,Q,_),T=dr(this.I),vt(T,"RID",p),vt(T,"CVER",22),this.D&&vt(T,"X-HTTP-Session-Id",this.D),oo(this,T),se&&(this.O?_="headers="+encodeURIComponent(String(Qc(se)))+"&"+_:this.m&&dn(T,this.m,se)),el(this.h,Q),this.Ua&&vt(T,"TYPE","init"),this.P?(vt(T,"$req",_),vt(T,"SID","null"),Q.T=!0,Jr(Q,T,null)):Jr(Q,T,_),this.G=2}}else this.G==3&&(p?Zc(this,p):this.i.length==0||Zo(this.h)||Zc(this))};function Zc(p,_){var T;_?T=_.l:T=p.U++;const P=dr(p.I);vt(P,"SID",p.K),vt(P,"RID",T),vt(P,"AID",p.T),oo(p,P),p.m&&p.o&&dn(P,p.m,p.o),T=new Hn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Cf(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),el(p.h,T),Jr(T,P,_)}function oo(p,_){p.H&&W(p.H,function(T,P){vt(_,P,T)}),p.l&&qc({},function(T,P){vt(_,P,T)})}function Cf(p,_,T){T=Math.min(p.i.length,T);var P=p.l?b(p.l.Na,p.l,p):null;e:{var Q=p.i;let se=-1;for(;;){const ye=["count="+T];se==-1?0<T?(se=Q[0].g,ye.push("ofs="+se)):se=0:ye.push("ofs="+se);let st=!0;for(let nn=0;nn<T;nn++){let it=Q[nn].g;const fn=Q[nn].map;if(it-=se,0>it)se=Math.max(0,Q[nn].g-100),st=!1;else try{_s(fn,ye,"req"+it+"_")}catch{P&&P(fn)}}if(st){P=ye.join("&");break e}}}return p=p.i.splice(0,T),_.D=p,P}function Nf(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Z||H(),re||(Z(),re=!0),ve.add(_,p),p.v=0}}function Jc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=rt(b(p.Fa,p),eu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,If(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=rt(b(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),ol(this),If(this))};function lo(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function If(p){p.g=new Hn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=dr(p.qa);vt(_,"RID","rpc"),vt(_,"SID",p.K),vt(_,"AID",p.T),vt(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&vt(_,"TO",p.ja),vt(_,"TYPE","xmlhttp"),oo(p,_),p.m&&p.o&&dn(_,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=eo(dr(_)),T.m=null,T.P=!0,si(T,p)}t.Za=function(){this.C!=null&&(this.C=null,ol(this),Jc(this),Ke(19))};function cl(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function Df(p,_){var T=null;if(p.g==_){cl(p),lo(p),p.g=null;var P=2}else if(Hc(p.h,_))T=_.D,$n(p.h,_),P=1;else return;if(p.G!=0){if(_.o)if(P==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;P=dt(),Re(P,new et(P,T)),ll(p)}else Nf(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(P==1&&Wp(p,_)||P==2&&Jc(p)))switch(T&&0<T.length&&(_=p.h,_.i=_.i.concat(T)),Q){case 1:di(p,5);break;case 4:di(p,10);break;case 3:di(p,6);break;default:di(p,2)}}}function eu(p,_){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*_}function di(p,_){if(p.j.info("Error code "+_),_==2){var T=b(p.fb,p),P=p.Xa;const Q=!P;P=new Yt(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ja(P,"https"),eo(P),Q?no(P.toString(),T):es(P.toString(),T)}else Ke(2);p.G=0,p.l&&p.l.sa(_),jf(p),Rf(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function jf(p){if(p.G=0,p.ka=[],p.l){const _=$c(p.h);(_.length!=0||p.i.length!=0)&&(N(p.ka,_),N(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function Mf(p,_,T){var P=T instanceof Yt?dr(T):new Yt(T);if(P.g!="")_&&(P.g=_+"."+P.g),Qi(P,P.s);else{var Q=d.location;P=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new Yt(null);P&&Ja(se,P),_&&(se.g=_),Q&&Qi(se,Q),T&&(se.l=T),P=se}return T=p.D,_=p.ya,T&&_&&vt(P,T,_),vt(P,"VER",p.la),oo(p,P),P}function Pf(p,_,T){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new ht(new Xi({eb:T})):new ht(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kf(){}t=kf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ul(){}ul.prototype.g=function(p,_){return new qn(p,_)};function qn(p,_){be.call(this),this.g=new al(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!I(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Ss(this)}S(qn,be),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Xc(this.g)},qn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=In(p),p=T);_.i.push(new wf(_.Ya++,p)),_.G==3&&ll(_)},qn.prototype.N=function(){this.g.l=null,delete this.j,Xc(this.g),delete this.g,qn.aa.N.call(this)};function Of(p){Cr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const T in _){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}S(Of,Cr);function Vf(){Gi.call(this),this.status=1}S(Vf,Gi);function Ss(p){this.g=p}S(Ss,kf),Ss.prototype.ua=function(){Re(this.g,"a")},Ss.prototype.ta=function(p){Re(this.g,new Of(p))},Ss.prototype.sa=function(p){Re(this.g,new Vf)},Ss.prototype.ra=function(){Re(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,VR=function(){return new ul},OR=function(){return dt()},kR=xe,pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,hm=Yi,ri.COMPLETE="complete",PR=ri,qi.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",be.prototype.listen=be.prototype.K,Ju=qi,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,MR=ht}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",OT="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new zx("@firebase/firestore");function Bl(){return Fo.logLevel}function Te(t,...e){if(Fo.logLevel<=tt.DEBUG){const n=e.map(e1);Fo.debug(`Firestore (${Ic}): ${t}`,...n)}}function Li(t,...e){if(Fo.logLevel<=tt.ERROR){const n=e.map(e1);Fo.error(`Firestore (${Ic}): ${t}`,...n)}}function hc(t,...e){if(Fo.logLevel<=tt.WARN){const n=e.map(e1);Fo.warn(`Firestore (${Ic}): ${t}`,...n)}}function e1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LR(t,r,n)}function LR(t,e,n){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Li(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||LR(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class lL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cL{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ji,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ji)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class uL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=hL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function gv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Qe(r,i);{const o=FR(),c=mL(o.encode(LT(t,n)),o.encode(LT(e,n)));return c!==0?c:Qe(r,i)}}n+=r>65535?2:1}return Qe(t.length,e.length)}function LT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function mL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Qe(t[n],e[n]);return Qe(t.length,e.length)}function mc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=-62135596800,FT=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FT);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UT)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new ln(0,0))}static max(){return new $e(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__name__";class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ps.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Ps.isNumericId(e),i=Ps.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):gv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class Nt extends Ps{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const pL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Ps{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return pL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new Cn([BT])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Nt.fromString(e))}static fromName(e){return new Pe(Nt.fromString(e).popFirst(5))}static empty(){return new Pe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;function gL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new ka(i,Pe.empty(),e)}function yL(t){return new ka(t.readTime,t.key,jd)}class ka{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ka($e.min(),Pe.empty(),jd)}static max(){return new ka($e.max(),Pe.empty(),jd)}}function vL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==xL)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,o=0,c=!1;e.forEach(d=>{++i,d.next(()=>{++o,c&&o===i&&n()},f=>r(f))}),c=!0,o===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(y=>{c[m]=y,++d,d===o&&r(c)},y=>i(y))}})}static doWhile(e,n){return new de((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _L(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=-1;function xp(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function wL(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="";function EL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zT(e)),e=TL(t.get(n),e);return zT(e)}function TL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case zR:n+="";break;default:n+=o}}return n}function zT(t){return t+zR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new br([])}unionWith(e){let n=new cn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $R("Invalid base64 string: "+o):o}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const SL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=SL.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Va(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="server_timestamp",GR="__type__",KR="__previous_value__",YR="__local_write_time__";function n1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GR])===null||n===void 0?void 0:n.stringValue)===qR}function bp(t){const e=t.mapValue.fields[KR];return n1(e)?bp(e):e}function Md(t){const e=Oa(t.mapValue.fields[YR].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i,o,c,d,f,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Hm="(default)";class Pd{constructor(e,n){this.projectId=e,this.database=n||Hm}static empty(){return new Pd("","")}get isDefaultDatabase(){return this.database===Hm}isEqual(e){return e instanceof Pd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="__type__",RL="__max__",Kh={mapValue:{}},QR="__vector__",$m="value";function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n1(t)?4:NL(t)?9007199254740991:CL(t)?10:11:Ue(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=La(t);if(n!==La(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Oa(i.timestampValue),d=Oa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Va(i.bytesValue).isEqual(Va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return qt(i.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qt(i.integerValue)===qt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=qt(i.doubleValue),d=qt(o.doubleValue);return c===d?zm(c)===zm(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(HT(c)!==HT(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ws(c[f],d[f])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function kd(t,e){return(t.values||[]).find(n=>Ws(n,e))!==void 0}function pc(t,e){if(t===e)return 0;const n=La(t),r=La(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=qt(o.integerValue||o.doubleValue),f=qt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return qT(t.timestampValue,e.timestampValue);case 4:return qT(Md(t),Md(e));case 5:return gv(t.stringValue,e.stringValue);case 6:return function(o,c){const d=Va(o),f=Va(c);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=Qe(d[m],f[m]);if(y!==0)return y}return Qe(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Qe(qt(o.latitude),qt(c.latitude));return d!==0?d:Qe(qt(o.longitude),qt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GT(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,m,y;const x=o.fields||{},b=c.fields||{},w=(d=x[$m])===null||d===void 0?void 0:d.arrayValue,S=(f=b[$m])===null||f===void 0?void 0:f.arrayValue,C=Qe(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:GT(w,S)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===Kh.mapValue&&c===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(c===Kh.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const b=gv(f[x],y[x]);if(b!==0)return b;const w=pc(d[f[x]],m[y[x]]);if(w!==0)return w}return Qe(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function qT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Oa(t),r=Oa(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function GT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=pc(n[i],r[i]);if(o)return o}return Qe(n.length,r.length)}function gc(t){return yv(t)}function yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${yv(n.fields[c])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function mm(t){switch(La(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bp(t);return e?16+mm(e):16;case 5:return 2*t.stringValue.length;case 6:return Va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+mm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return qa(r.fields,(o,c)=>{i+=o.length+mm(c)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function KT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vv(t){return!!t&&"integerValue"in t}function r1(t){return!!t&&"arrayValue"in t}function YT(t){return!!t&&"nullValue"in t}function WT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function CL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WR])===null||n===void 0?void 0:n.stringValue)===QR}function pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=pd(c):i.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ar(pd(this.value))}}function XR(t){const e=[];return qa(t.fields,(n,r)=>{const i=new Cn([n]);if(pm(r)){const o=XR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Vn(e,0,$e.min(),$e.min(),$e.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,$e.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,$e.min(),$e.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,$e.min(),$e.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.position=e,this.inclusive=n}}function QT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(c.referenceValue),n.key):r=pc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function XT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n="asc"){this.field=e,this.dir=n}}function IL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{}class Jt extends ZR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jL(e,n,r):n==="array-contains"?new kL(e,r):n==="in"?new OL(e,r):n==="not-in"?new VL(e,r):n==="array-contains-any"?new LL(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ML(e,r):new PL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&La(this.value)===La(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends ZR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ds(e,n)}matches(e){return JR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JR(t){return t.op==="and"}function eC(t){return DL(t)&&JR(t)}function DL(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function xv(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(eC(t))return t.filters.map(e=>xv(e)).join(",");{const e=t.filters.map(n=>xv(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ws(r.value,i.value)}(t,e):t instanceof ds?function(r,i){return i instanceof ds&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,c,d)=>o&&tC(c,i.filters[d]),!0):!1}(t,e):void Ue(19439)}function nC(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`}(t):t instanceof ds?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class jL extends Jt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ML extends Jt{constructor(e,n){super(e,"in",n),this.keys=rC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PL extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=rC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class kL extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r1(n)&&kd(n.arrayValue,this.value)}}class OL extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kd(this.value.arrayValue,n)}}class VL extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kd(this.value.arrayValue,n)}}class LL extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function ZT(t,e=null,n=[],r=[],i=null,o=null,c=null){return new UL(t,e,n,r,i,o,c)}function s1(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gc(r)).join(",")),e.Ie=n}return e.Ie}function i1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XT(t.startAt,e.startAt)&&XT(t.endAt,e.endAt)}function bv(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n=null,r=[],i=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function FL(t,e,n,r,i,o,c,d){return new af(t,e,n,r,i,o,c,d)}function a1(t){return new af(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sC(t){return t.collectionGroup!==null}function gd(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new cn(Cn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Gm(o,r))}),n.has(Cn.keyField().canonicalString())||e.Ee.push(new Gm(Cn.keyField(),r))}return e.Ee}function qs(t){const e=qe(t);return e.de||(e.de=BL(e,gd(t))),e.de}function BL(t,e){if(t.limitType==="F")return ZT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gm(i.field,o)});const n=t.endAt?new qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qm(t.startAt.position,t.startAt.inclusive):null;return ZT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _v(t,e){const n=t.filters.concat([e]);return new af(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Km(t,e,n){return new af(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _p(t,e){return i1(qs(t),qs(e))&&t.limitType===e.limitType}function iC(t){return`${s1(qs(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nC(i)).join(", ")}]`),xp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gc(i)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function wp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of gd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,d,f){const m=QT(c,d,f);return c.inclusive?m<=0:m<0}(r.startAt,gd(r),i)||r.endAt&&!function(c,d,f){const m=QT(c,d,f);return c.inclusive?m>=0:m>0}(r.endAt,gd(r),i))}(t,e)}function zL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aC(t){return(e,n)=>{let r=!1;for(const i of gd(t)){const o=HL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function HL(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,c,d){const f=c.data.field(o),m=d.data.field(o);return f!==null&&m!==null?pc(f,m):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return HR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Vt(Pe.comparator);function Ui(){return $L}const oC=new Vt(Pe.comparator);function ed(...t){let e=oC;for(const n of t)e=e.insert(n.key,n);return e}function lC(t){let e=oC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jo(){return yd()}function cC(){return yd()}function yd(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const qL=new Vt(Pe.comparator),GL=new cn(Pe.comparator);function nt(...t){let e=GL;for(const n of t)e=e.add(n);return e}const KL=new cn(Qe);function YL(){return KL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function WL(t,e){return wL(e)?uC(e):o1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this._=void 0}}function QL(t,e,n){return t instanceof Od?function(i,o){const c={fields:{[GR]:{stringValue:qR},[YR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&n1(o)&&(o=bp(o)),o&&(c.fields[KR]=o),{mapValue:c}}(n,e):t instanceof Vd?fC(t,e):t instanceof Ld?hC(t,e):function(i,o){const c=dC(i,o),d=e4(c)+e4(i.Re);return vv(c)&&vv(i.Re)?uC(d):o1(i.serializer,d)}(t,e)}function XL(t,e,n){return t instanceof Vd?fC(t,e):t instanceof Ld?hC(t,e):n}function dC(t,e){return t instanceof Ym?function(r){return vv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Od extends Ep{}class Vd extends Ep{constructor(e){super(),this.elements=e}}function fC(t,e){const n=mC(e);for(const r of t.elements)n.some(i=>Ws(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ld extends Ep{constructor(e){super(),this.elements=e}}function hC(t,e){let n=mC(e);for(const r of t.elements)n=n.filter(i=>!Ws(i,r));return{arrayValue:{values:n}}}class Ym extends Ep{constructor(e,n){super(),this.serializer=e,this.Re=n}}function e4(t){return qt(t.integerValue||t.doubleValue)}function mC(t){return r1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.field=e,this.transform=n}}function JL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vd&&i instanceof Vd||r instanceof Ld&&i instanceof Ld?mc(r.elements,i.elements,Ws):r instanceof Ym&&i instanceof Ym?Ws(r.Re,i.Re):r instanceof Od&&i instanceof Od}(t.transform,e.transform)}class eU{constructor(e,n){this.version=e,this.transformResults=n}}class ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tp{}function pC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yC(t.key,ls.none()):new of(t.key,t.data,ls.none());{const n=t.data,r=ar.empty();let i=new cn(Cn.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Ga(t.key,r,new br(i.toArray()),ls.none())}}function tU(t,e,n){t instanceof of?function(i,o,c){const d=i.value.clone(),f=n4(i.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ga?function(i,o,c){if(!gm(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=n4(i.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(gC(i)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function vd(t,e,n,r){return t instanceof of?function(o,c,d,f){if(!gm(o.precondition,c))return d;const m=o.value.clone(),y=r4(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ga?function(o,c,d,f){if(!gm(o.precondition,c))return d;const m=r4(o.fieldTransforms,f,c),y=c.data;return y.setAll(gC(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(t,e,n,r):function(o,c,d){return gm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function nU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dC(r.transform,i||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function t4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mc(r,i,(o,c)=>JL(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends Tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ga extends Tp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n4(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,XL(c,d,n[i]))}return r}function r4(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,QL(o,c,e))}return r}class yC extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rU extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tU(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cC();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(i.key)?null:d;const f=pC(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(n,r)=>t4(n,r))&&mc(this.baseMutations,e.baseMutations,(n,r)=>t4(n,r))}}class l1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return qL}();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new l1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ot;function oU(t){switch(t){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function vC(t){if(t===void 0)return Li("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Xt.OK:return ue.OK;case Xt.CANCELLED:return ue.CANCELLED;case Xt.UNKNOWN:return ue.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ue.INTERNAL;case Xt.UNAVAILABLE:return ue.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ue.NOT_FOUND;case Xt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Xt.ABORTED:return ue.ABORTED;case Xt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Xt.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:t})}}(ot=Xt||(Xt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new Ia([4294967295,4294967295],0);function s4(t){const e=FR().encode(t),n=new jR;return n.update(e),new Uint8Array(n.digest())}function i4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ia([n,r],0),new Ia([i,o],0)]}class c1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ia.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ia.fromNumber(r)));return i.compare(lU)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=s4(e),[r,i]=i4(n);for(let o=0;o<this.hashCount;o++){const c=this.we(r,i,o);if(!this.Se(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new c1(o,i,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=s4(e),[r,i]=i4(n);for(let o=0;o<this.hashCount;o++){const c=this.we(r,i,o);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp($e.min(),i,new Vt(Qe),Ui(),nt())}}class lf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lf(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class xC{constructor(e,n){this.targetId=e,this.Ce=n}}class bC{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a4{constructor(){this.Fe=0,this.Me=o4(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:o})}}),new lf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=o4()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cU{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Yh(),this.Ye=Yh(),this.Ze=new Vt(Qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(bv(o))if(r===0){const c=new Pe(o.path);this.tt(n,c,Vn.newNoDocument(c,$e.min()))}else mt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,d;try{c=Va(r).toUint8Array()}catch(f){if(f instanceof $R)return hc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new c1(c,i,o)}catch(f){return hc(f instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&bv(d.target)){const f=new Pe(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Vn.newNoDocument(f,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let r=nt();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const i=new Sp(e,n,this.Ze,this.He,r);return this.He=Ui(),this.Je=Yh(),this.Ye=Yh(),this.Ze=new Vt(Qe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new a4,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new cn(Qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new cn(Qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new a4),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Yh(){return new Vt(Pe.comparator)}function o4(){return new Vt(Pe.comparator)}const uU={asc:"ASCENDING",desc:"DESCENDING"},dU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fU={and:"AND",or:"OR"};class hU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wv(t,e){return t.useProto3Json||xp(e)?e:{value:e}}function Wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mU(t,e){return Wm(t,e.toTimestamp())}function Gs(t){return mt(!!t,49232),$e.fromTimestamp(function(n){const r=Oa(n);return new ln(r.seconds,r.nanos)}(t))}function u1(t,e){return Ev(t,e).canonicalString()}function Ev(t,e){const n=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wC(t){const e=Nt.fromString(t);return mt(RC(e),10190,{key:e.toString()}),e}function Tv(t,e){return u1(t.databaseId,e.path)}function g0(t,e){const n=wC(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(TC(n))}function EC(t,e){return u1(t.databaseId,e)}function pU(t){const e=wC(t);return e.length===4?Nt.emptyPath():TC(e)}function Sv(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TC(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l4(t,e,n){return{name:Tv(t,e),fields:n.value.mapValue.fields}}function gU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(mt(y===void 0||typeof y=="string",58123),Nn.fromBase64String(y||"")):(mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?ue.UNKNOWN:vC(m.code);return new Se(y,m.message||"")}(c);n=new bC(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g0(t,r.document.name),o=Gs(r.document.updateTime),c=r.document.createTime?Gs(r.document.createTime):$e.min(),d=new ar({mapValue:{fields:r.document.fields}}),f=Vn.newFoundDocument(i,o,c,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new ym(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g0(t,r.document),o=r.readTime?Gs(r.readTime):$e.min(),c=Vn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new ym([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g0(t,r.document),o=r.removedTargetIds||[];n=new ym([],o,i,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new aU(i,o),d=r.targetId;n=new xC(d,c)}}return n}function yU(t,e){let n;if(e instanceof of)n={update:l4(t,e.key,e.value)};else if(e instanceof yC)n={delete:Tv(t,e.key)};else if(e instanceof Ga)n={update:l4(t,e.key,e.data),updateMask:AU(e.fieldMask)};else{if(!(e instanceof rU))return Ue(16599,{ft:e.type});n={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Od)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ld)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ym)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ue(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)}(t,e.precondition)),n}function vU(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map(n=>function(i,o){let c=i.updateTime?Gs(i.updateTime):Gs(o);return c.isEqual($e.min())&&(c=Gs(o)),new eU(c,i.transformResults||[])}(n,e))):[]}function xU(t,e){return{documents:[EC(t,e.path)]}}function bU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EC(t,i);const o=function(m){if(m.length!==0)return AC(ds.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Hl(b.field),direction:EU(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=wv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:i}}function _U(t){let e=pU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(x){const b=SC(x);return b instanceof ds&&eC(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(x){return x.map(b=>function(S){return new Gm($l(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(x){let b;return b=typeof x=="object"?x.value:x,xp(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(x){const b=!!x.before,w=x.values||[];return new qm(w,b)}(n.startAt));let m=null;return n.endAt&&(m=function(x){const b=!x.before,w=x.values||[];return new qm(w,b)}(n.endAt)),FL(e,i,c,o,d,"F",f,m)}function wU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$l(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$l(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$l(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$l(n.unaryFilter.field);return Jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create($l(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ds.create(n.compositeFilter.filters.map(r=>SC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function EU(t){return uU[t]}function TU(t){return dU[t]}function SU(t){return fU[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function $l(t){return Cn.fromServerFormat(t.fieldPath)}function AC(t){return t instanceof Jt?function(n){if(n.op==="=="){if(WT(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(YT(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WT(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(YT(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:TU(n.op),value:n.value}}}(t):t instanceof ds?function(n){const r=n.getFilters().map(i=>AC(i));return r.length===1?r[0]:{compositeFilter:{op:SU(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function AU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r,i,o=$e.min(),c=$e.min(),d=Nn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.wt=e}}function CU(t){const e=_U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.Cn=new IU}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ka.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class IU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cn(Nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CC=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(CC,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yc(0)}static lr(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="LruGarbageCollector",DU=1048576;function d4([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class jU{constructor(e){this.Er=e,this.buffer=new cn(d4),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(u4,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jc(n)?Te(u4,"Ignoring IndexedDB error during garbage collection: ",n):await Dc(n)}await this.mr(3e5)})}}class PU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(vp.le);const r=new jU(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(c4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c4):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,c,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,d=Date.now(),this.removeTargets(e,r,n))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(m=Date.now(),Bl()<=tt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:x})))}}function kU(t,e){return new PU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vd(r.mutation,i,br.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=jo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let c=ed();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=jo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,i){let o=Ui();const c=yd(),d=function(){return yd()}();return n.forEach((f,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Ga)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),vd(y.mutation,m,y.mutation.getFieldMask(),ln.now())):c.set(m.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var x;return d.set(m,new VU(y,(x=c.get(m))!==null&&x!==void 0?x:null))}),d))}recalculateAndSaveOverlays(e,n){const r=yd();let i=new Vt((c,d)=>c-d),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let y=r.get(f)||br.empty();y=d.applyToLocalView(m,y),r.set(f,y);const x=(i.get(d.batchId)||nt()).add(f);i=i.insert(d.batchId,x)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,x=cC();y.forEach(b=>{if(!o.has(b)){const w=pC(n.get(b),r.get(b));w!==null&&x.set(b,w),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return de.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(jo());let d=jd,f=o;return c.next(m=>de.forEach(m,(y,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,nt())).next(y=>({batchId:d,changes:lC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=ed();return this.indexManager.getCollectionParents(e,o).next(d=>de.forEach(d,f=>{const m=function(x,b){return new af(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((x,b)=>{c=c.insert(x,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(c=>{o.forEach((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Vn.newInvalidDocument(y)))});let d=ed();return c.forEach((f,m)=>{const y=o.get(f);y!==void 0&&vd(y.mutation,m,br.empty(),ln.now()),wp(n,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gs(i.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:CU(i.bundledQuery),readTime:Gs(i.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.overlays=new Vt(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jo();return de.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=jo(),o=n.length+1,c=new Pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=jo(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=jo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=i)););return de.resolve(d)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new iU(n,r));let o=this.Qr.get(n);o===void 0&&(o=nt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.$r=new cn(yn.Ur),this.Kr=new cn(yn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new yn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new yn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new Nt([])),r=new yn(n,e),i=new yn(n,e+1),o=[];return this.Kr.forEachInRange([r,i],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new Nt([])),r=new yn(n,e),i=new yn(n,e+1);let o=nt();return this.Kr.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new yn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Qe(e.Zr,n.Zr)}static Wr(e,n){return Qe(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new cn(yn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sU(o,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Xr=this.Xr.add(new yn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?t1:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],c=>{const d=this.ei(c.Zr);o.push(d)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Qe);return n.forEach(i=>{const o=new yn(i,0),c=new yn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{r=r.add(d.Zr)})}),de.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const c=new yn(new Pe(o),0);let d=new cn(Qe);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.Zr)),!0)},c),de.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return de.forEach(n.mutations,i=>{const o=new yn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new yn(n,0),i=this.Xr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ii=e,this.docs=function(){return new Vt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ui();const c=n.path,d=new Pe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||vL(yL(y),r)<=0||(i.has(y.key)||wp(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}si(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $U(this)}getSize(e){return de.resolve(this.size)}}class $U extends OU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.persistence=e,this.oi=new Ko(n=>s1(n),i1),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new d1,this.targetCount=0,this.ui=yc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.ci={},this.overlays={},this.li=new vp(0),this.hi=!1,this.hi=!0,this.Pi=new BU,this.referenceDelegate=e(this),this.Ti=new qU(this),this.indexManager=new NU,this.remoteDocumentCache=function(i){return new HU(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new RU(n),this.Ei=new UU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new zU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new GU(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return de.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class GU extends bL{constructor(e){super(),this.currentSequenceNumber=e}}class f1{constructor(e){this.persistence=e,this.Vi=new d1,this.mi=null}static fi(e){return new f1(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,r=>{const i=Pe.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,$e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qm{constructor(e,n){this.persistence=e,this.yi=new Ko(r=>EL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kU(this,n)}static fi(e,n){return new Qm(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?de.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,c=>this.Dr(e,c,n).next(d=>{d||(r++,o.removeEntry(c,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mm(e.data.value)),n}Dr(e,n,r){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=nt(),i=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new h1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Tk()?8:_L(Fn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new KU;return this.bs(e,n,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Bl()<=tt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Bl()<=tt.DEBUG&&Te("QueryEngine","Query:",zl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Bl()<=tt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):de.resolve())}ws(e,n){if(JT(n))return de.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Km(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=nt(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.vs(n,d);return this.Cs(n,m,c,f.readTime)?this.ws(e,Km(n,null,"F")):this.Fs(e,m,n,f)}))})))}Ss(e,n,r,i){return JT(n)||i.isEqual($e.min())?de.resolve(null):this.ys.getDocuments(e,r).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,r,i)?de.resolve(null):(Bl()<=tt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zl(n)),this.Fs(e,c,n,gL(i,jd)).next(d=>d))})}vs(e,n){let r=new cn(aC(e));return n.forEach((i,o)=>{wp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return Bl()<=tt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ys.getDocumentsMatchingQuery(e,n,ka.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="LocalStore",WU=3e8;class QU{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Vt(Qe),this.Os=new Ko(o=>s1(o),i1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function XU(t,e,n,r){return new QU(t,e,n,r)}async function IC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let f=nt();for(const m of i){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:d}))})})}function ZU(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,y){const x=m.batch,b=x.keys();let w=de.resolve();return b.forEach(S=>{w=w.next(()=>y.getEntry(f,S)).next(C=>{const N=m.docVersions.get(S);mt(N!==null,48541),C.version.compareTo(N)<0&&(x.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),y.addEntry(C)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,x))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=nt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function JU(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const d=[];e.targetChanges.forEach((y,x)=>{const b=i.get(x);if(!b)return;d.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,x).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,x)));let w=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Nn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),i=i.insert(x,w),function(C,N,M){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=WU?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,w,y)&&d.push(n.Ti.updateTargetData(o,w))});let f=Ui(),m=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(eF(o,c,e.documentUpdates).next(y=>{f=y.qs,m=y.Qs})),!r.isEqual($e.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(x=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return de.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.xs=i,o))}function eF(t,e,n){let r=nt(),i=nt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=Ui();return n.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Te(m1,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{qs:c,Qs:i}})}function tF(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=t1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nF(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,de.resolve(i)):n.Ti.allocateTargetId(r).next(c=>(i=new Aa(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Av(t,e,n){const r=qe(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!jc(c))throw c;Te(m1,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function f4(t,e,n){const r=qe(t);let i=$e.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,y){const x=qe(f),b=x.Os.get(y);return b!==void 0?de.resolve(x.xs.get(b)):x.Ti.getTargetData(m,y)}(r,c,qs(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?i:$e.min(),n?o:nt())).next(d=>(rF(r,zL(e),d),{documents:d,$s:o})))}function rF(t,e,n){let r=t.Ns.get(e)||$e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class h4{constructor(){this.activeTargetIds=YL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sF{constructor(){this.xo=new h4,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new h4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="ConnectivityMonitor";class p4{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(m4,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(m4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function Rv(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="RestConnection",aF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Hm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const c=Rv(),d=this.jo(e,n.toUriEncodedString());Te(y0,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:m}=new URL(d),y=Zd(m);return this.Jo(e,d,f,r,y).then(x=>(Te(y0,`Received RPC '${e}' ${c}: `,x),x),x=>{throw hc(y0,`RPC '${e}' ${c} failed with error: `,x,"url: ",d,"request:",r),x})}Yo(e,n,r,i,o,c){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=aF[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class cF extends oF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const c=Rv();return new Promise((d,f)=>{const m=new MR;m.setWithCredentials(!0),m.listenOnce(PR.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case hm.NO_ERROR:const x=m.getResponseJson();Te(Mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case hm.TIMEOUT:Te(Mn,`RPC '${e}' ${c} timed out`),f(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const b=m.getStatus();if(Te(Mn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const C=function(M){const I=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN}(S.status);f(new Se(C,S.message))}else f(new Se(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Te(Mn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(i);Te(Mn,`RPC '${e}' ${c} sending request:`,i),m.send(n,"POST",y,r,15)})}T_(e,n,r){const i=Rv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=VR(),d=OR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Te(Mn,`Creating RPC '${e}' stream ${i}: ${y}`,f);const x=c.createWebChannel(y,f);let b=!1,w=!1;const S=new lF({Zo:N=>{w?Te(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(b||(Te(Mn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),b=!0),Te(Mn,`RPC '${e}' stream ${i} sending:`,N),x.send(N))},Xo:()=>x.close()}),C=(N,M,I)=>{N.listen(M,R=>{try{I(R)}catch(k){setTimeout(()=>{throw k},0)}})};return C(x,Ju.EventType.OPEN,()=>{w||(Te(Mn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),C(x,Ju.EventType.CLOSE,()=>{w||(w=!0,Te(Mn,`RPC '${e}' stream ${i} transport closed`),S.u_())}),C(x,Ju.EventType.ERROR,N=>{w||(w=!0,hc(Mn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.u_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))}),C(x,Ju.EventType.MESSAGE,N=>{var M;if(!w){const I=N.data[0];mt(!!I,16349);const R=I,k=(R==null?void 0:R.error)||((M=R[0])===null||M===void 0?void 0:M.error);if(k){Te(Mn,`RPC '${e}' stream ${i} received error:`,k);const F=k.status;let W=function(O){const U=Xt[O];if(U!==void 0)return vC(U)}(F),V=k.message;W===void 0&&(W=ue.INTERNAL,V="Unknown error status: "+F+" with message "+k.message),w=!0,S.u_(new Se(W,V)),x.close()}else Te(Mn,`RPC '${e}' stream ${i} received:`,I),S.c_(I)}}),C(d,kR.STAT_EVENT,N=>{N.stat===pv.PROXY?Te(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===pv.NOPROXY&&Te(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function v0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){return new hU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="PersistentStream";class MC{constructor(e,n,r,i,o,c,d,f){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new Se(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Te(g4,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Te(g4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uF extends MC{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=gU(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?$e.min():c.readTime?Gs(c.readTime):$e.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Sv(this.serializer),n.addTarget=function(o,c){let d;const f=c.target;if(d=bv(f)?{documents:xU(o,f)}:{query:bU(o,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=_C(o,c.resumeToken);const m=wv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo($e.min())>0){d.readTime=Wm(o,c.snapshotVersion.toTimestamp());const m=wv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=wU(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Sv(this.serializer),n.removeTarget=e,this.L_(n)}}class dF extends MC{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=vU(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Sv(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yU(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{}class hF extends fF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,Ev(n,r),i,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ue.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Ev(n,r),i,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class mF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Li(n),this.oa=!1):Te("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class pF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{r.enqueueAndForget(async()=>{Yo(this)&&(Te(Bo,"Restarting streams for network reachability change."),await async function(f){const m=qe(f);m.Ta.add(4),await cf(m),m.da.set("Unknown"),m.Ta.delete(4),await Rp(m)}(this))})}),this.da=new mF(r,i)}}async function Rp(t){if(Yo(t))for(const e of t.Ia)await e(!0)}async function cf(t){for(const e of t.Ia)await e(!1)}function PC(t,e){const n=qe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),v1(n)?y1(n):Mc(n).M_()&&g1(n,e))}function p1(t,e){const n=qe(t),r=Mc(n);n.Pa.delete(e),r.M_()&&kC(n,e),n.Pa.size===0&&(r.M_()?r.N_():Yo(n)&&n.da.set("Unknown"))}function g1(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).H_(e)}function kC(t,e){t.Aa.Ke(e),Mc(t).J_(e)}function y1(t){t.Aa=new cU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.da._a()}function v1(t){return Yo(t)&&!Mc(t).F_()&&t.Pa.size>0}function Yo(t){return qe(t).Ta.size===0}function OC(t){t.Aa=void 0}async function gF(t){t.da.set("Online")}async function yF(t){t.Pa.forEach((e,n)=>{g1(t,e)})}async function vF(t,e){OC(t),v1(t)?(t.da.ca(e),y1(t)):t.da.set("Unknown")}async function xF(t,e,n){if(t.da.set("Online"),e instanceof bC&&e.state===2&&e.cause)try{await async function(i,o){const c=o.cause;for(const d of o.targetIds)i.Pa.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Pa.delete(d),i.Aa.removeTarget(d))}(t,e)}catch(r){Te(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xm(t,r)}else if(e instanceof ym?t.Aa.Xe(e):e instanceof xC?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual($e.min()))try{const r=await DC(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.Aa.It(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Pa.get(m);y&&o.Pa.set(m,y.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const y=o.Pa.get(f);if(!y)return;o.Pa.set(f,y.withResumeToken(Nn.EMPTY_BYTE_STRING,y.snapshotVersion)),kC(o,f);const x=new Aa(y.target,f,m,y.sequenceNumber);g1(o,x)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Te(Bo,"Failed to raise snapshot:",r),await Xm(t,r)}}async function Xm(t,e,n){if(!jc(e))throw e;t.Ta.add(1),await cf(t),t.da.set("Offline"),n||(n=()=>DC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(Bo,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Rp(t)})}function VC(t,e){return e().catch(n=>Xm(t,n,e))}async function Cp(t){const e=qe(t),n=Ua(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:t1;for(;bF(e);)try{const i=await tF(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,_F(e,i)}catch(i){await Xm(e,i)}LC(e)&&UC(e)}function bF(t){return Yo(t)&&t.ha.length<10}function _F(t,e){t.ha.push(e);const n=Ua(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function LC(t){return Yo(t)&&!Ua(t).F_()&&t.ha.length>0}function UC(t){Ua(t).start()}async function wF(t){Ua(t).ta()}async function EF(t){const e=Ua(t);for(const n of t.ha)e.Z_(n.mutations)}async function TF(t,e,n){const r=t.ha.shift(),i=l1.from(r,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cp(t)}async function SF(t,e){e&&Ua(t).Y_&&await async function(r,i){if(function(c){return oU(c)&&c!==ue.ABORTED}(i.code)){const o=r.ha.shift();Ua(r).O_(),await VC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cp(r)}}(t,e),LC(t)&&UC(t)}async function y4(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(Bo,"RemoteStore received new credentials");const r=Yo(n);n.Ta.add(3),await cf(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Rp(n)}async function AF(t,e){const n=qe(t);e?(n.Ta.delete(2),await Rp(n)):e||(n.Ta.add(2),await cf(n),n.da.set("Unknown"))}function Mc(t){return t.Ra||(t.Ra=function(n,r,i){const o=qe(n);return o.ra(),new uF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:gF.bind(null,t),n_:yF.bind(null,t),i_:vF.bind(null,t),j_:xF.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),v1(t)?y1(t):t.da.set("Unknown")):(await t.Ra.stop(),OC(t))})),t.Ra}function Ua(t){return t.Va||(t.Va=function(n,r,i){const o=qe(n);return o.ra(),new dF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:wF.bind(null,t),i_:SF.bind(null,t),X_:EF.bind(null,t),ea:TF.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Cp(t)):(await t.Va.stop(),t.ha.length>0&&(Te(Bo,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,d=new x1(e,n,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b1(t,e){if(Li("AsyncQueue",`${e}: ${t}`),jc(t))return new Se(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{static emptySet(e){return new ic(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.ma=new Vt(Pe.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class vc{constructor(e,n,r,i,o,c,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new vc(e,n,ic.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class CF{constructor(){this.queries=x4(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=qe(n),o=i.queries;i.queries=x4(),o.forEach((c,d)=>{for(const f of d.ya)f.onError(r)})})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function x4(){return new Ko(t=>iC(t),_p)}async function FC(t,e){const n=qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new RF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await n.onListen(i,!0);break;case 1:o.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=b1(c,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&_1(n)}async function BC(t,e){const n=qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.ya.indexOf(e);c>=0&&(o.ya.splice(c,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NF(t,e){const n=qe(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const d of c.ya)d.va(i)&&(r=!0);c.pa=i}}r&&_1(n)}function IF(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(n);r.queries.delete(e)}function _1(t){t.ba.forEach(e=>{e.next()})}var Cv,b4;(b4=Cv||(Cv={})).Ca="default",b4.Cache="cache";class zC{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.key=e}}class $C{constructor(e){this.key=e}}class DF{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=nt(),this.mutatedKeys=nt(),this.Ha=aC(e),this.Ja=new ic(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new v4,i=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,x)=>{const b=i.get(y),w=wp(this.query,x)?x:null,S=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;b&&w?b.data.isEqual(w.data)?S!==C&&(r.track({type:3,doc:w}),N=!0):this.eu(b,w)||(r.track({type:2,doc:w}),N=!0,(f&&this.Ha(w,f)>0||m&&this.Ha(w,m)<0)&&(d=!0)):!b&&w?(r.track({type:0,doc:w}),N=!0):b&&!w&&(r.track({type:1,doc:b}),N=!0,(f||m)&&(d=!0)),N&&(w?(c=c.add(w),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ja:c,Xa:r,Cs:d,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,x)=>function(w,S){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:N})}};return C(w)-C(S)}(y.type,x.type)||this.Ha(y.doc,x.doc)),this.tu(r),i=i!=null&&i;const d=n&&!i?this.nu():[],f=this.ja.size===0&&this.current&&!i?1:0,m=f!==this.za;return this.za=f,c.length!==0||m?{snapshot:new vc(this.query,e.Ja,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new v4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=nt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new $C(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new HC(r))}),n}su(e){this.Ga=e.$s,this.ja=nt();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return vc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const w1="SyncEngine";class jF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MF{constructor(e){this.key=e,this._u=!1}}class PF{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new Ko(d=>iC(d),_p),this.cu=new Map,this.lu=new Set,this.hu=new Vt(Pe.comparator),this.Pu=new Map,this.Tu=new d1,this.Iu={},this.Eu=new Map,this.du=yc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function kF(t,e,n=!0){const r=QC(t);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await qC(r,e,n,!0),i}async function OF(t,e){const n=QC(t);await qC(n,e,!0,!1)}async function qC(t,e,n,r){const i=await nF(t.localStore,qs(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await VF(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&PC(t.remoteStore,i),d}async function VF(t,e,n,r,i){t.Ru=(x,b,w)=>async function(C,N,M,I){let R=N.view.Za(M);R.Cs&&(R=await f4(C.localStore,N.query,!1).then(({documents:V})=>N.view.Za(V,R)));const k=I&&I.targetChanges.get(N.targetId),F=I&&I.targetMismatches.get(N.targetId)!=null,W=N.view.applyChanges(R,C.isPrimaryClient,k,F);return w4(C,N.targetId,W.ru),W.snapshot}(t,x,b,w);const o=await f4(t.localStore,e,!0),c=new DF(e,o.$s),d=c.Za(o.documents),f=lf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,f);w4(t,n,m.ru);const y=new jF(e,n,c);return t.uu.set(e,y),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),m.snapshot}async function LF(t,e,n){const r=qe(t),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(c=>!_p(c,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&p1(r.remoteStore,i.targetId),Nv(r,i.targetId)}).catch(Dc)):(Nv(r,i.targetId),await Av(r.localStore,i.targetId,!0))}async function UF(t,e){const n=qe(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p1(n.remoteStore,r.targetId))}async function FF(t,e,n){const r=KF(t);try{const i=await function(c,d){const f=qe(c),m=ln.now(),y=d.reduce((w,S)=>w.add(S.key),nt());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Ui(),C=nt();return f.Bs.getEntries(w,y).next(N=>{S=N,S.forEach((M,I)=>{I.isValidDocument()||(C=C.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,S)).next(N=>{x=N;const M=[];for(const I of d){const R=nU(I,x.get(I.key).overlayedDocument);R!=null&&M.push(new Ga(I.key,R,XR(R.value.mapValue),ls.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,M,d)}).next(N=>{b=N;const M=N.applyToLocalDocumentSet(x,C);return f.documentOverlayCache.saveOverlays(w,N.batchId,M)})}).then(()=>({batchId:b.batchId,changes:lC(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,f){let m=c.Iu[c.currentUser.toKey()];m||(m=new Vt(Qe)),m=m.insert(d,f),c.Iu[c.currentUser.toKey()]=m}(r,i.batchId,n),await uf(r,i.changes),await Cp(r.remoteStore)}catch(i){const o=b1(i,"Failed to persist write");n.reject(o)}}async function GC(t,e){const n=qe(t);try{const r=await JU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const c=n.Pu.get(o);c&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c._u=!0:i.modifiedDocuments.size>0?mt(c._u,14607):i.removedDocuments.size>0&&(mt(c._u,42227),c._u=!1))}),await uf(n,r,e)}catch(r){await Dc(r)}}function _4(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((o,c)=>{const d=c.view.Da(e);d.snapshot&&i.push(d.snapshot)}),function(c,d){const f=qe(c);f.onlineState=d;let m=!1;f.queries.forEach((y,x)=>{for(const b of x.ya)b.Da(d)&&(m=!0)}),m&&_1(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BF(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),o=i&&i.key;if(o){let c=new Vt(Pe.comparator);c=c.insert(o,Vn.newNoDocument(o,$e.min()));const d=nt().add(o),f=new Sp($e.min(),new Map,new Vt(Qe),c,d);await GC(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),E1(r)}else await Av(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(Dc)}async function zF(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await ZU(n.localStore,e);YC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uf(n,i)}catch(i){await Dc(i)}}async function HF(t,e,n){const r=qe(t);try{const i=await function(c,d){const f=qe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next(x=>(mt(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);YC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uf(r,i)}catch(i){await Dc(i)}}function KC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function YC(t,e,n){const r=qe(t);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||WC(t,r)})}function WC(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(p1(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),E1(t))}function w4(t,e,n){for(const r of n)r instanceof HC?(t.Tu.addReference(r.key,e),$F(t,r)):r instanceof $C?(Te(w1,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||WC(t,r.key)):Ue(19791,{mu:r})}function $F(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Te(w1,"New document in limbo: "+n),t.lu.add(r),E1(t))}function E1(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Pe(Nt.fromString(e)),r=t.du.next();t.Pu.set(r,new MF(n)),t.hu=t.hu.insert(n,r),PC(t.remoteStore,new Aa(qs(a1(n.path)),r,"TargetPurposeLimboResolution",vp.le))}}async function uf(t,e,n){const r=qe(t),i=[],o=[],c=[];r.uu.isEmpty()||(r.uu.forEach((d,f)=>{c.push(r.Ru(f,e,n).then(m=>{var y;if((m||n)&&r.isPrimaryClient){const x=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(m){i.push(m);const x=h1.Rs(f.targetId,m);o.push(x)}}))}),await Promise.all(c),r.au.j_(i),await async function(f,m){const y=qe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(m,b=>de.forEach(b.ds,w=>y.persistence.referenceDelegate.addReference(x,b.targetId,w)).next(()=>de.forEach(b.As,w=>y.persistence.referenceDelegate.removeReference(x,b.targetId,w)))))}catch(x){if(!jc(x))throw x;Te(m1,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const w=y.xs.get(b),S=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(S);y.xs=y.xs.insert(b,C)}}}(r.localStore,o))}async function qF(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te(w1,"User change. New user:",e.toKey());const r=await IC(n.localStore,e);n.currentUser=e,function(o,c){o.Eu.forEach(d=>{d.forEach(f=>{f.reject(new Se(ue.CANCELLED,c))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uf(n,r.ks)}}function GF(t,e){const n=qe(t),r=n.Pu.get(e);if(r&&r._u)return nt().add(r.key);{let i=nt();const o=n.cu.get(e);if(!o)return i;for(const c of o){const d=n.uu.get(c);i=i.unionWith(d.view.Ya)}return i}}function QC(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BF.bind(null,e),e.au.j_=NF.bind(null,e.eventManager),e.au.Vu=IF.bind(null,e.eventManager),e}function KF(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HF.bind(null,e),e}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ap(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return XU(this.persistence,new YU,e.initialUser,this.serializer)}yu(e){return new NC(f1.fi,this.serializer)}pu(e){return new sF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class YF extends Zm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){mt(this.persistence.referenceDelegate instanceof Qm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MU(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new NC(r=>Qm.fi(r,n),this.serializer)}}class Iv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qF.bind(null,this.syncEngine),await AF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CF}()}createDatastore(e){const n=Ap(e.databaseInfo.databaseId),r=function(o){return new cF(o)}(e.databaseInfo);return function(o,c,d,f){return new hF(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,c,d){return new pF(r,i,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>_4(this.syncEngine,n,0),function(){return p4.C()?new p4:new iF}())}createSyncEngine(e,n){return function(i,o,c,d,f,m,y){const x=new PF(i,o,c,d,f,m);return y&&(x.Au=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=qe(i);Te(Bo,"RemoteStore shutting down."),o.Ta.add(5),await cf(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iv.provider={build:()=>new Iv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="FirestoreClient";class WF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=BR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Te(Fa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Te(Fa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function x0(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QF(t);Te(Fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y4(e.remoteStore,i)),t._onlineComponents=e}async function QF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Fa,"Using user provided OfflineComponentProvider");try{await x0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await x0(t,new Zm)}}else Te(Fa,"Using default OfflineComponentProvider"),await x0(t,new YF(void 0));return t._offlineComponents}async function ZC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Fa,"Using user provided OnlineComponentProvider"),await E4(t,t._uninitializedComponentsProvider._online)):(Te(Fa,"Using default OnlineComponentProvider"),await E4(t,new Iv))),t._onlineComponents}function XF(t){return ZC(t).then(e=>e.syncEngine)}async function JC(t){const e=await ZC(t),n=e.eventManager;return n.onListen=kF.bind(null,e.syncEngine),n.onUnlisten=LF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UF.bind(null,e.syncEngine),n}function ZF(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,m){const y=new XC({next:b=>{y.Cu(),c.enqueueAndForget(()=>BC(o,x));const w=b.docs.has(d);!w&&b.fromCache?m.reject(new Se(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new Se(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new zC(a1(d.path),y,{includeMetadataChanges:!0,La:!0});return FC(o,x)}(await JC(t),t.asyncQueue,e,n,r)),r.promise}function JF(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,m){const y=new XC({next:b=>{y.Cu(),c.enqueueAndForget(()=>BC(o,x)),b.fromCache&&f.source==="server"?m.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new zC(d,y,{includeMetadataChanges:!0,La:!0});return FC(o,x)}(await JC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e,n){if(!n)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eB(t,e,n,r){if(e===!0&&r===!0)throw new Se(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S4(t){if(!Pe.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A4(t){if(Pe.isDocumentKey(t))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Np(t);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tB(t,e){if(e<=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firestore.googleapis.com",R4=!0;class C4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nN,this.ssl=R4}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:R4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DU)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oL;switch(r.type){case"firstParty":return new dL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,mp("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T4.get(n);r&&(Te("ComponentProvider","Removing Datastore"),T4.delete(n),r.terminate())}(this),Promise.resolve()}}function nB(t,e,n,r={}){var i;t=Qs(t,Ip);const o=Zd(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;c.host!==nN&&c.host!==f&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:r});if(!Oo(m,d)&&(t._setSettings(m),o&&(q3(`https://${f}`),mp("Firestore",!0)),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=On.MOCK_USER;else{y=pk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new On(b)}t._authCredentials=new lL(new UR(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Da extends Wo{constructor(e,n,r){super(e,n,a1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Pe(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Qo(t,e,...n){if(t=un(t),tN("collection","path",e),t instanceof Ip){const r=Nt.fromString(e,...n);return A4(r),new Da(t,null,r)}{if(!(t instanceof Xn||t instanceof Da))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return A4(r),new Da(t.firestore,null,r)}}function en(t,e,...n){if(t=un(t),arguments.length===1&&(e=BR.newId()),tN("doc","path",e),t instanceof Ip){const r=Nt.fromString(e,...n);return S4(r),new Xn(t,null,new Pe(r))}{if(!(t instanceof Xn||t instanceof Da))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return S4(r),new Xn(t.firestore,t instanceof Da?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="AsyncQueue";class I4{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jC(this,"async_queue_retry"),this.ec=()=>{const r=v0();r&&Te(N4,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=v0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=v0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ji;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!jc(e))throw e;Te(N4,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Li("INTERNAL UNHANDLED ERROR: ",D4(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=x1.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&Ue(47125,{_c:D4(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function D4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pc extends Ip{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new I4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I4(e),this._firestoreClient=void 0,await e}}}function rB(t,e){const n=typeof t=="object"?t:W3(),r=typeof t=="string"?t:Hm,i=$x(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=hk("firestore");o&&nB(i,...o)}return i}function T1(t){if(t._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sB(t),t._firestoreClient}function sB(t){var e,n,r;const i=t._freezeSettings(),o=function(d,f,m,y){return new AL(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,eN(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(Nn.fromBase64String(e))}catch(n){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xc(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=/^__.*__$/;class aB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new of(e,this.data,n,this.fieldTransforms)}}class rN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{hc:t})}}class R1{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new R1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Jm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(sN(this.hc)&&iB.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class oB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ap(e)}gc(e,n,r,i=!1){return new R1({hc:e,methodName:n,fc:r,path:Cn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(t){const e=t._freezeSettings(),n=Ap(t._databaseId);return new oB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iN(t,e,n,r,i,o={}){const c=t.gc(o.merge||o.mergeFields?2:0,e,n,i);N1("Data must be an object, but it was:",c,r);const d=aN(r,c);let f,m;if(o.merge)f=new br(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const b=Dv(e,x,n);if(!c.contains(b))throw new Se(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);lN(y,b)||y.push(b)}f=new br(y),m=c.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=c.fieldTransforms;return new aB(new ar(d),f,m)}class Pp extends jp{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pp}}class C1 extends jp{_toFieldTransform(e){return new ZL(e.path,new Od)}isEqual(e){return e instanceof C1}}function lB(t,e,n,r){const i=t.gc(1,e,n);N1("Data must be an object, but it was:",i,r);const o=[],c=ar.empty();qa(r,(f,m)=>{const y=I1(e,f,n);m=un(m);const x=i.Ac(y);if(m instanceof Pp)o.push(y);else{const b=df(m,x);b!=null&&(o.push(y),c.set(y,b))}});const d=new br(o);return new rN(c,d,i.fieldTransforms)}function cB(t,e,n,r,i,o){const c=t.gc(1,e,n),d=[Dv(e,r,n)],f=[i];if(o.length%2!=0)throw new Se(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(Dv(e,o[b])),f.push(o[b+1]);const m=[],y=ar.empty();for(let b=d.length-1;b>=0;--b)if(!lN(m,d[b])){const w=d[b];let S=f[b];S=un(S);const C=c.Ac(w);if(S instanceof Pp)m.push(w);else{const N=df(S,C);N!=null&&(m.push(w),y.set(w,N))}}const x=new br(m);return new rN(y,x,c.fieldTransforms)}function uB(t,e,n,r=!1){return df(n,t.gc(r?4:3,e))}function df(t,e){if(oN(t=un(t)))return N1("Unsupported field value:",e,t),aN(t,e);if(t instanceof jp)return function(r,i){if(!sN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let c=0;for(const d of r){let f=df(d,i.Rc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ln.fromDate(r);return{timestampValue:Wm(i.serializer,o)}}if(r instanceof ln){const o=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wm(i.serializer,o)}}if(r instanceof S1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:_C(i.serializer,r._byteString)};if(r instanceof Xn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof A1)return function(c,d){return{mapValue:{fields:{[WR]:{stringValue:QR},[$m]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Vc("VectorValues must only contain numeric values.");return o1(d.serializer,m)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Np(r)}`)}(t,e)}function aN(t,e){const n={};return HR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(t,(r,i)=>{const o=df(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof S1||t instanceof xc||t instanceof Xn||t instanceof jp||t instanceof A1)}function N1(t,e,n){if(!oN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Np(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Dv(t,e,n){if((e=un(e))instanceof Dp)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const dB=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(dB)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dp(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jm(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Se(ue.INVALID_ARGUMENT,d+t+f)}function lN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fB extends cN{data(){return super.data()}}function D1(t,e){return typeof e=="string"?I1(t,e):e instanceof Dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j1{}class uN extends j1{}function kc(t,e,...n){let r=[];e instanceof j1&&r.push(e),r=r.concat(n),function(o){const c=o.filter(f=>f instanceof M1).length,d=o.filter(f=>f instanceof kp).length;if(c>1||c>0&&d>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kp extends uN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kp(e,n,r)}_apply(e){const n=this._parse(e);return dN(e._query,n),new Wo(e.firestore,e.converter,_v(e._query,n))}_parse(e){const n=Mp(e.firestore);return function(o,c,d,f,m,y,x){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){M4(x,y);const S=[];for(const C of x)S.push(j4(f,o,C));b={arrayValue:{values:S}}}else b=j4(f,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||M4(x,y),b=uB(d,c,x,y==="in"||y==="not-in");return Jt.create(m,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fi(t,e,n){const r=e,i=D1("where",t);return kp._create(i,r,n)}class M1 extends j1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new M1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let c=i;const d=o.getFlattenedFilters();for(const f of d)dN(c,f),c=_v(c,f)}(e._query,n),new Wo(e.firestore,e.converter,_v(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P1 extends uN{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new P1(e,n,r)}_apply(e){return new Wo(e.firestore,e.converter,Km(e._query,this._limit,this._limitType))}}function mB(t){return tB("limit",t),P1._create("limit",t,"F")}function j4(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Pe.isDocumentKey(r))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KT(t,new Pe(r))}if(n instanceof Xn)return KT(t,n._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Np(n)}.`)}function M4(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dN(t,e){const n=function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pB{convertValue(e,n="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[$m].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>qt(c.doubleValue));return new A1(o)}convertGeoPoint(e){return new S1(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=Oa(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);mt(RC(r),9688,{name:e});const i=new Pd(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return i.isEqual(n)||Li(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hN extends cN{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vm extends hN{data(e={}){return super.data(e)}}class gB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vm(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>{const f=new vm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new nd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new vm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new nd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:yB(d.type),doc:f,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){t=Qs(t,Xn);const e=Qs(t.firestore,Pc);return ZF(T1(e),t._key).then(n=>xB(e,t,n))}class mN extends pB{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function Oc(t){t=Qs(t,Wo);const e=Qs(t.firestore,Pc),n=T1(e),r=new mN(e);return hB(t._query),JF(n,t._query).then(i=>new gB(e,r,t,i))}function k1(t,e,n){t=Qs(t,Xn);const r=Qs(t.firestore,Pc),i=fN(t.converter,e,n);return V1(r,[iN(Mp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ls.none())])}function O1(t,e,n,...r){t=Qs(t,Xn);const i=Qs(t.firestore,Pc),o=Mp(i);let c;return c=typeof(e=un(e))=="string"||e instanceof Dp?cB(o,"updateDoc",t._key,e,n,r):lB(o,"updateDoc",t._key,e),V1(i,[c.toMutation(t._key,ls.exists(!0))])}function vB(t,e){const n=Qs(t.firestore,Pc),r=en(t),i=fN(t.converter,e);return V1(n,[iN(Mp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ls.exists(!1))]).then(()=>r)}function V1(t,e){return function(r,i){const o=new ji;return r.asyncQueue.enqueueAndForget(async()=>FF(await XF(r),i,o)),o.promise}(T1(t),e)}function xB(t,e,n){const r=n.docs.get(e._key),i=new mN(t);return new hN(t,i,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}function Ud(){return new C1("serverTimestamp")}(function(e,n=!0){(function(i){Ic=i})(Cc),dc(new Vo("firestore",(r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Pc(new cL(r.getProvider("auth-internal")),new fL(c,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(m.options.projectId,y)}(c,i),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Na(kT,OT,e),Na(kT,OT,"esm2017")})();const bB={apiKey:"AIzaSyDpeisD1tArmExEdsn46D2QbOZWz_XSCr0",authDomain:"healsync-801eb.firebaseapp.com",projectId:"healsync-801eb",storageBucket:"healsync-801eb.firebasestorage.app",messagingSenderId:"702905905248",appId:"1:702905905248:web:dcfdd9933dac76c9475305"},pN=Y3(bB),Ls=iL(pN),Rt=rB(pN);function _B(){const t="BCDFGHJKLMNPQRSTVWXYZ",e="AEIOU";let n="";for(let i=0;i<4;i++)i%2===0?n+=t[Math.floor(Math.random()*t.length)]:n+=e[Math.floor(Math.random()*e.length)];const r=Math.floor(1e3+Math.random()*9e3);return`DR-${n}-${r}`}async function wB(t){try{const e=Qo(Rt,"users"),n=kc(e,Fi("doctorId","==",t));return!(await Oc(n)).empty}catch(e){throw console.error("Error checking doctor ID:",e),e}}async function EB(){let t,e=0;const n=10;do if(t=_B(),e++,e>=n)throw new Error("Unable to generate unique doctor ID after multiple attempts");while(await wB(t));return t}function TB(t){return/^DR-[BCDFGHJKLMNPQRSTVWXYZAEIOU]{4}-\d{4}$/.test(t)}async function SB(t){try{if(!TB(t))throw new Error("Invalid doctor ID format");const e=Qo(Rt,"users"),n=kc(e,Fi("doctorId","==",t),Fi("role","==","doctor")),r=await Oc(n);if(r.empty)return null;const i=r.docs[0];return{id:i.id,...i.data()}}catch(e){throw console.error("Error finding doctor by ID:",e),e}}async function AB(t,e){try{const n=t.split("_");if(n.length!==2)return{success:!1,error:"Invalid share link format."};const[r,i]=n;if(r!==e)return{success:!1,error:"You are not authorized to view this patient's profile."};const o=en(Rt,"shared_profiles",t),c=await Zn(o);if(!c.exists())return{success:!1,error:"Shared profile not found."};const d=c.data();return d.doctorId!==e?{success:!1,error:"You are not authorized to view this patient's profile."}:d.status!=="active"?{success:!1,error:"This patient profile is no longer shared with you."}:{success:!0,data:d}}catch(n){return console.error("Error fetching shared profile record:",n),{success:!1,error:"Failed to load patient profile. Please try again."}}}async function RB(t){try{const e=en(Rt,"users",t),n=await Zn(e);if(n.exists()){const r=n.data();return{success:!0,data:{name:r.name||"Unknown Patient",email:r.email||""}}}else return{success:!1,error:"Patient information not found."}}catch(e){return console.error("Error fetching patient basic info:",e),{success:!1,error:"Failed to load patient information."}}}async function CB(t){try{const e=Qo(Rt,"shared_profiles"),n=kc(e,Fi("doctorId","==",t),Fi("status","==","active")),r=await Oc(n),i=[];return r.forEach(o=>{i.push({id:o.id,...o.data()})}),{success:!0,data:i}}catch(e){return console.error("Error fetching shared profiles:",e),{success:!1,error:e.message}}}async function NB(t){try{const e=en(Rt,"userProfile",t),n=await Zn(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"Patient profile not found."}}catch(e){return console.error("Error fetching patient profile:",e),{success:!1,error:"Failed to load patient profile."}}}async function IB(t,e,n){try{const r=`${t}_${e}`,i=en(Rt,"shared_profiles",r),o=await Zn(i);if(!o.exists())return{success:!1,error:"You don't have access to this patient's profile."};const c=o.data();if(c.status!=="active"||c.doctorId!==t)return{success:!1,error:"Your access to this patient's profile has been revoked or is invalid."};const d=en(Rt,"users",t),f=await Zn(d);if(!f.exists())return{success:!1,error:"Doctor information not found."};const m=f.data(),y={patientId:e,doctorId:t,doctorIdCode:c.doctorIdCode,doctorName:c.doctorName||m.name,visitDate:n.visitDate,symptoms:n.symptoms||[],diagnosis:n.diagnosis||"",medicines:n.medicines||[],prescribedTests:n.prescribedTests||[],followUpNotes:n.followUpNotes||"",...n.fileName&&{fileName:n.fileName,fileType:n.fileType,fileUrl:n.fileUrl},createdAt:Ud(),lastModifiedAt:Ud(),createdBy:t,shareRecordId:r,isActive:!0},x=Qo(Rt,"medicalRecords");return{success:!0,recordId:(await vB(x,y)).id,message:"Medical record added successfully."}}catch(r){return console.error("Error adding medical record:",r),{success:!1,error:"Failed to add medical record. Please try again."}}}async function DB(t,e,n){try{const r=en(Rt,"medicalRecords",t),i=await Zn(r);if(!i.exists())return{success:!1,error:"Medical record not found."};const o=i.data(),c=en(Rt,"shared_profiles",o.shareRecordId),d=await Zn(c);if(!d.exists()||d.data().status!=="active")return{success:!1,error:"You don't have access to this patient's profile."};if(o.createdBy!==e)return{success:!1,error:"You can only update medical records you created."};const f=o.createdAt;let m;if(f&&f.seconds)m=f.seconds*1e3;else if(typeof f=="number")m=f;else return{success:!1,error:"Cannot verify record creation time. Update not allowed."};const y=Date.now(),x=30*60*1e3;if(y-m>x)return{success:!1,error:"Medical record cannot be updated after 30 minutes of creation."};const b={...n,lastModifiedAt:Ud()};return await O1(r,b),{success:!0,message:"Medical record updated successfully."}}catch(r){return console.error("Error updating medical record:",r),{success:!1,error:"Failed to update medical record."}}}async function jB(t,e,n=null,r=20){try{const i=`${t}_${e}`,o=en(Rt,"shared_profiles",i),c=await Zn(o);if(!c.exists()||c.data().status!=="active")return{success:!1,error:"You don't have access to this patient's profile."};const d=Qo(Rt,"medicalRecords"),f=kc(d,Fi("patientId","==",e)),m=await Oc(f),y=[];m.forEach(S=>{y.push({id:S.id,...S.data()})});const x=y.filter(S=>S.isActive!==!1);x.sort((S,C)=>{var I,R,k,F;const N=new Date(S.visitDate||((R=(I=S.createdAt)==null?void 0:I.toDate)==null?void 0:R.call(I))||0);return new Date(C.visitDate||((F=(k=C.createdAt)==null?void 0:k.toDate)==null?void 0:F.call(k))||0)-N});const b=x.slice(0,r),w=x.length>r;return{success:!0,data:b,pagination:{hasMore:w,lastDoc:null,currentPageSize:b.length,requestedPageSize:r}}}catch(i){return console.error("Error fetching medical records:",i),{success:!1,error:"Failed to fetch medical records."}}}const gN=E.createContext(),MB=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(null),[o,c]=E.useState(!0);E.useEffect(()=>{const x=KV(Ls,async b=>{b?(n(b),await d(b.uid)):(n(null),i(null)),c(!1)});return()=>x()},[]);const d=async x=>{try{const b=en(Rt,"users",x),w=await Zn(b);w.exists()&&i(w.data().role)}catch(b){console.error("Error fetching user role:",b)}},f=async(x,b,w,S)=>{try{const C=await BV(Ls,b,w);await $V(C.user,{displayName:x});let N=null;S==="doctor"&&(N=await EB());const M=en(Rt,"users",C.user.uid),I={name:x,email:b,role:S,createdAt:new Date().toISOString()};return N&&(I.doctorId=N),await k1(M,I),i(S),C}catch(C){throw console.error("Signup error:",C),C}},m=async(x,b)=>{try{return await zV(Ls,x,b)}catch(w){throw console.error("Login error:",w),w}},y=async()=>{await YV(Ls),n(null),i(null)};return h.jsx(gN.Provider,{value:{user:e,userRole:r,loading:o,signup:f,login:m,logout:y},children:t})},Bn=()=>E.useContext(gN),zo=()=>{var N;const[t,e]=E.useState(localStorage.getItem("theme")||"light"),[n,r]=E.useState(!1),[i,o]=E.useState(!1),c=E.useRef(null),{user:d,userRole:f,logout:m}=Bn(),y=Wr(),{register:x,handleSubmit:b,reset:w}=L3();E.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t),localStorage.setItem("theme",t)},[t]),E.useEffect(()=>{const M=I=>{c.current&&!c.current.contains(I.target)&&o(!1)};return i?document.addEventListener("mousedown",M):document.removeEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[i]);const S=()=>{e(M=>M==="light"?"dark":"light")},C=async()=>{try{await m(),console.log("Logged out"),y("/login")}catch(M){console.log("Logout failed",M)}};return h.jsx("nav",{className:"w-full px-2 sm:px-4 text-text sticky top-3 z-50",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:`relative flex flex-row justify-between items-center gap-2 rounded-2xl 
          bg-white/70 dark:bg-black/70 
          supports-[backdrop-filter]:bg-white/50 dark:supports-[backdrop-filter]:bg-black/60 
          backdrop-blur border border-primary shadow-xl overflow-visible px-3 sm:px-4 py-2`,children:[h.jsx(lr,{to:"/",children:h.jsx(Tt.div,{className:"text-2xl font-bold text-primary",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:"HealSync"})}),h.jsxs(Tt.div,{className:"flex flex-row items-center gap-2 sm:gap-6 w-auto",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[d?h.jsx("div",{className:"flex flex-row items-center gap-2 relative w-auto",children:h.jsxs("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[h.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary text-background font-bold text-lg cursor-pointer",children:(N=d==null?void 0:d.displayName)==null?void 0:N.charAt(0).toUpperCase()}),h.jsx(rx,{children:n&&h.jsxs(Tt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 rounded-xl shadow-2xl z-[100] p-4 text-sm pointer-events-auto 
                        bg-white/80 dark:bg-black/70 supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-black/60 
                        backdrop-blur border border-secondary/60`,children:[h.jsx("div",{className:"font-semibold text-text mb-1",children:d==null?void 0:d.displayName}),h.jsx("div",{className:"text-xs text-gray-500 mb-3 capitalize",children:f||"Loading..."}),h.jsx("button",{onClick:C,className:"w-full text-left px-3 py-2 rounded-md bg-accent text-background hover:opacity-90 transition",children:"Logout"})]})})]})}):h.jsxs("div",{className:"flex flex-row items-center gap-2 w-auto",children:[h.jsx(lr,{to:"/signup",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-primary text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Sign Up"}),h.jsx(lr,{to:"/login",className:"text-xs sm:text-sm md:text-base px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-xl bg-accent text-white hover:scale-105 transition text-center min-w-[60px] sm:min-w-[80px]",children:"Login"})]}),h.jsx("button",{onClick:S,className:"p-2 sm:p-2 rounded-full border border-gray-300 dark:border-gray-600 hover:scale-110 transition","aria-label":"Toggle Theme",children:t==="light"?h.jsx(VP,{}):h.jsx(OP,{})})]})]})})})},PB=[{question:"Is my health data secure with HealSync?",answer:"Absolutely. HealSync uses end-to-end encryption and role-based access control to keep your data safe."},{question:"Can I share records with multiple doctors?",answer:"Yes! You can securely share your medical history with any authorized practitioner through our platform."},{question:"Do I need to pay to use HealSync?",answer:"The core features are completely free for patients. We offer premium features for healthcare providers."}],kB=[{icon:h.jsx(kx,{className:"text-4xl text-accent"}),title:"Top-Notch Security",description:"Your medical data is encrypted and accessible only to authorized users."},{icon:h.jsx(SP,{className:"text-4xl text-accent"}),title:"Easy Upload",description:"Upload prescriptions, reports, and test results within seconds."},{icon:h.jsx(rv,{className:"text-4xl text-accent"}),title:"Seamless Sharing",description:"Share your health records securely with your doctors anytime."}],OB=({question:t,answer:e})=>{const[n,r]=E.useState(!1);return h.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center px-4 py-3 text-left text-lg font-bold text-primary hover:bg-gray-100 dark:hover:bg-secondary transition-all",children:[t,h.jsx("span",{className:"text-accent text-xl",children:n?"":"+"})]}),h.jsx(rx,{initial:!1,children:n&&h.jsx(Tt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden px-4 text-text dark:text-text text-sm font-semibold",children:h.jsx("div",{className:"py-3",children:e})},"content")})]})},VB=()=>{const{user:t,userRole:e,loading:n}=Bn(),r=Wr(),i=()=>{r(t?e==="doctor"?"/doctor":"/user":"/signup")};return h.jsxs(h.Fragment,{children:[h.jsx(zo,{}),h.jsxs("div",{className:"min-h-screen w-full bg-background",children:[h.jsxs("section",{className:"min-h-screen flex flex-col items-center text-center px-6 bg-background text-text relative pt-10",children:[h.jsxs(Tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},className:"max-w-2xl",children:[h.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-6 text-text dark:text-text",children:"HealSync"}),h.jsx("p",{className:"text-lg md:text-xl text-primary mb-8",children:"HealSync brings your entire health story together. A modern medical records platform that lets you and your doctor stay in syncsecurely, effortlessly, and always up to date."}),h.jsx("button",{onClick:i,className:`relative group px-6 py-3 rounded-lg overflow-hidden transition-transform duration-300 ease-in-out
  bg-[var(--color-primary)] text-[var(--color-text)]
  hover:scale-105 hover:shadow-[0_0_20px_var(--color-accent)]`,children:t?"Go to Dashboard":"Get Started"})]}),h.jsx(Tt.div,{className:"absolute bottom-10 text-accent -translate-y-16 hover:cursor-pointer",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:1,duration:.8},children:h.jsx("svg",{className:"w-6 h-6 animate-bounce",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),h.jsx("section",{className:"py-20 px-6 bg-white dark:bg-background",children:h.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[h.jsx(Tt.h2,{className:"text-3xl md:text-4xl font-bold mb-16 text-primary",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2,duration:.6},children:"Why Choose HealSync?"}),h.jsx("div",{className:"flex flex-col gap-20",children:kB.map((o,c)=>h.jsxs(Tt.div,{className:`flex flex-col md:flex-row items-center justify-between gap-10 ${c%2!==0?"md:flex-row-reverse":""}`,initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:c*.2},children:[h.jsx("div",{className:"w-full md:w-1/2",children:h.jsx("img",{src:`/assets/feature-${c+1}.svg`,alt:`${o.title} illustration`,className:"w-full h-auto rounded-xl shadow-lg"})}),h.jsxs("div",{className:"w-full md:w-1/2 text-left",children:[h.jsx("h3",{className:"text-2xl font-semibold mb-3 text-primary",children:o.title}),h.jsx("p",{className:"text-secondary mb-4",children:o.description})]})]},c))})]})}),h.jsx("section",{className:"py-20 px-6 text-center bg-background",children:h.jsxs(Tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[h.jsx(PP,{className:"text-6xl text-accent mx-auto mb-4"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"Ready to Take Control of Your Health?"}),h.jsx("p",{className:"text-secondary mb-8",children:"Sign up and experience the future of digital healthcare with HealSync."}),h.jsx("button",{onClick:i,className:"bg-accent text-white px-8 py-3 rounded-xl font-semibold text-lg hover:scale-105 transition-all",children:t?"Go to Dashboard":"Create Your Account"})]})}),h.jsx("section",{className:"py-20 px-6 bg-white dark:bg-background text-text",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx(Tt.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-primary",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6},children:"Frequently Asked Questions"}),h.jsx("div",{className:"space-y-4",children:PB.map((o,c)=>h.jsx(OB,{question:o.question,answer:o.answer},c))})]})}),h.jsx("footer",{className:"bg-gradient-to-t from-secondary to-background text-white py-8 text-center",children:h.jsxs("p",{children:[" ",new Date().getFullYear()," HealSync. All rights reserved."]})})]})]})};async function LB(t,e){try{return console.log("Attempting to save to Firestore:",{userId:t,profileData:e}),console.log("Current auth user:",Ls.currentUser),console.log("Auth state:",Ls.currentUser?"authenticated":"not authenticated"),await k1(en(Rt,"userProfile",t),e,{merge:!0}),console.log("Successfully saved to Firestore"),{success:!0}}catch(n){return console.error("Error adding/updating user profile:",n),console.error("Error details:",n.code,n.message),{success:!1,error:n.message}}}async function Fd(t){try{const e=en(Rt,"userProfile",t),n=await Zn(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User profile not found"}}catch(e){return console.error("Error fetching user profile:",e),{success:!1,error:e.message}}}async function UB(t,e){try{return await O1(en(Rt,"userProfile",t),e),{success:!0}}catch(n){return console.error("Error editing user profile:",n),{success:!1,error:n.message}}}async function FB(t,e){try{const n=await SB(e);if(!n)return{success:!1,error:"Doctor not found. Please check the Doctor ID and try again."};const r=n.id,i=`${r}_${t}`,o=en(Rt,"shared_profiles",i),c=await Zn(o);if(c.exists()&&c.data().status==="active")return{success:!1,error:"Profile already shared with this doctor."};const d={patientId:t,doctorId:r,doctorIdCode:e,doctorName:n.name||"Unknown Doctor",sharedAt:Ud(),status:"active"},f=en(Rt,"shared_profiles",i);return await k1(f,d),{success:!0,shareId:i,doctorName:n.name}}catch(n){return console.error("Error sharing profile with doctor:",n),{success:!1,error:n.message}}}async function BB(t){try{const e=Qo(Rt,"shared_profiles"),n=kc(e,Fi("patientId","==",t),Fi("status","==","active")),r=await Oc(n),i=[];return r.forEach(o=>{i.push({id:o.id,...o.data()})}),{success:!0,data:i}}catch(e){return console.error("Error fetching patient shared profiles:",e),{success:!1,error:e.message}}}async function zB(t,e){try{const n=`${e}_${t}`,r=en(Rt,"shared_profiles",n);return(await Zn(r)).exists()?(await O1(r,{status:"revoked",revokedAt:Ud()}),{success:!0,message:"Profile access successfully revoked."}):{success:!1,error:"Share record not found."}}catch(n){return console.error("Error revoking profile access:",n),{success:!1,error:n.message}}}async function yN(t,e=null,n=20,r=!1){try{const i=Qo(Rt,"medicalRecords");let o=kc(i,Fi("patientId","==",t),mB(n));const c=await Oc(o),d=[];let f=null;c.forEach(x=>{const b=x.data();!r&&b.isActive===!1||(d.push({id:x.id,...b}),f=x)});const m=d.sort((x,b)=>{var C,N;const w=new Date(x.visitDate||((C=x.createdAt)==null?void 0:C.toDate())||0);return new Date(b.visitDate||((N=b.createdAt)==null?void 0:N.toDate())||0)-w}),y=d.length===n;return{success:!0,data:m,hasMore:y,lastDoc:f}}catch(i){return console.error("Error fetching patient medical records:",i),i.code==="failed-precondition"?{success:!1,error:"Database index not ready. Please try again in a moment."}:{success:!1,error:i.message||"Failed to fetch medical records."}}}const HB=()=>{var w,S,C,N,M;const{user:t}=Bn(),[e,n]=E.useState(null),[r,i]=E.useState(!0),[o,c]=E.useState(null);E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{i(!0);const R=await Fd(t.uid);R.success?n(R.data):c("Failed to load profile data")}catch{c("An error occurred while loading data")}finally{i(!1)}})()},[t]);const d=I=>{if(!I)return null;const R=new Date(I),k=new Date;let F=k.getFullYear()-R.getFullYear();const W=k.getMonth()-R.getMonth();return(W<0||W===0&&k.getDate()<R.getDate())&&F--,F},f=(I,R)=>{if(!(I!=null&&I.value)||!(R!=null&&R.value))return null;const k=I.unit==="lbs"?I.value*.453592:I.value,F=R.unit==="ft"?R.value*.3048:R.value/100;return(k/(F*F)).toFixed(1)};if(r)return h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[h.jsx("div",{className:"animate-pulse h-7 bg-white/10 rounded w-1/2 mb-2"}),h.jsx("div",{className:"animate-pulse h-4 bg-white/10 rounded w-1/3"})]});if(o||!(e!=null&&e.basic))return h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center",children:h.jsx(ud,{})}),h.jsx("h2",{className:"text-lg font-bold text-text",children:"Profile data not available"})]}),h.jsx("p",{className:"text-secondary mb-4",children:o||"Complete your profile to see your health overview."}),h.jsxs(lr,{to:"edit-profile",className:"glass-cta inline-flex items-center gap-2 px-4 py-2",children:[h.jsx(Nm,{})," Complete Profile"]})]});const{basic:m,medical:y}=e,x=d(m.dob),b=f(m.weight,m.height);return h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider hover-glow-primary",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary to-accent text-white flex items-center justify-center shadow-lg",children:h.jsx(ud,{className:"text-xl"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text truncate",children:m.fullName||"Unknown User"}),h.jsxs("p",{className:"text-xs sm:text-sm text-secondary truncate",children:["Patient ID: ",((w=t==null?void 0:t.uid)==null?void 0:w.substring(0,8).toUpperCase())||"N/A"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-2",children:[h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(NP,{className:"text-primary"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Height"})]}),h.jsxs("span",{className:"text-lg font-bold text-text",children:[(S=m.height)==null?void 0:S.value," ",((C=m.height)==null?void 0:C.unit)||"cm"]})]}),h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(DP,{className:"text-accent"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Weight"})]}),h.jsxs("span",{className:"text-lg font-bold text-text",children:[(N=m.weight)==null?void 0:N.value," ",((M=m.weight)==null?void 0:M.unit)||"kg"]})]}),h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(IP,{className:"text-red-400"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Blood Group"})]}),h.jsx("span",{className:"text-lg font-bold text-text",children:m.bloodGroup||"Not set"})]}),h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(Mx,{className:"text-orange-400"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Age"})]}),h.jsx("span",{className:"text-lg font-bold text-text",children:x?`${x} years`:"Not set"})]}),h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(Ox,{className:"text-red-400"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Blood Type"})]}),h.jsx("span",{className:"text-lg font-bold text-text",children:m.bloodGroup||"Not set"})]}),h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(Vx,{className:"text-green-400"}),h.jsx("span",{className:"text-xs font-medium text-secondary",children:"Gender"})]}),h.jsx("span",{className:"text-lg font-bold text-text",children:m.gender||"Not set"})]})]}),b&&h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider mt-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(uc,{className:"text-green-400"}),h.jsx("span",{className:"font-medium text-text",children:"Body Mass Index (BMI)"})]}),h.jsx("span",{className:"text-2xl font-bold text-green-400",children:b})]}),h.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-2",children:h.jsx("div",{className:`h-2 rounded-full ${b<18.5?"bg-blue-500":b<25?"bg-green-500":b<30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(b/35*100,100)}%`}})}),h.jsx("p",{className:"text-xs text-secondary",children:b<18.5?"Underweight":b<25?"Normal weight":b<30?"Overweight":"Obese"})]}),(y==null?void 0:y.conditions)&&y.conditions.length>0&&h.jsxs("div",{className:"p-4 glass rounded-xl border soft-divider mt-2",children:[h.jsx("h3",{className:"font-semibold text-text mb-3",children:"Medical Conditions"}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.conditions.slice(0,4).map((I,R)=>h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",children:I},R)),y.conditions.length>4&&h.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/10 text-secondary",children:["+",y.conditions.length-4," more"]})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t soft-divider",children:[h.jsxs(lr,{to:"edit-profile",className:"flex-1 glass-cta flex items-center justify-center gap-2 px-4 py-3",children:[h.jsx(Nm,{className:"text-sm"}),h.jsx("span",{className:"font-medium",children:"Edit"})]}),h.jsxs(lr,{to:"view-profile",className:"flex-1 glass rounded-lg border soft-divider text-text flex items-center justify-center gap-2 px-4 py-3 hover-glow-primary",children:[h.jsx(Rc,{className:"text-sm"}),h.jsx("span",{className:"font-medium",children:"View Full"})]})]}),h.jsx("div",{className:"pt-2",children:h.jsx("p",{className:"text-xs text-secondary text-center",children:"Keep your health information updated for better care"})})]})};function ep(t){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M384 22.545L307.271 99.27l25.458 25.458L366 91.457v329.086l-33.271-33.272-25.458 25.458L384 489.455l76.729-76.726-25.458-25.458L402 420.543V91.457l33.271 33.272L460.73 99.27 384 22.545zm-242.443.258c-23.366 3.035-44.553 30.444-44.553 65.935 0 19.558 6.771 36.856 16.695 48.815l11.84 14.263-18.217 3.424c-12.9 2.425-22.358 9.24-30.443 20.336-8.085 11.097-14.266 26.558-18.598 44.375-7.843 32.28-9.568 71.693-9.842 106.436h42.868l11.771 157.836c29.894 6.748 61.811 6.51 90.602.025l10.414-157.861h40.816c-.027-35.168-.477-75.125-7.584-107.65-3.918-17.933-9.858-33.371-18.04-44.342-8.185-10.97-18.08-17.745-32.563-19.989l-18.592-2.88 11.736-14.704c9.495-11.897 15.932-28.997 15.932-48.082 0-37.838-23.655-65.844-49.399-65.844l-4.843-.093z"},child:[]}]})(t)}const $B=()=>{const t=Wr(),{user:e}=Bn(),[n,r]=E.useState([]),[i,o]=E.useState(!0),[c,d]=E.useState(null),[f,m]=E.useState(null),[y,x]=E.useState(!0),[b,w]=E.useState(!1);E.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const R=setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0},0);return()=>clearTimeout(R)},[]),E.useEffect(()=>{e!=null&&e.uid&&S(!0)},[e]);const S=async(R=!1)=>{try{R?(o(!0),d(null),r([]),m(null)):w(!0);const k=await yN(e.uid,R?null:f,20,!1);if(k.success){const F=k.data||[];r(R?F:W=>[...W,...F]),m(k.lastDoc||null),x(!!k.hasMore)}else d(k.error||"Failed to fetch medical records"),R&&r([])}catch(k){console.error("Error fetching medical records:",k),d("Failed to load medical records"),R&&r([])}finally{o(!1),w(!1)}},C=()=>{!b&&y&&S(!1)},N=()=>{S(!0),window.scrollTo({top:0,left:0,behavior:"auto"})},M=({items:R,colorClass:k})=>h.jsx("div",{className:"flex flex-wrap gap-2",children:R&&R.length>0?R.map((F,W)=>h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k}`,children:F},W)):h.jsx("span",{className:"text-sm text-gray-500 italic",children:"None specified"})}),I=({record:R})=>{var k,F;return h.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-base sm:text-lg font-semibold text-text",children:R.diagnosis||"Medical Record"}),h.jsxs("p",{className:"text-xs sm:text-sm text-secondary",children:[R.visitDate?new Date(R.visitDate).toLocaleDateString():"No date specified",(k=R.createdAt)!=null&&k.toDate?` at ${new Date(R.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""," "," ",((F=R.doctor)==null?void 0:F.name)||"Unknown Doctor"]})]}),R.fileUrl&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",title:"View file",children:h.jsx(Rc,{className:"text-sm"})}),h.jsx("a",{href:R.fileUrl,download:!0,className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",title:"Download file",children:h.jsx(b3,{className:"text-sm"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Symptoms"}),h.jsx(M,{items:R.symptoms,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Medicines"}),h.jsx(M,{items:R.medicines,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})]}),R.prescribedTests&&R.prescribedTests.length>0&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Prescribed Tests"}),h.jsx(M,{items:R.prescribedTests,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})]}),R.followUpNotes&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Follow-up Notes"}),h.jsx("p",{className:"text-sm text-secondary glass p-3 rounded-lg border soft-divider",children:R.followUpNotes})]})]})]})};return h.jsx("div",{className:"min-h-screen bg-background aurora-bg text-text px-3 sm:px-6 py-6",children:h.jsxs("div",{ref:R=>{R&&console.log("MedicalHistoryPage scroll position:",window.scrollY,document.documentElement.scrollTop)},children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[h.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 glass rounded-full px-3 py-1.5 text-sm text-secondary hover-glow-primary",children:[h.jsx(kP,{size:18}),h.jsx("span",{className:"font-medium",children:"Back"})]}),h.jsx("button",{onClick:N,disabled:i,className:"glass rounded-lg border soft-divider px-4 py-2 text-sm text-text hover-glow-primary disabled:opacity-50",title:"Refresh records",children:h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx(T3,{className:`${i?"animate-spin":""}`}),"Refresh"]})})]}),h.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text mb-4",children:"Your Complete Medical History"}),i&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Os,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),h.jsx("p",{className:"text-secondary",children:"Loading your medical records..."})]}),c&&!i&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Im,{className:"text-red-400 text-5xl mb-4 mx-auto"}),h.jsx("p",{className:"text-red-500 mb-2 text-lg",children:"Failed to load medical records"}),h.jsx("p",{className:"text-sm text-secondary mb-6",children:c}),h.jsx("button",{onClick:N,className:"glass-cta px-6 py-3",children:"Try Again"})]}),!i&&!c&&h.jsx(h.Fragment,{children:n.length>0?h.jsxs("div",{className:"space-y-4",children:[n.map(R=>h.jsx(I,{record:R},R.id)),y&&h.jsx("div",{className:"text-center pt-2",children:h.jsx("button",{onClick:C,disabled:b,className:"px-6 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:b?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx(Os,{className:"animate-spin"}),"Loading..."]}):"Load More Records"})}),h.jsx("div",{className:"text-center mt-4 pt-4 border-t soft-divider",children:h.jsxs("p",{className:"text-sm text-secondary",children:["Showing ",n.length," medical records",!y&&n.length>0&&" (all records loaded)"]})})]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(tc,{className:"text-secondary text-6xl mb-6 mx-auto"}),h.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"No Medical Records Found"}),h.jsx("p",{className:"text-secondary mb-6",children:"Your medical history will appear here once doctors add records to your profile."}),h.jsx("button",{onClick:N,className:"glass-cta px-6 py-3",children:"Check for New Records"})]})})]})})},qB=({records:t,loading:e,error:n,onRefresh:r})=>{const i=(t==null?void 0:t.slice(0,3))||[],o=(t==null?void 0:t.length)||0;return h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider flex flex-col gap-6 hover-glow-primary",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:h.jsx(tc,{className:"text-sm"})}),h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Medical History"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"glass px-3 py-1 rounded-full text-xs sm:text-sm text-secondary border soft-divider",children:[o," ",o===1?"record":"records"]}),r&&h.jsx("button",{onClick:r,disabled:e,className:"p-2 text-secondary hover:text-text transition-colors duration-200 disabled:opacity-50",title:"Refresh records",children:h.jsx(T3,{className:`text-sm ${e?"animate-spin":""}`})})]})]}),e&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),h.jsx("p",{className:"text-secondary",children:"Loading medical records..."})]}),n&&!e&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Im,{className:"text-red-400 text-4xl mb-4 mx-auto"}),h.jsx("p",{className:"text-red-500 mb-2",children:"Failed to load medical records"}),h.jsx("p",{className:"text-sm text-secondary mb-4",children:n}),r&&h.jsx("button",{onClick:r,className:"glass-cta px-4 py-2",children:"Try Again"})]}),!e&&!n&&h.jsxs(h.Fragment,{children:[i.length>0?h.jsx("div",{className:"space-y-3",children:i.map((c,d)=>h.jsxs("div",{className:"p-4 glass rounded-lg border soft-divider hover-glow-primary",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(sv,{className:"text-primary text-sm"}),h.jsx("h3",{className:"font-semibold text-text text-sm",children:c.diagnosis||"General Checkup"})]}),c.visitDate&&h.jsxs("span",{className:"text-xs text-secondary flex items-center gap-1",children:[h.jsx(Mx,{}),new Date(c.visitDate).toLocaleDateString()]}),c.createdAt&&h.jsxs("span",{className:"text-xs text-secondary flex items-center gap-1 mt-1",children:[h.jsx("span",{children:""}),"Added at ",new Date(c.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),c.doctor&&h.jsxs("p",{className:"text-sm text-secondary mb-2",children:[h.jsx("span",{className:"font-medium",children:"Doctor:"})," ",c.doctor.name]}),c.symptoms&&c.symptoms.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.symptoms.slice(0,3).map((f,m)=>h.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-secondary",children:f},m)),c.symptoms.length>3&&h.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-secondary",children:["+",c.symptoms.length-3," more"]})]})]},c.id||d))}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(tc,{className:"text-gray-400 text-4xl mb-4 mx-auto"}),h.jsx("p",{className:"text-secondary mb-2",children:"No medical records yet"}),h.jsx("p",{className:"text-sm text-secondary",children:"Your medical history will appear here"})]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t soft-divider",children:h.jsxs(lr,{to:"medical-history",className:"flex-1 glass-cta flex items-center justify-center gap-2 px-4 py-3",children:[h.jsx(tc,{className:"text-sm"}),h.jsx("span",{className:"font-medium",children:"View All Records"}),h.jsx(p3,{className:"text-sm"})]})}),h.jsx("div",{className:"pt-2",children:h.jsx("p",{className:"text-xs text-secondary text-center",children:"Keep your medical records updated and organized"})})]})]})},GB=()=>{const{user:t}=Bn(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[o,c]=E.useState(null),[d,f]=E.useState(null),[m,y]=E.useState(null),[x,b]=E.useState({doctorId:null,doctorName:""}),[w,S]=E.useState(!1),[C,N]=E.useState(!1),[M,I]=E.useState(null),[R,k]=E.useState(""),[F,W]=E.useState(""),{register:V,handleSubmit:j,reset:O,formState:{errors:U}}=L3();E.useEffect(()=>{t!=null&&t.uid&&B()},[t]);const B=async()=>{try{i(!0),c(null);const pe=await BB(t.uid);pe.success?n(pe.data):c(pe.error)}catch(pe){c("Failed to fetch shared profiles"),console.error("Error fetching shared profiles:",pe)}finally{i(!1)}},z=(pe,K)=>{b({doctorId:pe,doctorName:K})},L=async()=>{const{doctorId:pe,doctorName:K}=x;f(pe),b({doctorId:null,doctorName:""});try{const Z=await zB(t.uid,pe);Z.success?(n(re=>re.filter(ve=>ve.doctorId!==pe)),y({type:"success",message:`Successfully revoked ${K}'s access to your profile.`})):y({type:"error",message:Z.error||"Failed to revoke access"})}catch(Z){y({type:"error",message:"An unexpected error occurred"}),console.error("Error revoking access:",Z)}finally{f(null),setTimeout(()=>y(null),5e3)}},we=async pe=>{if(!t){k("You must be logged in to share your profile"),I("error");return}N(!0),I(null),k("");try{const K=pe.doctorId.toUpperCase(),Z=await FB(t.uid,K);Z.success?(W(Z.doctorName||""),I("success"),await B(),setTimeout(()=>{O(),S(!1),I(null),k(""),W("")},2e3)):(k(Z.error||"Failed to share profile"),I("error"))}catch(K){console.error("Error sharing profile:",K),k("An unexpected error occurred. Please try again."),I("error")}N(!1)};return r?h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:h.jsx(Ql,{className:"text-sm"})}),h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Shared with Doctors"})]}),h.jsxs("div",{className:"flex items-center justify-center py-8 text-secondary",children:[h.jsx(Os,{className:"animate-spin text-primary text-2xl"}),h.jsx("span",{className:"ml-3",children:"Loading shared profiles..."})]})]}):h.jsxs("div",{className:"glass rounded-2xl p-6 border soft-divider flex flex-col gap-6 hover-glow-primary",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:h.jsx(Ql,{className:"text-sm"})}),h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Shared with Doctors"}),h.jsxs("span",{className:"ml-2 flex items-center justify-center glass px-2 py-0.5 rounded-full text-xs font-semibold min-w-[38px] h-6 text-secondary border soft-divider whitespace-nowrap",children:[e.length," ",e.length===1?"doctor":"doctors"]})]}),h.jsxs("button",{onClick:()=>S(!w),className:"glass-cta flex items-center gap-2 px-4 py-2 text-sm font-medium w-full sm:w-auto justify-center",children:[h.jsx(tv,{}),"Share with Doctor"]})]}),h.jsx(rx,{children:w&&h.jsxs(Tt.form,{onSubmit:j(we),initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"p-4 glass rounded-lg border soft-divider space-y-3",children:[h.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Doctor's ID"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("input",{type:"text",placeholder:"e.g., DR-HALE-1234",...V("doctorId",{required:"Doctor ID is required",pattern:{value:/^DR-[BCDFGHJKLMNPQRSTVWXYZAEIOU]{4}-\d{4}$/i,message:"Invalid doctor ID format (DR-XXXX-1234)"}}),className:"w-full px-3 py-2 rounded-md glass border soft-divider text-text placeholder:text-secondary/70 text-sm uppercase focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",maxLength:12}),U.doctorId&&h.jsx("p",{className:"text-red-400 text-xs",children:U.doctorId.message}),h.jsx("p",{className:"text-secondary text-xs",children:"Format: DR-XXXX-1234"})]}),M==="error"&&h.jsx("div",{className:"text-red-400 text-xs glass border soft-divider p-2 rounded",children:R||"An error occurred. Please try again."}),M==="success"&&h.jsxs("div",{className:"text-green-400 text-xs glass border soft-divider p-2 rounded",children:["Profile shared successfully",F?` with Dr. ${F}!`:"!"]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[h.jsx("button",{type:"submit",disabled:C,className:"flex-1 glass-cta px-3 py-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Sharing...":"Share Profile"}),h.jsx("button",{type:"button",onClick:()=>{S(!1),I(null),k(""),O()},className:"px-4 py-2 glass rounded-md border soft-divider text-text hover-glow-primary text-sm font-medium",children:"Cancel"})]})]})}),m&&h.jsx("div",{className:`glass border soft-divider p-4 rounded-lg ${m.type==="success"?"text-green-400":"text-red-400"}`,children:h.jsxs("div",{className:"flex items-center gap-2",children:[m.type==="success"?h.jsx(v3,{}):h.jsx(Im,{}),h.jsx("span",{className:"text-text",children:m.message})]})}),o&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Im,{className:"text-red-500 text-3xl mb-3 mx-auto"}),h.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:o}),h.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}),!o&&e.length===0&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Ql,{className:"text-secondary text-4xl mb-4 mx-auto"}),h.jsx("p",{className:"text-secondary mb-2",children:"No doctors have access to your profile yet"}),h.jsx("p",{className:"text-sm text-secondary",children:"Share your profile with doctors to see them here"})]}),!o&&e.length>0&&h.jsx("div",{className:"space-y-4 md:max-h-96 md:overflow-y-auto",children:e.map(pe=>{var K;return h.jsx("div",{className:"p-4 glass rounded-lg border soft-divider hover-glow-primary",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Ql,{className:"text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-text",children:pe.doctorName||"Unknown Doctor"}),h.jsxs("p",{className:"text-sm text-secondary",children:["ID: ",pe.doctorIdCode]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-secondary",children:[h.jsx(Mx,{className:"text-secondary"}),h.jsxs("span",{children:["Shared on ",(K=pe.sharedAt)!=null&&K.toDate?pe.sharedAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date"]})]})]}),x.doctorId===pe.doctorId?h.jsx("div",{className:"sm:ml-4 w-full sm:w-auto flex flex-col sm:items-end gap-2",children:h.jsxs("div",{className:"p-3 glass rounded-lg border soft-divider w-full sm:w-auto",children:[h.jsxs("p",{className:"text-sm text-text mb-2",children:["Are you sure you want to revoke ",h.jsx("span",{className:"font-bold",children:pe.doctorName}),"'s access?"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:L,className:"px-3 py-1 rounded-lg glass-cta font-semibold text-sm",disabled:d===pe.doctorId,children:d===pe.doctorId?"Revoking...":"Confirm"}),h.jsx("button",{onClick:()=>b({doctorId:null,doctorName:""}),className:"px-3 py-1 rounded-lg glass border soft-divider text-text hover-glow-primary text-sm",disabled:d===pe.doctorId,children:"Cancel"})]})]})}):h.jsxs("button",{onClick:()=>z(pe.doctorId,pe.doctorName),disabled:d===pe.doctorId,className:"sm:ml-4 w-full sm:w-auto justify-center sm:justify-start mt-2 sm:mt-0 flex items-center gap-2 px-3 py-2 glass rounded-lg border soft-divider text-red-400 hover-glow-primary transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:[d===pe.doctorId?h.jsx(Os,{className:"animate-spin"}):h.jsx(MP,{}),d===pe.doctorId?"Revoking...":"Revoke Access"]})]})},pe.id)})}),e.length>0&&h.jsx("div",{className:"pt-4 border-t soft-divider",children:h.jsx("p",{className:"text-xs text-secondary text-center",children:"Revoked access cannot be restored. The doctor will need a new invitation to access your profile again."})})]})},KB=()=>{var m;Wr();const{user:t}=Bn(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[o,c]=E.useState(null);E.useEffect(()=>{t!=null&&t.uid&&d()},[t]);const d=async()=>{try{i(!0),c(null);const y=await yN(t.uid,null,20,!1);y.success?n(y.data||[]):(c(y.error||"Failed to fetch medical records"),n([]))}catch(y){console.error("Error fetching medical records:",y),c("Failed to load medical records"),n([])}finally{i(!1)}},f=()=>{const y=new Date().getHours();return y<12?"Good Morning":y<17?"Good Afternoon":"Good Evening"};return h.jsxs("div",{className:"min-h-screen bg-background aurora-bg",children:[h.jsx("div",{className:"relative bg-gradient-to-br from-primary/25 via-accent/20 to-transparent px-3 sm:px-6 pt-6 sm:pt-8 pb-4 sm:pb-6 border-b soft-divider",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[h.jsxs("div",{className:"flex items-start gap-4 sm:gap-5",children:[h.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl glass flex items-center justify-center shadow-lg",children:h.jsx(ks,{className:"text-primary text-xl sm:text-2xl"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-text leading-tight break-words",children:[f(),", ",h.jsx("span",{className:"text-primary",children:(t==null?void 0:t.displayName)||((m=t==null?void 0:t.email)==null?void 0:m.split("@")[0])||"User"})]}),h.jsx("div",{className:"mt-3 inline-flex items-center gap-2 glass rounded-full px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-secondary",children:"Your personalized health overview"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[h.jsxs("div",{className:"glass rounded-xl sm:rounded-2xl px-4 sm:px-5 py-2.5 sm:py-3 flex items-center gap-3 shadow-lg",children:[h.jsx(x3,{className:"text-primary shrink-0"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-secondary",children:"Today"}),h.jsx("div",{className:"text-xs sm:text-sm font-semibold text-text truncate",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),h.jsxs("button",{className:"relative rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-white shadow-xl bg-gradient-to-r from-accent to-accent/80 hover:from-accent/90 hover:to-accent/70 transition-all",children:[h.jsx(g3,{className:"text-base sm:text-lg"}),h.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-full bg-accent shadow"})]})]})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8",children:[h.jsxs("div",{className:"lg:col-span-8 space-y-6 sm:space-y-8 min-w-0",children:[h.jsx("div",{className:"min-w-0",children:h.jsx(HB,{})}),h.jsx("div",{className:"min-w-0",children:h.jsx(qB,{records:e,loading:r,error:o,onRefresh:d})})]}),h.jsxs("div",{className:"lg:col-span-4 space-y-6 sm:space-y-8 min-w-0",children:[h.jsx(GB,{}),h.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[h.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text mb-3",children:" Health Tip of the Day"}),h.jsx("p",{className:"text-sm text-secondary leading-relaxed",children:"Stay hydrated! Aim to drink at least 8 glasses of water throughout the day to maintain optimal health and energy levels."}),h.jsx("button",{className:"mt-3 text-sm text-primary hover:opacity-80 font-medium",children:"Learn more "})]})]})]})]})};function YB(){const t=Wr(),{signup:e,user:n,userRole:r,loading:i}=Bn();E.useEffect(()=>{!i&&n&&r&&t(r==="doctor"?"/doctor":"/user")},[n,r,i,t]);const[o,c]=E.useState({name:"",email:"",password:"",role:"user"}),[d,f]=E.useState(""),[m,y]=E.useState(!1),[x,b]=E.useState("weak");if(i)return h.jsxs(h.Fragment,{children:[h.jsx(zo,{}),h.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:h.jsx("div",{className:"text-center",children:h.jsx("div",{className:"text-primary",children:"Loading..."})})})]});const w=I=>{let R=0;return I.length>=6&&R++,/[A-Z]/.test(I)&&R++,/[0-9]/.test(I)&&R++,/[^A-Za-z0-9]/.test(I)&&R++,R>=4?"strong":R>=2?"moderate":"weak"},S=I=>{const R=I.target.value;c(k=>({...k,password:R})),b(w(R))},C=I=>{c({...o,[I.target.name]:I.target.value}),f("")},N=I=>{c(R=>({...R,role:I}))},M=async I=>{var R;if(I.preventDefault(),x==="weak"){f("Please choose a stronger password (include uppercase, numbers, symbols).");return}try{await e(o.name,o.email,o.password,o.role),o.role==="doctor"?t("/doctor"):t("/user/onboarding")}catch(k){console.error("Signup failed:",k.message),console.error("Full error:",k),k.code==="auth/email-already-in-use"?f("An account with this email already exists."):(R=k.code)!=null&&R.startsWith("firestore/")?f("Account created but profile setup failed. Please try logging in."):f("Signup failed. Please try again.")}};return h.jsxs(h.Fragment,{children:[h.jsx(zo,{}),h.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-secondary/10 via-background to-primary/10 flex",children:[h.jsxs(Tt.div,{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[h.jsx("div",{className:"absolute top-16 right-16 w-36 h-36 bg-secondary/20 rounded-full blur-xl"}),h.jsx("div",{className:"absolute bottom-16 left-16 w-44 h-44 bg-primary/20 rounded-full blur-xl"}),h.jsx("div",{className:"absolute top-1/3 right-1/4 w-28 h-28 bg-accent/20 rounded-full blur-lg"})]}),h.jsx("div",{className:"relative z-10 mb-8",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-52 h-52 bg-gradient-to-br from-secondary to-primary rounded-3xl flex items-center justify-center shadow-2xl transform -rotate-6",children:h.jsx("div",{className:"w-36 h-36 bg-white rounded-2xl flex items-center justify-center",children:h.jsx($E,{className:"text-7xl text-secondary"})})}),h.jsx(Tt.div,{className:"absolute -top-6 -left-6 w-18 h-18 bg-primary rounded-2xl flex items-center justify-center shadow-lg",animate:{x:[-3,3,-3]},transition:{duration:4,repeat:1/0},children:h.jsx(uc,{className:"text-2xl text-white"})}),h.jsx(Tt.div,{className:"absolute -bottom-6 -right-6 w-18 h-18 bg-accent rounded-2xl flex items-center justify-center shadow-lg",animate:{x:[3,-3,3]},transition:{duration:4,repeat:1/0,delay:1.5},children:h.jsx(kx,{className:"text-2xl text-white"})})]})}),h.jsxs("div",{className:"space-y-6 text-center max-w-md",children:[h.jsx("h1",{className:"text-4xl font-bold text-secondary mb-2",children:"Join HealSync"}),h.jsx("p",{className:"text-lg text-text/80 mb-8",children:"Start your journey to better healthcare management"})]})]}),h.jsx(Tt.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 ",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"lg:hidden text-center mb-8",children:[h.jsx(Tt.div,{className:"w-20 h-20 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:h.jsx($E,{className:"text-3xl text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-secondary",children:"HealSync"}),h.jsx("p",{className:"text-text/70",children:"Start creating your account"})]}),h.jsxs(Tt.form,{onSubmit:M,className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border border-accent-40 p-8 rounded-3xl shadow-2xl dark:shadow-white/5 space-y-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"text-3xl lg:text-3xl font-bold text-secondary",children:"Create Account"}),h.jsx("p",{className:"text-text/70 mt-2",children:"Choose your account type and get started"})]}),h.jsxs("div",{className:"flex gap-3 p-2 bg-gray-100/80 dark:bg-white/5 rounded-2xl backdrop-blur-sm",children:[h.jsxs("button",{type:"button",onClick:()=>N("user"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="user"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[h.jsx(A3,{className:"text-sm"}),h.jsx("span",{className:"text-sm",children:"User"})]}),h.jsxs("button",{type:"button",onClick:()=>N("doctor"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="doctor"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[h.jsx(Ql,{className:"text-sm"}),h.jsx("span",{className:"text-sm",children:"Doctor"})]})]}),d&&h.jsx(Tt.div,{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-text/80",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:h.jsx(ks,{className:"text-text drop-shadow-none"})}),h.jsx("input",{name:"name",type:"text",placeholder:"Enter your full name",required:!0,value:o.name,onChange:C,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-text/80",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:h.jsx(Px,{className:"text-text drop-shadow-none"})}),h.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0,value:o.email,onChange:C,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-text/80",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:h.jsx(E3,{className:"text-text drop-shadow-none"})}),h.jsx("input",{name:"password",type:m?"text":"password",placeholder:"Create a strong password",required:!0,value:o.password,onChange:S,className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"}),h.jsx("button",{type:"button",onClick:()=>y(I=>!I),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-secondary transition-colors",children:m?h.jsx(_3,{}):h.jsx(Rc,{})})]}),o.password&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-text/60",children:"Password Strength:"}),h.jsx("span",{className:`text-xs font-semibold ${x==="weak"?"text-red-500":x==="moderate"?"text-yellow-500":"text-green-500"}`,children:x.charAt(0).toUpperCase()+x.slice(1)})]}),h.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-500 ${x==="weak"?"bg-red-500 w-1/3":x==="moderate"?"bg-yellow-500 w-2/3":"bg-green-500 w-full"}`})})]})]}),h.jsxs(Tt.button,{type:"submit",className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Create ",o.role==="doctor"?"Doctor":"User"," Account"]}),h.jsx("div",{className:"text-center pt-4",children:h.jsxs("p",{className:"text-text/70",children:["Already have an account?"," ",h.jsx(lr,{to:"/login",className:"text-secondary font-semibold hover:underline transition-all",children:"Sign In"})]})})]})]})})]})]})}function WB(){const t=Wr(),{login:e,user:n,userRole:r,loading:i}=Bn();E.useEffect(()=>{!i&&n&&r&&t(r==="doctor"?"/doctor":"/user")},[n,r,i,t]);const[o,c]=E.useState({email:"",password:"",role:"user"}),[d,f]=E.useState(!1),[m,y]=E.useState("");if(i)return h.jsxs(h.Fragment,{children:[h.jsx(zo,{}),h.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:h.jsx("div",{className:"text-center",children:h.jsx("div",{className:"text-primary",children:"Loading..."})})})]});const x=S=>{c({...o,[S.target.name]:S.target.value}),y("")},b=S=>{c(C=>({...C,role:S}))},w=async S=>{S.preventDefault();try{const{user:C}=await e(o.email,o.password);console.log("Login successful:",C);const N=en(Rt,"users",C.uid),M=await Zn(N);if(M.exists()){const R=M.data().role;t(R==="doctor"?"/doctor":"/user")}else y("User profile not found. Please contact support.")}catch(C){y("Invalid email or password."),console.error("Login failed:",C.message)}};return h.jsxs(h.Fragment,{children:[h.jsx(zo,{}),h.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex",children:[h.jsxs(Tt.div,{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[h.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary/20 rounded-full blur-xl"}),h.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-secondary/20 rounded-full blur-xl"}),h.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-accent/20 rounded-full blur-lg"})]}),h.jsx("div",{className:"relative z-10 mb-8",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-primary to-secondary rounded-3xl flex items-center justify-center shadow-2xl transform rotate-6",children:h.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center",children:h.jsx(uc,{className:"text-6xl text-primary"})})}),h.jsx(Tt.div,{className:"absolute -top-4 -right-4 w-16 h-16 bg-accent rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[-5,5,-5]},transition:{duration:3,repeat:1/0},children:h.jsx(kx,{className:"text-2xl text-white"})}),h.jsx(Tt.div,{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-secondary rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[5,-5,5]},transition:{duration:3,repeat:1/0,delay:1},children:h.jsx(R3,{className:"text-2xl text-white"})})]})}),h.jsxs("div",{className:"space-y-6 text-center max-w-md",children:[h.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Welcome to HealSync"}),h.jsx("p",{className:"text-lg text-text/80 mb-8",children:"Your comprehensive healthcare management platform"})]})]}),h.jsx(Tt.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"lg:hidden text-center mb-8",children:[h.jsx(Tt.div,{className:"w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:h.jsx(uc,{className:"text-3xl text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"HealSync"}),h.jsx("p",{className:"text-text/70",children:"Welcome back to your account"})]}),h.jsxs(Tt.form,{onSubmit:w,className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border border-accent-40 p-8 rounded-3xl shadow-2xl dark:shadow-white/5 space-y-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"text-3xl lg:text-3xl font-bold text-primary",children:"Welcome Back"}),h.jsx("p",{className:"text-text/70 mt-2",children:"Choose your account type and login"})]}),h.jsxs("div",{className:"flex gap-3 p-2 bg-gray-100/80 dark:bg-white/5 rounded-2xl backdrop-blur-sm",children:[h.jsxs("button",{type:"button",onClick:()=>b("user"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="user"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[h.jsx(A3,{className:"text-sm"}),h.jsx("span",{className:"text-sm",children:"User"})]}),h.jsxs("button",{type:"button",onClick:()=>b("doctor"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${o.role==="doctor"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[h.jsx(Ql,{className:"text-sm"}),h.jsx("span",{className:"text-sm",children:"Doctor"})]})]}),m&&h.jsx(Tt.div,{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:m}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-text/80",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:h.jsx(Px,{className:"text-text drop-shadow-none"})}),h.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0,value:o.email,onChange:x,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-text/80",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:h.jsx(E3,{className:"text-text drop-shadow-none"})}),h.jsx("input",{name:"password",type:d?"text":"password",placeholder:"Enter your password",required:!0,value:o.password,onChange:x,className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"}),h.jsx("button",{type:"button",onClick:()=>f(S=>!S),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-primary transition-colors",children:d?h.jsx(_3,{}):h.jsx(Rc,{})})]})]}),h.jsxs(Tt.button,{type:"submit",className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Log In as ",o.role==="doctor"?"Doctor":"User"]}),h.jsx("div",{className:"text-center pt-4",children:h.jsxs("p",{className:"text-text/70",children:["Don't have an account?"," ",h.jsx(lr,{to:"/signup",className:"text-primary font-semibold hover:underline transition-all",children:"Create Account"})]})})]})]})})]})]})}function P4({children:t,requiredRole:e}){const{user:n,userRole:r,loading:i}=Bn();return i?h.jsx("div",{className:"text-center py-10",children:"Loading..."}):n?e&&r!==e?r==="doctor"?h.jsx(Lh,{to:"/doctor"}):r==="user"?h.jsx(Lh,{to:"/user"}):h.jsx(Lh,{to:"/"}):t:h.jsx(Lh,{to:"/login"})}function QB(){return h.jsxs("div",{children:[h.jsx(zo,{}),h.jsx(DS,{})," "]})}function XB(){return h.jsxs("div",{className:"p-4",children:[h.jsx(zo,{}),h.jsx(DS,{})," "]})}function ZB(){const{user:t}=Bn(),[e,n]=E.useState(null),[r,i]=E.useState(!0),[o,c]=E.useState(!1);E.useEffect(()=>{(async()=>{if(t)try{const y=en(Rt,"users",t.uid),x=await Zn(y);x.exists()&&x.data().doctorId&&n(x.data().doctorId)}catch(y){console.error("Error fetching doctor ID:",y)}finally{i(!1)}})()},[t]);const d=async()=>{if(e)try{await navigator.clipboard.writeText(e),c(!0),setTimeout(()=>c(!1),2e3)}catch(m){console.error("Failed to copy doctor ID:",m)}},f=async()=>{if(e)try{navigator.share?await navigator.share({title:"HealSync Doctor ID",text:`Here is my Doctor ID: ${e}
Use HealSync to share your records with me.`,url:window.location.origin}):await d()}catch{await d()}};return r?h.jsx("div",{className:"glass-elevated rounded-3xl p-6",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-5 bg-[rgba(var(--primary-rgb)/0.25)] rounded w-1/3 mb-3"}),h.jsx("div",{className:"h-10 bg-[rgba(var(--surface-rgb)/0.2)] rounded w-2/3"})]})}):e?h.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden hover-glow-primary",children:[h.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:h.jsx(CP,{})}),h.jsx("h3",{className:"text-lg font-semibold text-text",children:"Your Doctor ID"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:f,className:"inline-flex sm:hidden items-center justify-center w-9 h-9 rounded-full glass border soft-divider text-primary hover:brightness-110",title:"Share with Patients","aria-label":"Share with Patients",children:h.jsx(rv,{className:"text-sm"})}),h.jsx("span",{className:"hidden sm:inline-flex px-3 py-1.5 rounded-full text-xs text-primary bg-[rgba(var(--primary-rgb)/0.15)] border soft-divider",children:"Share with Patients"})]})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[h.jsxs("div",{className:"flex-1 rounded-2xl p-4 border soft-divider glass",children:[h.jsx("div",{className:"text-secondary text-xs mb-1",children:"Doctor ID"}),h.jsx("code",{className:"text-xl font-mono font-bold text-primary tracking-wider",children:e})]}),h.jsxs("button",{onClick:d,className:`glass-cta flex items-center gap-2 px-5 py-3 ${o?"brightness-110":""}`,title:"Copy Doctor ID",children:[o?h.jsx(TP,{className:"text-sm"}):h.jsx(AP,{className:"text-sm"}),o?"Copied!":"Copy"]})]}),h.jsxs("div",{className:"rounded-2xl p-5 border soft-divider glass",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-primary",children:[h.jsx(rv,{}),h.jsx("h4",{className:"font-medium",children:"How patients can share with you:"})]}),h.jsxs("ol",{className:"text-sm text-secondary space-y-2 ml-5 list-decimal",children:[h.jsxs("li",{children:["Ask your patients to use the ",h.jsx("span",{className:"text-primary font-medium",children:'"Share to Doctor"'})," button on their profile"]}),h.jsxs("li",{children:["They should enter your Doctor ID: ",h.jsx("code",{className:"px-2 py-0.5 rounded bg-[rgba(var(--primary-rgb)/0.15)] text-primary font-mono text-xs border soft-divider",children:e})]}),h.jsx("li",{children:"You'll receive instant access to their medical records and profile"})]})]})]})]}):h.jsxs("div",{className:"glass-elevated rounded-3xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Doctor ID Not Found"}),h.jsx("p",{className:"text-secondary text-sm",children:"Your doctor ID was not found. Please contact support if this issue persists."})]})}function JB(){const{user:t}=Bn(),e=Wr(),[n,r]=E.useState([]),[i,o]=E.useState(!0),[c,d]=E.useState(null);E.useEffect(()=>{t&&f()},[t]);const f=async()=>{try{o(!0);const x=await CB(t.uid);if(x.success){const b=await Promise.all(x.data.map(async w=>{try{const S=en(Rt,"users",w.patientId),C=await Zn(S),N=C.exists()?C.data().name:"Unknown Patient",M=C.exists()?C.data().email:"";return{...w,patientName:N,patientEmail:M}}catch(S){return console.error(`Error fetching patient data for ${w.patientId}:`,S),{...w,patientName:"Unknown Patient",patientEmail:""}}}));r(b)}else d(x.error)}catch(x){console.error("Error fetching shared profiles:",x),d("Failed to load shared profiles")}finally{o(!1)}},m=x=>{e(`/doctor/shared-profile/${x}`)},y=x=>{if(!x)return"Unknown";try{return(x.toDate?x.toDate():new Date(x)).toLocaleDateString()}catch{return"Unknown"}};return i?h.jsx("div",{className:"glass-elevated rounded-3xl p-8",children:h.jsxs("div",{className:"flex items-center justify-center py-8",children:[h.jsx(Os,{className:"animate-spin text-2xl text-primary mr-2"}),h.jsx("span",{className:"text-secondary",children:"Loading shared profiles..."})]})}):c?h.jsxs("div",{className:"glass-elevated rounded-3xl p-8",children:[h.jsx("h3",{className:"text-lg font-semibold text-text mb-2",children:"Error Loading Profiles"}),h.jsx("p",{className:"text-secondary text-sm",children:c})]}):n.length===0?h.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:h.jsx("h2",{className:"text-xl font-bold text-text",children:"Shared Patient Records"})}),h.jsxs("div",{className:"text-center py-12 px-6",children:[h.jsx(ks,{className:"text-4xl mx-auto mb-4 text-primary/70"}),h.jsx("p",{className:"text-lg text-text mb-2",children:"No patient records shared yet."}),h.jsx("p",{className:"text-sm text-secondary",children:"Share your Doctor ID with patients to receive their medical records."})]})]}):h.jsxs("div",{className:"glass-elevated rounded-3xl overflow-hidden hover-glow-primary",children:[h.jsx("div",{className:"p-6 border-b soft-divider bg-gradient-to-r from-primary/15 to-accent/15",children:h.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-text",children:["Shared Patient Records (",n.length,")"]})}),h.jsx("div",{className:"p-4 sm:p-6",children:h.jsx("div",{className:"space-y-3 sm:space-y-4",children:n.map(x=>h.jsx("div",{className:"glass rounded-xl sm:rounded-2xl p-4 sm:p-5 border soft-divider transition-all lift-on-hover hover-glow-primary",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-1.5 sm:mb-2 min-w-0",children:[h.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center shrink-0",children:h.jsx(ks,{})}),h.jsx("h3",{className:"font-semibold text-text truncate",children:x.patientName})]}),h.jsx("p",{className:"text-xs sm:text-sm text-secondary mb-1 truncate",children:x.patientEmail}),h.jsxs("div",{className:"flex items-center gap-2 text-[11px] sm:text-xs text-secondary",children:[h.jsx(y3,{}),h.jsxs("span",{children:["Shared on ",y(x.sharedAt)]})]})]}),h.jsxs("button",{onClick:()=>m(x.id),className:"glass-cta flex items-center justify-center gap-2 w-full sm:w-auto px-4 sm:px-5 py-2 sm:py-2.5",children:[h.jsx(Rc,{className:"text-sm"}),h.jsx("span",{className:"text-sm sm:text-base",children:"View Profile"})]})]})},x.id))})})]})}function ez(){var n;const{user:t}=Bn(),e=()=>{const r=new Date().getHours();return r<12?"Good Morning":r<17?"Good Afternoon":"Good Evening"};return h.jsxs("div",{className:"min-h-screen bg-background aurora-bg",children:[h.jsx("div",{className:"relative bg-gradient-to-br from-primary/25 via-accent/20 to-transparent px-3 sm:px-6 pt-6 sm:pt-8 pb-4 sm:pb-6 border-b soft-divider",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[h.jsxs("div",{className:"flex items-start gap-4 sm:gap-5",children:[h.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl glass flex items-center justify-center shadow-lg",children:h.jsx(sv,{className:"text-primary text-xl sm:text-2xl"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-text leading-tight break-words",children:[e(),", ",h.jsxs("span",{className:"text-primary",children:["Dr. ",(t==null?void 0:t.displayName)||((n=t==null?void 0:t.email)==null?void 0:n.split("@")[0])||"Doctor"]})]}),h.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 glass rounded-full px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-secondary",children:[h.jsx(uc,{className:"text-accent"}),"Manage patient care with precision"]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[h.jsxs("div",{className:"glass rounded-xl sm:rounded-2xl px-4 sm:px-5 py-2.5 sm:py-3 flex items-center gap-3 shadow-lg",children:[h.jsx(x3,{className:"text-primary shrink-0"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-secondary",children:"Today"}),h.jsx("div",{className:"text-xs sm:text-sm font-semibold text-text truncate",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),h.jsxs("button",{className:"relative rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-white shadow-xl bg-gradient-to-r from-accent to-accent/80 hover:from-accent/90 hover:to-accent/70 transition-all",children:[h.jsx(g3,{className:"text-base sm:text-lg"}),h.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-full bg-accent shadow"})]})]})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 sm:py-8 grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8",children:[h.jsxs("div",{className:"lg:col-span-8 space-y-6 sm:space-y-8",children:[h.jsxs("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl p-4 sm:p-6 hover-glow-primary",children:[h.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-text mb-4 sm:mb-6 flex items-center gap-3",children:[h.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-gradient-to-r from-primary to-accent text-white flex items-center justify-center",children:h.jsx(EP,{className:"text-xs sm:text-sm"})}),"Quick Actions"]}),h.jsxs("div",{className:"flex md:grid md:grid-cols-3 gap-3 sm:gap-4 overflow-x-auto md:overflow-visible snap-x snap-mandatory pb-2 -mx-1 px-1",children:[h.jsxs("button",{className:"group glass rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-primary transition-all border soft-divider snap-start min-w-[240px] md:min-w-0",children:[h.jsx(R3,{className:"text-primary text-xl sm:text-2xl mb-2"}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"View All Patients"}),h.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Manage patient records"})]})]}),h.jsxs("button",{className:"group rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-accent transition-all border soft-divider bg-gradient-to-br from-accent/25 to-accent/10 snap-start min-w-[240px] md:min-w-0",children:[h.jsx(uc,{className:"text-accent text-xl sm:text-2xl mb-2"}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"Schedule Appointment"}),h.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Book new consultations"})]})]}),h.jsxs("button",{className:"group glass rounded-xl sm:rounded-2xl p-4 sm:p-6 lift-on-hover hover-glow-primary transition-all border soft-divider snap-start min-w-[240px] md:min-w-0",children:[h.jsx(sv,{className:"text-secondary text-xl sm:text-2xl mb-2"}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-semibold text-text text-base sm:text-[1.05rem]",children:"Medical Reports"}),h.jsx("div",{className:"text-secondary text-xs sm:text-sm mt-1",children:"Generate & view reports"})]})]})]})]}),h.jsx("div",{className:"min-w-0",children:h.jsx(JB,{})})]}),h.jsx("div",{className:"lg:col-span-4 space-y-6 sm:space-y-8 min-w-0",children:h.jsx(ZB,{})})]})]})}function vN(t){return De({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.02 5.364a3 3 0 0 0-4.242-4.243L1.121 6.778a3 3 0 1 0 4.243 4.243l5.657-5.657Zm-6.413-.657 2.878-2.879a2 2 0 1 1 2.829 2.829L7.435 7.536zM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8m-.5 1.042a3 3 0 0 0 0 5.917zm1 5.917a3 3 0 0 0 0-5.917z"},child:[]}]})(t)}function L1(t){return De({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 0A5.5 5.5 0 0 0 3 5.5v7.047a3.453 3.453 0 0 0 6.687 1.212l.51-1.363a4.6 4.6 0 0 1 .67-1.197l2.008-2.581A5.34 5.34 0 0 0 8.66 0zM7 5.5v2.695q.168-.09.332-.192c.327-.208.577-.44.72-.727a.5.5 0 1 1 .895.448c-.256.513-.673.865-1.079 1.123A9 9 0 0 1 7 9.313V11.5a.5.5 0 0 1-1 0v-6a2.5 2.5 0 0 1 5 0V6a.5.5 0 0 1-1 0v-.5a1.5 1.5 0 1 0-3 0"},child:[]}]})(t)}function Bd(t){return De({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"},child:[]},{tag:"path",attr:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"},child:[]}]})(t)}function xN(t){return De({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"},child:[]}]})(t)}function tz(){var Kt,Jn,cr,wr,ur,Qr,ni,bn,Ya,Xr,q,ee,ie,_e,ge,me,be,Re,Ge,ct,Er,zn,Tr,er,tr,In,Sr,Ar,Zr,$i,qi,Rr,Cr,Gi;const{shareId:t}=UI(),e=Wr(),{user:n}=Bn(),[r,i]=E.useState(null),[o,c]=E.useState(null),[d,f]=E.useState({name:"",email:""}),[m,y]=E.useState(!0),[x,b]=E.useState(null),[w,S]=E.useState("profile"),[C,N]=E.useState([]),[M,I]=E.useState(!1),[R,k]=E.useState(null),[F,W]=E.useState({hasMore:!1,lastDoc:null,currentPageSize:0,requestedPageSize:20}),[V,j]=E.useState(!1),[O,U]=E.useState(!1),[B,z]=E.useState(""),[L,we]=E.useState(null),[pe,K]=E.useState(!1),[Z,re]=E.useState(null);E.useEffect(()=>{if(!L)return;const xe=setTimeout(()=>we(null),5e3);return()=>clearTimeout(xe)},[L]),E.useEffect(()=>{n&&He()},[n,t,He]),E.useEffect(()=>{r&&w==="medical-records"&&ve()},[r,w,ve]);const ve=E.useCallback(async(xe=!1)=>{if(r)try{I(!0),k(null);const ze=xe?F.lastDoc:null,dt=await jB(n.uid,r.patientId,ze,20);dt.success?(N(xe?lt=>[...lt,...dt.data]:dt.data),W(dt.pagination)):k(dt.error)}catch(ze){console.error("Error fetching medical records:",ze),k("Failed to load medical records.")}finally{I(!1)}},[r,n.uid,F.lastDoc]),H=async xe=>{if(r){z("");try{U(!0);const ze=await IB(n.uid,r.patientId,xe);ze.success?(j(!1),ve(),we({type:"success",message:"Medical record added successfully"})):z(ze.error||"Failed to add medical record")}catch(ze){console.error("Error adding medical record:",ze),z("Failed to add medical record. Please try again.")}finally{U(!1)}}},le=async xe=>{if(Z){z("");try{U(!0);const ze=await DB(String(Z.id),n.uid,xe);ze.success?(K(!1),re(null),ve(),we({type:"success",message:"Medical record updated successfully"})):z(ze.error||"Failed to update medical record")}catch(ze){console.error("Error updating medical record:",ze),z("Failed to update medical record. Please try again.")}finally{U(!1)}}},he=({toast:xe})=>xe?Gr.createPortal(h.jsx("div",{className:"fixed top-20 right-4 z-[9999] pointer-events-none",children:h.jsxs("div",{role:"alert",className:`pointer-events-auto glass-elevated border soft-divider rounded-xl px-5 py-4 text-sm sm:text-base font-semibold shadow-xl flex items-start gap-3 ${xe.type==="success"?"text-green-400":"text-red-400"}`,children:[xe.type==="success"?h.jsx(v3,{className:"mt-0.5 shrink-0"}):h.jsx(RP,{className:"mt-0.5 shrink-0"}),h.jsx("span",{className:"text-text",children:xe.message})]})}),document.body):null,fe=()=>{const[xe,ze]=E.useState({visitDate:new Date().toISOString().split("T")[0],diagnosis:"",symptoms:"",medicines:"",prescribedTests:"",followUpNotes:""}),dt=lt=>{lt.preventDefault();const yt={...xe,symptoms:xe.symptoms.split(",").map(tn=>tn.trim()).filter(tn=>tn),medicines:xe.medicines.split(",").map(tn=>tn.trim()).filter(tn=>tn),prescribedTests:xe.prescribedTests.split(",").map(tn=>tn.trim()).filter(tn=>tn)};H(yt)};return E.useEffect(()=>{if(!V)return;const lt=yt=>{yt.key==="Escape"&&j(!1)};return window.addEventListener("keydown",lt),()=>window.removeEventListener("keydown",lt)},[]),V?h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm p-4 sm:p-6 flex items-center justify-center",onClick:()=>j(!1),children:h.jsx("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border soft-divider",onClick:lt=>lt.stopPropagation(),children:h.jsxs("div",{className:"p-4 sm:p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Add Medical Record"}),h.jsx("button",{onClick:()=>j(!1),className:"w-9 h-9 rounded-lg glass border soft-divider text-secondary hover-glow-primary flex items-center justify-center","aria-label":"Close",children:h.jsx(qE,{className:"text-sm"})})]}),B&&h.jsx("div",{className:"mb-3 sm:mb-4 glass border soft-divider rounded-lg p-3 text-red-400 bg-red-500/10",children:B}),h.jsxs("form",{onSubmit:dt,className:"space-y-3 sm:space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Visit Date"}),h.jsx("input",{type:"date",value:xe.visitDate,onChange:lt=>{ze(yt=>({...yt,visitDate:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Diagnosis"}),h.jsx("input",{type:"text",value:xe.diagnosis,onChange:lt=>{ze(yt=>({...yt,diagnosis:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",placeholder:"Enter diagnosis",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Symptoms (comma-separated)"}),h.jsx("textarea",{value:xe.symptoms,onChange:lt=>{ze(yt=>({...yt,symptoms:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Headache, Nausea, Fever"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Medicines (comma-separated)"}),h.jsx("textarea",{value:xe.medicines,onChange:lt=>{ze(yt=>({...yt,medicines:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Paracetamol 500mg, Ibuprofen 200mg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Prescribed Tests (comma-separated)"}),h.jsx("textarea",{value:xe.prescribedTests,onChange:lt=>{ze(yt=>({...yt,prescribedTests:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Blood Test, X-Ray, MRI"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Follow-up Notes"}),h.jsx("textarea",{value:xe.followUpNotes,onChange:lt=>{ze(yt=>({...yt,followUpNotes:lt.target.value})),z("")},className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"3",placeholder:"Any additional notes or follow-up instructions"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2 sm:pt-4",children:[h.jsx("button",{type:"submit",disabled:O,className:"flex-1 glass-cta px-4 py-2 flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:O?h.jsxs(h.Fragment,{children:[h.jsx(Os,{className:"animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(nv,{}),"Save Record"]})}),h.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary",children:"Cancel"})]})]})]})})}):null},Ie=()=>{var lt,yt,tn;const[xe,ze]=E.useState({visitDate:Z!=null&&Z.visitDate?new Date(Z.visitDate).toISOString().split("T")[0]:"",diagnosis:(Z==null?void 0:Z.diagnosis)||"",symptoms:((lt=Z==null?void 0:Z.symptoms)==null?void 0:lt.join(", "))||"",medicines:((yt=Z==null?void 0:Z.medicines)==null?void 0:yt.join(", "))||"",prescribedTests:((tn=Z==null?void 0:Z.prescribedTests)==null?void 0:tn.join(", "))||"",followUpNotes:(Z==null?void 0:Z.followUpNotes)||""});E.useEffect(()=>{var Ke,et,rt;Z&&ze({visitDate:Z.visitDate?new Date(Z.visitDate).toISOString().split("T")[0]:"",diagnosis:Z.diagnosis||"",symptoms:((Ke=Z.symptoms)==null?void 0:Ke.join(", "))||"",medicines:((et=Z.medicines)==null?void 0:et.join(", "))||"",prescribedTests:((rt=Z.prescribedTests)==null?void 0:rt.join(", "))||"",followUpNotes:Z.followUpNotes||""})},[]);const dt=Ke=>{Ke.preventDefault();const et={...xe,symptoms:xe.symptoms.split(",").map(rt=>rt.trim()).filter(rt=>rt),medicines:xe.medicines.split(",").map(rt=>rt.trim()).filter(rt=>rt),prescribedTests:xe.prescribedTests.split(",").map(rt=>rt.trim()).filter(rt=>rt)};le(et)};return pe?h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm p-4 sm:p-6 flex items-center justify-center",onClick:()=>K(!1),children:h.jsx("div",{className:"glass-elevated rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border soft-divider",onClick:Ke=>Ke.stopPropagation(),children:h.jsxs("div",{className:"p-4 sm:p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Edit Medical Record"}),h.jsx("button",{onClick:()=>{K(!1),re(null)},className:"w-9 h-9 rounded-lg glass border soft-divider text-secondary hover-glow-primary flex items-center justify-center","aria-label":"Close",children:h.jsx(qE,{className:"text-sm"})})]}),B&&h.jsx("div",{className:"mb-3 sm:mb-4 glass border soft-divider rounded-lg p-3 text-red-400 bg-red-500/10",children:B}),h.jsxs("form",{onSubmit:dt,className:"space-y-3 sm:space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Visit Date"}),h.jsx("input",{type:"date",value:xe.visitDate,onChange:Ke=>ze(et=>({...et,visitDate:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Diagnosis"}),h.jsx("input",{type:"text",value:xe.diagnosis,onChange:Ke=>ze(et=>({...et,diagnosis:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",placeholder:"Enter diagnosis",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Symptoms (comma-separated)"}),h.jsx("textarea",{value:xe.symptoms,onChange:Ke=>ze(et=>({...et,symptoms:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Headache, Nausea, Fever"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Medicines (comma-separated)"}),h.jsx("textarea",{value:xe.medicines,onChange:Ke=>ze(et=>({...et,medicines:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Paracetamol 500mg, Ibuprofen 200mg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Prescribed Tests (comma-separated)"}),h.jsx("textarea",{value:xe.prescribedTests,onChange:Ke=>ze(et=>({...et,prescribedTests:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"2",placeholder:"e.g., Blood Test, X-Ray, MRI"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs sm:text-sm font-medium text-secondary mb-1.5",children:"Follow-up Notes"}),h.jsx("textarea",{value:xe.followUpNotes,onChange:Ke=>ze(et=>({...et,followUpNotes:Ke.target.value})),className:"w-full px-3 py-2 rounded-lg glass border soft-divider text-text placeholder:text-secondary/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent",rows:"3",placeholder:"Any additional notes or follow-up instructions"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2 sm:pt-4",children:[h.jsx("button",{type:"submit",disabled:O,className:"flex-1 glass-cta px-4 py-2 flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:O?h.jsxs(h.Fragment,{children:[h.jsx(Os,{className:"animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(nv,{}),"Update Record"]})}),h.jsx("button",{type:"button",onClick:()=>{K(!1),re(null)},className:"px-4 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary",children:"Cancel"})]})]})]})})}):null},He=E.useCallback(async()=>{try{y(!0);const xe=await AB(t,n.uid);if(!xe.success){b(xe.error);return}i(xe.data);const ze=await RB(xe.data.patientId);ze.success&&f(ze.data);const dt=await NB(xe.data.patientId);if(!dt.success){b(dt.error);return}c(dt.data)}catch(xe){console.error("Error fetching shared profile:",xe),b("Failed to load patient profile. Please try again.")}finally{y(!1)}},[t,n.uid]),Ce=({title:xe,children:ze,className:dt=""})=>h.jsxs("div",{className:`glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary ${dt}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-9 h-9 rounded-lg bg-[rgba(var(--primary-rgb)/0.15)] text-primary flex items-center justify-center",children:h.jsx(Icon,{className:"text-base"})}),h.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text",children:xe})]}),ze]}),Ee=({label:xe,value:ze,icon:dt})=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border soft-divider glass",children:[h.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[dt&&h.jsx(dt,{className:"text-primary text-sm shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-text truncate",children:xe})]}),h.jsx("span",{className:"text-sm text-secondary font-medium max-w-[60%] text-right truncate",children:ze||"Not specified"})]}),Me=({items:xe,colorClass:ze="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"})=>h.jsx("div",{className:"flex flex-wrap gap-2",children:xe&&xe.length>0?xe.map((dt,lt)=>h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ze}`,children:dt},lt)):h.jsx("span",{className:"text-sm text-gray-500 italic",children:"None specified"})}),jt=({record:xe})=>{const ze=()=>{if(!xe.createdAt)return!1;const dt=xe.createdAt.toDate();return(new Date().getTime()-dt.getTime())/(1e3*60)<30};return h.jsxs("div",{className:"glass rounded-2xl p-5 sm:p-6 border soft-divider hover-glow-primary",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-base sm:text-lg font-semibold text-text",children:xe.diagnosis||"Medical Record"}),h.jsxs("p",{className:"text-xs sm:text-sm text-secondary",children:[xe.visitDate?new Date(xe.visitDate).toLocaleDateString():"No date specified",xe.createdAt?` at ${new Date(xe.createdAt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""," "," ",xe.doctorName||"Unknown Doctor"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[ze()&&h.jsx("button",{onClick:()=>{re(xe),K(!0)},className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:h.jsx(Nm,{className:"text-sm"})}),xe.fileName&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:h.jsx(Rc,{className:"text-sm"})}),h.jsx("button",{className:"p-2 text-primary hover:bg-white/10 rounded-lg transition-colors",children:h.jsx(b3,{className:"text-sm"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Symptoms"}),h.jsx(Me,{items:xe.symptoms,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Medicines"}),h.jsx(Me,{items:xe.medicines,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})]}),xe.prescribedTests&&xe.prescribedTests.length>0&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Prescribed Tests"}),h.jsx(Me,{items:xe.prescribedTests,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})]}),xe.followUpNotes&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-sm font-medium text-text mb-2",children:"Follow-up Notes"}),h.jsx("p",{className:"text-sm text-secondary glass p-3 rounded-lg border soft-divider",children:xe.followUpNotes})]})]})]})};return m?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Os,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading patient profile..."})]})}):x?h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-8 max-w-md w-full text-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:x}),h.jsx("button",{onClick:()=>e("/doctor"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90",children:"Back to Dashboard"})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-6 space-y-6 aurora-bg",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 glass rounded-full px-3 py-1.5 text-sm text-secondary hover-glow-primary",children:[h.jsx(m3,{}),h.jsx("span",{className:"font-medium",children:"Back to Patient List"})]}),h.jsx("div",{className:"text-right",children:h.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs glass border soft-divider text-secondary",children:["Shared on ",((cr=(Jn=(Kt=r==null?void 0:r.sharedAt)==null?void 0:Kt.toDate)==null?void 0:Jn.call(Kt))==null?void 0:cr.toLocaleDateString())||"Unknown"]})})]}),h.jsx("div",{className:"glass-elevated rounded-3xl p-5 sm:p-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-gradient-to-br from-primary to-accent text-white flex items-center justify-center shadow-lg",children:h.jsx(ks,{className:"text-xl sm:text-2xl"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-text truncate",children:d.name||"Patient Name"}),h.jsxs("p",{className:"text-secondary flex items-center gap-2 text-sm truncate",children:[h.jsx(Px,{className:"text-xs"}),h.jsx("span",{className:"truncate",children:d.email||"No email provided"})]})]})]})}),h.jsxs("div",{className:"glass rounded-xl p-1 border soft-divider flex gap-1",children:[h.jsxs("button",{onClick:()=>S("profile"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 px-2.5 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ${w==="profile"?"bg-[rgba(var(--primary-rgb)/0.15)] text-primary":"text-secondary hover:text-text"}`,children:[h.jsx(ks,{className:"text-xs sm:text-sm"}),"Profile Information"]}),h.jsxs("button",{onClick:()=>S("medical-records"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 px-2.5 sm:px-4 rounded-lg font-medium transition-colors text-xs sm:text-sm ${w==="medical-records"?"bg-[rgba(var(--primary-rgb)/0.15)] text-primary":"text-secondary hover:text-text"}`,children:[h.jsx(tc,{className:"text-xs sm:text-sm"}),"Medical Records"]})]}),w==="profile"&&o&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[h.jsx(Ce,{title:"Basic Information",icon:ks,children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ee,{label:"Full Name",value:(wr=o.basic)==null?void 0:wr.fullName,icon:ks}),h.jsx(Ee,{label:"Gender",value:(ur=o.basic)==null?void 0:ur.gender}),h.jsx(Ee,{label:"Date of Birth",value:(Qr=o.basic)!=null&&Qr.dob?new Date(o.basic.dob).toLocaleDateString():null,icon:y3}),h.jsx(Ee,{label:"Contact Number",value:(ni=o.basic)==null?void 0:ni.contactNumber,icon:a0})]})}),h.jsx(Ce,{title:"Physical Details",icon:ep,children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ee,{label:"Height",value:(bn=o.basic)!=null&&bn.height?`${o.basic.height.value} ${o.basic.height.unit}`:null,icon:ep}),h.jsx(Ee,{label:"Weight",value:(Ya=o.basic)!=null&&Ya.weight?`${o.basic.weight.value} ${o.basic.weight.unit}`:null,icon:Vx}),h.jsx(Ee,{label:"Blood Group",value:(Xr=o.basic)==null?void 0:Xr.bloodGroup,icon:Ox})]})}),h.jsx(Ce,{title:"Emergency Contact",icon:a0,children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ee,{label:"Name",value:(ee=(q=o.basic)==null?void 0:q.emergencyContact)==null?void 0:ee.name,icon:ks}),h.jsx(Ee,{label:"Phone",value:(_e=(ie=o.basic)==null?void 0:ie.emergencyContact)==null?void 0:_e.number,icon:a0}),h.jsx(Ee,{label:"Relation",value:(me=(ge=o.basic)==null?void 0:ge.emergencyContact)==null?void 0:me.relation})]})}),h.jsx(Ce,{title:"Chronic Conditions",icon:w3,children:h.jsx(Me,{items:(be=o.medical)==null?void 0:be.chronicConditions,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})}),h.jsx(Ce,{title:"Allergies",icon:xN,children:h.jsx(Me,{items:(Re=o.medical)==null?void 0:Re.allergies,colorClass:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"})}),h.jsx(Ce,{title:"Current Medications",icon:vN,children:h.jsx(Me,{items:(Ge=o.medical)==null?void 0:Ge.currentMedications,colorClass:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"})}),h.jsx(Ce,{title:"Disabilities",icon:N3,children:h.jsx(Me,{items:(ct=o.medical)==null?void 0:ct.disabilities,colorClass:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"})}),h.jsx(Ce,{title:"Vision & Hearing",icon:Bd,children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(Bd,{className:"text-primary"}),"Wears Glasses"]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(zn=(Er=o.medical)==null?void 0:Er.vision)!=null&&zn.wearsGlasses?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(er=(Tr=o.medical)==null?void 0:Tr.vision)!=null&&er.wearsGlasses?"Yes":"No"})]}),((In=(tr=o.medical)==null?void 0:tr.vision)==null?void 0:In.wearsGlasses)&&h.jsxs(h.Fragment,{children:[h.jsx(Ee,{label:"Left Eye",value:(Ar=(Sr=o.medical)==null?void 0:Sr.vision)==null?void 0:Ar.leftEye}),h.jsx(Ee,{label:"Right Eye",value:($i=(Zr=o.medical)==null?void 0:Zr.vision)==null?void 0:$i.rightEye})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(L1,{className:"text-primary"}),"Uses Hearing Aids"]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(qi=o.medical)!=null&&qi.hearingAids?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(Rr=o.medical)!=null&&Rr.hearingAids?"Yes":"No"})]})]})}),h.jsx(Ce,{title:"Lifestyle Habits",icon:S3,children:h.jsx(Me,{items:(Cr=o.lifestyle)==null?void 0:Cr.habits,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})}),h.jsx(Ce,{title:"Dietary Preferences",icon:C3,children:h.jsx(Me,{items:(Gi=o.lifestyle)==null?void 0:Gi.preferences,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})})]}),w==="medical-records"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-bold text-text",children:"Medical Records"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-xs sm:text-sm text-secondary",children:[C.length," record(s) found"]}),h.jsxs("button",{onClick:()=>j(!0),className:"glass-cta px-4 py-2 flex items-center gap-2",children:[h.jsx(tv,{className:"text-sm"}),h.jsx("span",{className:"text-sm",children:"Add Medical Record"})]})]})]}),R&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[h.jsx("p",{className:"text-red-600 dark:text-red-300",children:R}),h.jsx("button",{onClick:()=>ve(),className:"mt-2 text-sm text-red-700 dark:text-red-400 hover:underline",children:"Try again"})]}),M&&C.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Os,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading medical records..."})]}):C.length>0?h.jsxs("div",{className:"space-y-4",children:[C.map((xe,ze)=>h.jsx(jt,{record:xe},xe.id||ze)),F.hasMore&&h.jsx("div",{className:"text-center py-4",children:h.jsx("button",{onClick:()=>ve(!0),disabled:M,className:"px-6 py-2 glass rounded-lg border soft-divider text-text hover-glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:M?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Os,{className:"animate-spin"}),"Loading..."]}):"Load More Records"})})]}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(tc,{className:"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Medical Records"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No medical records found for this patient."}),h.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:opacity-90 transition-opacity mx-auto",children:[h.jsx(tv,{className:"text-sm"}),"Add First Medical Record"]})]})]}),!o&&!m&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ks,{className:"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Profile Data"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This patient hasn't completed their profile yet."})]})]}),h.jsx(fe,{}),h.jsx(Ie,{}),h.jsx(he,{toast:L})]})}const bN=typeof document<"u"?Oe.useLayoutEffect:()=>{};var b0;const nz=(b0=Oe.useInsertionEffect)!==null&&b0!==void 0?b0:bN;function rz(t){const e=E.useRef(null);return nz(()=>{e.current=t},[t]),E.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Ka=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Mo=t=>t&&"window"in t&&t.window===t?t:Ka(t).defaultView||window;function sz(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function iz(t){return sz(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let az=!1;function U1(){return az}function _N(t,e){if(!U1())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:iz(n)?n=n.host:n=n.parentNode}return!1}const jv=(t=document)=>{var e;if(!U1())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function wN(t){return U1()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function oz(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function lz(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function EN(t){let e=null;return()=>(e==null&&(e=t()),e)}const cz=EN(function(){return lz(/^Mac/i)}),uz=EN(function(){return oz(/Android/i)});function TN(){let t=E.useRef(new Map),e=E.useCallback((i,o,c,d)=>{let f=d!=null&&d.once?(...m)=>{t.current.delete(c),c(...m)}:c;t.current.set(c,{type:o,eventTarget:i,fn:f,options:d}),i.addEventListener(o,f,d)},[]),n=E.useCallback((i,o,c,d)=>{var f;let m=((f=t.current.get(c))===null||f===void 0?void 0:f.fn)||c;i.removeEventListener(o,m,d),t.current.delete(c)},[]),r=E.useCallback(()=>{t.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return E.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function dz(t){return t.mozInputSource===0&&t.isTrusted?!0:uz()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function SN(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function fz(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function AN(t){let e=E.useRef({isFocused:!1,observer:null});bN(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=rz(r=>{t==null||t(r)});return E.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,o=c=>{if(e.current.isFocused=!1,i.disabled){let d=SN(c);n(d)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let d=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:d})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:d}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let hz=!1,ff=null,Mv=new Set,xd=new Map,Ho=!1,Pv=!1;const mz={Tab:!0,Escape:!0};function F1(t,e){for(let n of Mv)n(t,e)}function pz(t){return!(t.metaKey||!cz()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function tp(t){Ho=!0,pz(t)&&(ff="keyboard",F1("keyboard",t))}function ac(t){ff="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Ho=!0,F1("pointer",t))}function RN(t){dz(t)&&(Ho=!0,ff="virtual")}function CN(t){t.target===window||t.target===document||hz||!t.isTrusted||(!Ho&&!Pv&&(ff="virtual",F1("virtual",t)),Ho=!1,Pv=!1)}function NN(){Ho=!1,Pv=!0}function kv(t){if(typeof window>"u"||typeof document>"u"||xd.get(Mo(t)))return;const e=Mo(t),n=Ka(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ho=!0,r.apply(this,arguments)},n.addEventListener("keydown",tp,!0),n.addEventListener("keyup",tp,!0),n.addEventListener("click",RN,!0),e.addEventListener("focus",CN,!0),e.addEventListener("blur",NN,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",ac,!0),n.addEventListener("pointermove",ac,!0),n.addEventListener("pointerup",ac,!0)),e.addEventListener("beforeunload",()=>{IN(t)},{once:!0}),xd.set(e,{focus:r})}const IN=(t,e)=>{const n=Mo(t),r=Ka(t);e&&r.removeEventListener("DOMContentLoaded",e),xd.has(n)&&(n.HTMLElement.prototype.focus=xd.get(n).focus,r.removeEventListener("keydown",tp,!0),r.removeEventListener("keyup",tp,!0),r.removeEventListener("click",RN,!0),n.removeEventListener("focus",CN,!0),n.removeEventListener("blur",NN,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",ac,!0),r.removeEventListener("pointermove",ac,!0),r.removeEventListener("pointerup",ac,!0)),xd.delete(n))};function gz(t){const e=Ka(t);let n;return e.readyState!=="loading"?kv(t):(n=()=>{kv(t)},e.addEventListener("DOMContentLoaded",n)),()=>IN(t,n)}typeof document<"u"&&gz();function DN(){return ff!=="pointer"}const yz=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vz(t,e,n){let r=Ka(n==null?void 0:n.target);const i=typeof window<"u"?Mo(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Mo(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Mo(n==null?void 0:n.target).HTMLElement:HTMLElement,d=typeof window<"u"?Mo(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!yz.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof c&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof d&&!mz[n.key])}function xz(t,e,n){kv(),E.useEffect(()=>{let r=(i,o)=>{vz(!!(n!=null&&n.isTextInput),i,o)&&t(DN())};return Mv.add(r),()=>{Mv.delete(r)}},e)}function bz(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const o=E.useCallback(f=>{if(f.target===f.currentTarget)return r&&r(f),i&&i(!1),!0},[r,i]),c=AN(o),d=E.useCallback(f=>{const m=Ka(f.target),y=m?jv(m):jv();f.target===f.currentTarget&&y===wN(f.nativeEvent)&&(n&&n(f),i&&i(!0),c(f))},[i,n,c]);return{focusProps:{onFocus:!e&&(n||i||r)?d:void 0,onBlur:!e&&(r||i)?o:void 0}}}function _z(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,o=E.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:d}=TN(),f=E.useCallback(x=>{x.currentTarget.contains(x.target)&&o.current.isFocusWithin&&!x.currentTarget.contains(x.relatedTarget)&&(o.current.isFocusWithin=!1,d(),n&&n(x),i&&i(!1))},[n,i,o,d]),m=AN(f),y=E.useCallback(x=>{if(!x.currentTarget.contains(x.target))return;const b=Ka(x.target),w=jv(b);if(!o.current.isFocusWithin&&w===wN(x.nativeEvent)){r&&r(x),i&&i(!0),o.current.isFocusWithin=!0,m(x);let S=x.currentTarget;c(b,"focus",C=>{if(o.current.isFocusWithin&&!_N(S,C.target)){let N=new b.defaultView.FocusEvent("blur",{relatedTarget:C.target});fz(N,S);let M=SN(N);f(M)}},{capture:!0})}},[r,i,m,c,f]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:f}}}let Ov=!1,Qh=0;function wz(){Ov=!0,setTimeout(()=>{Ov=!1},50)}function k4(t){t.pointerType==="touch"&&wz()}function Ez(){if(!(typeof document>"u"))return Qh===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",k4),Qh++,()=>{Qh--,!(Qh>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",k4)}}function Tz(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[o,c]=E.useState(!1),d=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(Ez,[]);let{addGlobalListener:f,removeAllGlobalListeners:m}=TN(),{hoverProps:y,triggerHoverEnd:x}=E.useMemo(()=>{let b=(C,N)=>{if(d.pointerType=N,i||N==="touch"||d.isHovered||!C.currentTarget.contains(C.target))return;d.isHovered=!0;let M=C.currentTarget;d.target=M,f(Ka(C.target),"pointerover",I=>{d.isHovered&&d.target&&!_N(d.target,I.target)&&w(I,I.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:M,pointerType:N}),n&&n(!0),c(!0)},w=(C,N)=>{let M=d.target;d.pointerType="",d.target=null,!(N==="touch"||!d.isHovered||!M)&&(d.isHovered=!1,m(),r&&r({type:"hoverend",target:M,pointerType:N}),n&&n(!1),c(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=C=>{Ov&&C.pointerType==="mouse"||b(C,C.pointerType)},S.onPointerLeave=C=>{!i&&C.currentTarget.contains(C.target)&&w(C,C.pointerType)}),{hoverProps:S,triggerHoverEnd:w}},[e,n,r,i,d,f,m]);return E.useEffect(()=>{i&&x({currentTarget:d.target},d.pointerType)},[i]),{hoverProps:y,isHovered:o}}function Sz(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=E.useRef({isFocused:!1,isFocusVisible:e||DN()}),[o,c]=E.useState(!1),[d,f]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),m=E.useCallback(()=>f(i.current.isFocused&&i.current.isFocusVisible),[]),y=E.useCallback(w=>{i.current.isFocused=w,c(w),m()},[m]);xz(w=>{i.current.isFocusVisible=w,m()},[],{isTextInput:n});let{focusProps:x}=bz({isDisabled:r,onFocusChange:y}),{focusWithinProps:b}=_z({isDisabled:!r,onFocusWithinChange:y});return{isFocused:o,isFocusVisible:d,focusProps:r?b:x}}var Az=Object.defineProperty,Rz=(t,e,n)=>e in t?Az(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_0=(t,e,n)=>(Rz(t,typeof e!="symbol"?e+"":e,n),n);let Cz=class{constructor(){_0(this,"current",this.detect()),_0(this,"handoffState","pending"),_0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ks=new Cz;function hf(t){var e,n;return Ks.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function jN(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ms(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return jN(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=ms();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function mf(){let[t]=E.useState(ms);return E.useEffect(()=>()=>t.dispose(),[t]),t}let xn=(t,e)=>{Ks.isServer?E.useEffect(t,e):E.useLayoutEffect(t,e)};function Vc(t){let e=E.useRef(t);return xn(()=>{e.current=t},[t]),e}let St=function(t){let e=Vc(t);return Oe.useCallback((...n)=>e.current(...n),[e])};function Nz(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Iz(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Dz({disabled:t=!1}={}){let e=E.useRef(null),[n,r]=E.useState(!1),i=mf(),o=St(()=>{e.current=null,r(!1),i.dispose()}),c=St(d=>{if(i.dispose(),e.current===null){e.current=d.currentTarget,r(!0);{let f=hf(d.currentTarget);i.addEventListener(f,"pointerup",o,!1),i.addEventListener(f,"pointermove",m=>{if(e.current){let y=Nz(m);r(Iz(y,e.current.getBoundingClientRect()))}},!1),i.addEventListener(f,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:c,onPointerUp:o,onClick:o}}}let jz=E.createContext(void 0);function B1(){return E.useContext(jz)}function O4(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Xs(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xs),r}var Vv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vv||{}),Mz=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Mz||{});function ps(){let t=kz();return E.useCallback(e=>Pz({mergeRefs:t,...e}),[t])}function Pz({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:c,mergeRefs:d}){d=d??Oz;let f=MN(e,t);if(o)return Xh(f,n,r,c,d);let m=i??0;if(m&2){let{static:y=!1,...x}=f;if(y)return Xh(x,n,r,c,d)}if(m&1){let{unmount:y=!0,...x}=f;return Xs(y?0:1,{0(){return null},1(){return Xh({...x,hidden:!0,style:{display:"none"}},n,r,c,d)}})}return Xh(f,n,r,c,d)}function Xh(t,e={},n,r,i){let{as:o=n,children:c,refName:d="ref",...f}=w0(t,["unmount","static"]),m=t.ref!==void 0?{[d]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let x={};if(e){let b=!1,w=[];for(let[S,C]of Object.entries(e))typeof C=="boolean"&&(b=!0),C===!0&&w.push(S.replace(/([A-Z])/g,N=>`-${N.toLowerCase()}`));if(b){x["data-headlessui-state"]=w.join(" ");for(let S of w)x[`data-${S}`]=""}}if(o===E.Fragment&&(Object.keys(Co(f)).length>0||Object.keys(Co(x)).length>0))if(!E.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Co(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Co(f)).concat(Object.keys(Co(x))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=y.props,w=b==null?void 0:b.className,S=typeof w=="function"?(...M)=>O4(w(...M),f.className):O4(w,f.className),C=S?{className:S}:{},N=MN(y.props,Co(w0(f,["ref"])));for(let M in x)M in N&&delete x[M];return E.cloneElement(y,Object.assign({},N,x,m,{ref:i(Vz(y),m.ref)},C))}return E.createElement(o,Object.assign({},w0(f,["ref"]),o!==E.Fragment&&m,o!==E.Fragment&&x),y)}function kz(){let t=E.useRef([]),e=E.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Oz(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function MN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let c=n[r];for(let d of c){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;d(i,...o)}}});return e}function PN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let o=n[r];for(let c of o)c==null||c(...i)}});return e}function gs(t){var e;return Object.assign(E.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Co(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function w0(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Vz(t){return Oe.version.split(".")[0]>="19"?t.props.ref:t.ref}function Lz(t,e,n){let[r,i]=E.useState(n),o=t!==void 0,c=E.useRef(o),d=E.useRef(!1),f=E.useRef(!1);return o&&!c.current&&!d.current?(d.current=!0,c.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&c.current&&!f.current&&(f.current=!0,c.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:r,St(m=>(o||i(m),e==null?void 0:e(m)))]}function Uz(t){let[e]=E.useState(t);return e}function kN(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))VN(n,ON(e,r),i);return n}function ON(t,e){return t?t+"["+e+"]":e}function VN(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())VN(t,ON(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):kN(n,e,t)}function Fz(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let i of r.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let Bz="span";var z1=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(z1||{});function zz(t,e){var n;let{features:r=1,...i}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ps()({ourProps:o,theirProps:i,slot:{},defaultTag:Bz,name:"Hidden"})}let LN=gs(zz),Hz=E.createContext(null);function $z({children:t}){let e=E.useContext(Hz);if(!e)return Oe.createElement(Oe.Fragment,null,t);let{target:n}=e;return n?Gr.createPortal(Oe.createElement(Oe.Fragment,null,t),n):null}function qz({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[o,c]=E.useState(null),d=mf();return E.useEffect(()=>{if(r&&o)return d.addEventListener(o,"reset",r)},[o,e,r]),Oe.createElement($z,null,Oe.createElement(Gz,{setForm:c,formId:e}),kN(t).map(([f,m])=>Oe.createElement(LN,{features:z1.Hidden,...Co({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:f,value:m,...i})})))}function Gz({setForm:t,formId:e}){return E.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Oe.createElement(LN,{features:z1.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let Kz=E.createContext(void 0);function UN(){return E.useContext(Kz)}function H1(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Op(t){return H1(t)&&"tagName"in t}function Hi(t){return Op(t)&&"accessKey"in t}function Zl(t){return Op(t)&&"tabIndex"in t}function Yz(t){return Op(t)&&"style"in t}function Wz(t){return Hi(t)&&t.nodeName==="IFRAME"}function FN(t){return Hi(t)&&t.nodeName==="INPUT"}function V4(t){return Hi(t)&&t.nodeName==="LABEL"}function Qz(t){return Hi(t)&&t.nodeName==="FIELDSET"}function BN(t){return Hi(t)&&t.nodeName==="LEGEND"}function Xz(t){return Op(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Zz(t){let e=t.parentElement,n=null;for(;e&&!Qz(e);)BN(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Jz(n)?!1:r}function Jz(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(BN(e))return!1;e=e.previousElementSibling}return!0}let zN=Symbol();function eH(t,e=!0){return Object.assign(t,{[zN]:e})}function ei(...t){let e=E.useRef(t);E.useEffect(()=>{e.current=t},[t]);let n=St(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[zN]))?void 0:n}let $1=E.createContext(null);$1.displayName="DescriptionContext";function HN(){let t=E.useContext($1);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,HN),e}return t}function tH(){var t,e;return(e=(t=E.useContext($1))==null?void 0:t.value)!=null?e:void 0}let nH="p";function rH(t,e){let n=E.useId(),r=B1(),{id:i=`headlessui-description-${n}`,...o}=t,c=HN(),d=ei(e);xn(()=>c.register(i),[i,c.register]);let f=r||!1,m=E.useMemo(()=>({...c.slot,disabled:f}),[c.slot,f]),y={ref:d,...c.props,id:i};return ps()({ourProps:y,theirProps:o,slot:m,defaultTag:nH,name:c.name||"Description"})}let sH=gs(rH);Object.assign(sH,{});var gn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(gn||{});let Vp=E.createContext(null);Vp.displayName="LabelContext";function $N(){let t=E.useContext(Vp);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,$N),e}return t}function qN(t){var e,n,r;let i=(n=(e=E.useContext(Vp))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function iH({inherit:t=!1}={}){let e=qN(),[n,r]=E.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,E.useMemo(()=>function(o){let c=St(f=>(r(m=>[...m,f]),()=>r(m=>{let y=m.slice(),x=y.indexOf(f);return x!==-1&&y.splice(x,1),y}))),d=E.useMemo(()=>({register:c,slot:o.slot,name:o.name,props:o.props,value:o.value}),[c,o.slot,o.name,o.props,o.value]);return Oe.createElement(Vp.Provider,{value:d},o.children)},[r])]}let aH="label";function oH(t,e){var n;let r=E.useId(),i=$N(),o=UN(),c=B1(),{id:d=`headlessui-label-${r}`,htmlFor:f=o??((n=i.props)==null?void 0:n.htmlFor),passive:m=!1,...y}=t,x=ei(e);xn(()=>i.register(d),[d,i.register]);let b=St(N=>{let M=N.currentTarget;if(!(N.target!==N.currentTarget&&Xz(N.target))&&(V4(M)&&N.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(N),V4(M))){let I=document.getElementById(M.htmlFor);if(I){let R=I.getAttribute("disabled");if(R==="true"||R==="")return;let k=I.getAttribute("aria-disabled");if(k==="true"||k==="")return;(FN(I)&&(I.type==="file"||I.type==="radio"||I.type==="checkbox")||I.role==="radio"||I.role==="checkbox"||I.role==="switch")&&I.click(),I.focus({preventScroll:!0})}}}),w=c||!1,S=E.useMemo(()=>({...i.slot,disabled:w}),[i.slot,w]),C={ref:x,...i.props,id:d,htmlFor:f,onClick:b};return m&&("onClick"in C&&(delete C.htmlFor,delete C.onClick),"onClick"in y&&delete y.onClick),ps()({ourProps:C,theirProps:y,slot:S,defaultTag:f?aH:"div",name:i.name||"Label"})}let lH=gs(oH),cH=Object.assign(lH,{});function uH(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function dH(t=uH){return E.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return(e==null?void 0:e[r])===(n==null?void 0:n[r])}return t(e,n)},[t])}function fH(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function hH(t,e=!1){let[n,r]=E.useReducer(()=>({}),{}),i=E.useMemo(()=>fH(t),[t,n]);return xn(()=>{if(!t)return;let o=new ResizeObserver(r);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let GN=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var mH=Object.defineProperty,pH=(t,e,n)=>e in t?mH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gH=(t,e,n)=>(pH(t,e+"",n),n),KN=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zr=(t,e,n)=>(KN(t,e,"read from private field"),n?n.call(t):e.get(t)),E0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},L4=(t,e,n,r)=>(KN(t,e,"write to private field"),e.set(t,n),n),js,rd,sd;let YN=class{constructor(e){E0(this,js,{}),E0(this,rd,new GN(()=>new Set)),E0(this,sd,new Set),gH(this,"disposables",ms()),L4(this,js,e),Ks.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return zr(this,js)}subscribe(e,n){if(Ks.isServer)return()=>{};let r={selector:e,callback:n,current:e(zr(this,js))};return zr(this,sd).add(r),this.disposables.add(()=>{zr(this,sd).delete(r)})}on(e,n){return Ks.isServer?()=>{}:(zr(this,rd).get(e).add(n),this.disposables.add(()=>{zr(this,rd).get(e).delete(n)}))}send(e){let n=this.reduce(zr(this,js),e);if(n!==zr(this,js)){L4(this,js,n);for(let r of zr(this,sd)){let i=r.selector(zr(this,js));WN(r.current,i)||(r.current=i,r.callback(i))}for(let r of zr(this,rd).get(e.type))r(zr(this,js),e)}}};js=new WeakMap,rd=new WeakMap,sd=new WeakMap;function WN(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:T0(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:T0(t.entries(),e.entries()):U4(t)&&U4(e)?T0(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function T0(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function U4(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function S0(t){let[e,n]=t(),r=ms();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var yH=Object.defineProperty,vH=(t,e,n)=>e in t?yH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F4=(t,e,n)=>(vH(t,typeof e!="symbol"?e+"":e,n),n),QN=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(QN||{});let xH={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let o=t.stack.slice();return o.splice(i,1),o.push(n),r=o,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},bH=class XN extends YN{constructor(){super(...arguments),F4(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),F4(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new XN({stack:[]})}reduce(e,n){return Xs(n.type,xH,e,n)}};const q1=new GN(()=>bH.new());var A0={exports:{}},R0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function _H(){if(B4)return R0;B4=1;var t=ip();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return R0.useSyncExternalStoreWithSelector=function(f,m,y,x,b){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function N(F){if(!M){if(M=!0,I=F,F=x(F),b!==void 0&&S.hasValue){var W=S.value;if(b(W,F))return R=W}return R=F}if(W=R,n(I,F))return W;var V=x(F);return b!==void 0&&b(W,V)?(I=F,W):(I=F,R=V)}var M=!1,I,R,k=y===void 0?null:y;return[function(){return N(m())},k===null?void 0:function(){return N(k())}]},[m,y,x,b]);var C=r(f,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=C},[C]),d(C),C},R0}var z4;function wH(){return z4||(z4=1,A0.exports=_H()),A0.exports}var EH=wH();function qr(t,e,n=WN){return EH.useSyncExternalStoreWithSelector(St(r=>t.subscribe(TH,r)),St(()=>t.state),St(()=>t.state),St(e),n)}function TH(t){return t}function ZN(t,e){let n=E.useId(),r=q1.get(e),[i,o]=qr(r,E.useCallback(c=>[r.selectors.isTop(c,n),r.selectors.inStack(c,n)],[r,n]));return xn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?o?i:!0:!1}let Lv=new Map,bd=new Map;function H4(t){var e;let n=(e=bd.get(t))!=null?e:0;return bd.set(t,n+1),n!==0?()=>$4(t):(Lv.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>$4(t))}function $4(t){var e;let n=(e=bd.get(t))!=null?e:1;if(n===1?bd.delete(t):bd.set(t,n-1),n!==1)return;let r=Lv.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Lv.delete(t))}function SH(t,{allowed:e,disallowed:n}={}){let r=ZN(t,"inert-others");xn(()=>{var i,o;if(!r)return;let c=ms();for(let f of(i=n==null?void 0:n())!=null?i:[])f&&c.add(H4(f));let d=(o=e==null?void 0:e())!=null?o:[];for(let f of d){if(!f)continue;let m=hf(f);if(!m)continue;let y=f.parentElement;for(;y&&y!==m.body;){for(let x of y.children)d.some(b=>x.contains(b))||c.add(H4(x));y=y.parentElement}}return c.dispose},[r,e,n])}function AH(t,e,n){let r=Vc(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});E.useEffect(()=>{if(!t)return;let i=e===null?null:Hi(e)?e:e.current;if(!i)return;let o=ms();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>r.current(i));c.observe(i),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>r.current(i));c.observe(i),o.add(()=>c.disconnect())}return()=>o.dispose()},[e,r,t])}let Uv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),RH=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Fv=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Fv||{}),CH=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(CH||{}),NH=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(NH||{});function JN(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Uv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function IH(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(RH)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var G1=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(G1||{});function e6(t,e=0){var n;return t===((n=hf(t))==null?void 0:n.body)?!1:Xs(e,{0(){return t.matches(Uv)},1(){let r=t;for(;r!==null;){if(r.matches(Uv))return!0;r=r.parentElement}return!1}})}var DH=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(DH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let jH=["textarea","input"].join(",");function MH(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,jH))!=null?n:!1}function t6(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let c=i.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function PH(t,e){return kH(JN(),e,{relativeTo:t})}function kH(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?t6(t):t:e&64?IH(t):JN(t);i.length>0&&c.length>1&&(c=c.filter(w=>!i.some(S=>S!=null&&"current"in S?(S==null?void 0:S.current)===w:S===w))),r=r??o.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(r))-1;if(e&4)return Math.max(0,c.indexOf(r))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},y=0,x=c.length,b;do{if(y>=x||y+x<=0)return 0;let w=f+y;if(e&16)w=(w+x)%x;else{if(w<0)return 3;if(w>=x)return 1}b=c[w],b==null||b.focus(m),y+=d}while(b!==o.activeElement);return e&6&&MH(b)&&b.select(),2}function n6(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function OH(){return/Android/gi.test(window.navigator.userAgent)}function q4(){return n6()||OH()}function Jl(t,e,n,r){let i=Vc(n);E.useEffect(()=>{if(!t)return;function o(c){i.current(c)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function VH(t,e,n,r){let i=Vc(n);E.useEffect(()=>{if(!t)return;function o(c){i.current(c)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const G4=30;function LH(t,e,n){let r=Vc(n),i=E.useCallback(function(d,f){if(d.defaultPrevented)return;let m=f(d);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let y=function x(b){return typeof b=="function"?x(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let x of y)if(x!==null&&(x.contains(m)||d.composed&&d.composedPath().includes(x)))return;return!e6(m,G1.Loose)&&m.tabIndex!==-1&&d.preventDefault(),r.current(d,m)},[r,e]),o=E.useRef(null);Jl(t,"pointerdown",d=>{var f,m;q4()||(o.current=((m=(f=d.composedPath)==null?void 0:f.call(d))==null?void 0:m[0])||d.target)},!0),Jl(t,"pointerup",d=>{if(q4()||!o.current)return;let f=o.current;return o.current=null,i(d,()=>f)},!0);let c=E.useRef({x:0,y:0});Jl(t,"touchstart",d=>{c.current.x=d.touches[0].clientX,c.current.y=d.touches[0].clientY},!0),Jl(t,"touchend",d=>{let f={x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY};if(!(Math.abs(f.x-c.current.x)>=G4||Math.abs(f.y-c.current.y)>=G4))return i(d,()=>Zl(d.target)?d.target:null)},!0),VH(t,"blur",d=>i(d,()=>Wz(window.document.activeElement)?window.document.activeElement:null),!0)}function Bv(...t){return E.useMemo(()=>hf(...t),[...t])}var UH=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(UH||{});const Zh={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},FH=200,K4=5;function BH(t,{trigger:e,action:n,close:r,select:i}){let o=E.useRef(null),c=E.useRef(null),d=E.useRef(null);Jl(t&&e!==null,"pointerdown",f=>{H1(f==null?void 0:f.target)&&e!=null&&e.contains(f.target)&&(c.current=f.x,d.current=f.y,o.current=f.timeStamp)}),Jl(t&&e!==null,"pointerup",f=>{var m,y;let x=o.current;if(x===null||(o.current=null,!Zl(f.target))||Math.abs(f.x-((m=c.current)!=null?m:f.x))<K4&&Math.abs(f.y-((y=d.current)!=null?y:f.y))<K4)return;let b=n(f);switch(b.kind){case 0:return;case 1:{f.timeStamp-x>FH&&(i(b.target),r());break}case 2:{r();break}}},{capture:!0})}function zH(t,e){return E.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function HH(t){return E.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function $H(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let c=e[i].call(n,...o);c&&(n=c,r.forEach(d=>d()))}}}function qH(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function GH(){return n6()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let d=ms();d.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>d.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,c=null;e.addEventListener(t,"click",d=>{if(Zl(d.target))try{let f=d.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),y=t.querySelector(m);Zl(y)&&!r(y)&&(c=y)}catch{}},!0),e.addEventListener(t,"touchstart",d=>{if(Zl(d.target)&&Yz(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(d.target,"touchAction","none")}),e.addEventListener(t,"touchmove",d=>{if(Zl(d.target)){if(FN(d.target))return;if(r(d.target)){let f=d.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()}},{passive:!1}),e.add(()=>{var d;let f=(d=window.scrollY)!=null?d:window.pageYOffset;o!==f&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function KH(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function YH(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Po=$H(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ms(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:YH(n)},i=[GH(),qH(),KH()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Po.subscribe(()=>{let t=Po.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Po.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Po.dispatch("TEARDOWN",n)}});function WH(t,e,n=()=>({containers:[]})){let r=HH(Po),i=e?r.get(e):void 0,o=i?i.count>0:!1;return xn(()=>{if(!(!e||!t))return Po.dispatch("PUSH",e,n),()=>Po.dispatch("POP",e,n)},[t,e]),o}function QH(t,e,n=()=>[document.body]){let r=ZN(t,"scroll-lock");WH(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Y4(t){return[t.screenX,t.screenY]}function XH(){let t=E.useRef([-1,-1]);return{wasMoved(e){let n=Y4(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Y4(e)}}}function ZH(t=0){let[e,n]=E.useState(t),r=E.useCallback(f=>n(f),[e]),i=E.useCallback(f=>n(m=>m|f),[e]),o=E.useCallback(f=>(e&f)===f,[e]),c=E.useCallback(f=>n(m=>m&~f),[n]),d=E.useCallback(f=>n(m=>m^f),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:c,toggleFlag:d}}var JH={},W4,Q4;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((W4=process==null?void 0:JH)==null?void 0:W4.NODE_ENV)==="test"&&typeof((Q4=Element==null?void 0:Element.prototype)==null?void 0:Q4.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var e$=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(e$||{});function t$(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function n$(t,e,n,r){let[i,o]=E.useState(n),{hasFlag:c,addFlag:d,removeFlag:f}=ZH(t&&i?3:0),m=E.useRef(!1),y=E.useRef(!1),x=mf();return xn(()=>{var b;if(t){if(n&&o(!0),!e){n&&d(3);return}return(b=void 0)==null||b.call(r,n),r$(e,{inFlight:m,prepare(){y.current?y.current=!1:y.current=m.current,m.current=!0,!y.current&&(n?(d(3),f(4)):(d(4),f(2)))},run(){y.current?n?(f(3),d(4)):(f(4),d(3)):n?f(1):d(1)},done(){var w;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(m.current=!1,f(7),n||o(!1),(w=void 0)==null||w.call(r,n))}})}},[t,n,e,x]),t?[i,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function r$(t,{prepare:e,run:n,done:r,inFlight:i}){let o=ms();return i$(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(s$(t,r))})}),o.dispose}function s$(t,e){var n,r;let i=ms();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let c=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(d=>d instanceof CSSTransition))!=null?r:[];return c.length===0?(e(),i.dispose):(Promise.allSettled(c.map(d=>d.finished)).then(()=>{o||e()}),i.dispose)}function i$(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Lp(){return typeof window<"u"}function Lc(t){return r6(t)?(t.nodeName||"").toLowerCase():"#document"}function _r(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(r6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r6(t){return Lp()?t instanceof Node||t instanceof _r(t).Node:!1}function Qn(t){return Lp()?t instanceof Element||t instanceof _r(t).Element:!1}function Zs(t){return Lp()?t instanceof HTMLElement||t instanceof _r(t).HTMLElement:!1}function X4(t){return!Lp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _r(t).ShadowRoot}const a$=new Set(["inline","contents"]);function pf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!a$.has(i)}const o$=new Set(["table","td","th"]);function l$(t){return o$.has(Lc(t))}const c$=[":popover-open",":modal"];function Up(t){return c$.some(e=>{try{return t.matches(e)}catch{return!1}})}const u$=["transform","translate","scale","rotate","perspective"],d$=["transform","translate","scale","rotate","perspective","filter"],f$=["paint","layout","strict","content"];function K1(t){const e=Y1(),n=Qn(t)?fs(t):t;return u$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||d$.some(r=>(n.willChange||"").includes(r))||f$.some(r=>(n.contain||"").includes(r))}function h$(t){let e=Ba(t);for(;Zs(e)&&!bc(e);){if(K1(e))return e;if(Up(e))return null;e=Ba(e)}return null}function Y1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const m$=new Set(["html","body","#document"]);function bc(t){return m$.has(Lc(t))}function fs(t){return _r(t).getComputedStyle(t)}function Fp(t){return Qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ba(t){if(Lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||X4(t)&&t.host||ti(t);return X4(e)?e.host:e}function s6(t){const e=Ba(t);return bc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&pf(e)?e:s6(e)}function zd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=s6(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),c=_r(i);if(o){const d=zv(c);return e.concat(c,c.visualViewport||[],pf(i)?i:[],d&&n?zd(d):[])}return e.concat(i,zd(i,[],n))}function zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function p$(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const $o=Math.min,Ln=Math.max,Hd=Math.round,Jh=Math.floor,Ys=t=>({x:t,y:t}),g$={left:"right",right:"left",bottom:"top",top:"bottom"},y$={start:"end",end:"start"};function Z4(t,e,n){return Ln(t,$o(e,n))}function Uc(t,e){return typeof t=="function"?t(e):t}function za(t){return t.split("-")[0]}function gf(t){return t.split("-")[1]}function i6(t){return t==="x"?"y":"x"}function a6(t){return t==="y"?"height":"width"}const v$=new Set(["top","bottom"]);function Ni(t){return v$.has(za(t))?"y":"x"}function o6(t){return i6(Ni(t))}function x$(t,e,n){n===void 0&&(n=!1);const r=gf(t),i=o6(t),o=a6(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=np(c)),[c,np(c)]}function b$(t){const e=np(t);return[Hv(t),e,Hv(e)]}function Hv(t){return t.replace(/start|end/g,e=>y$[e])}const J4=["left","right"],eS=["right","left"],_$=["top","bottom"],w$=["bottom","top"];function E$(t,e,n){switch(t){case"top":case"bottom":return n?e?eS:J4:e?J4:eS;case"left":case"right":return e?_$:w$;default:return[]}}function T$(t,e,n,r){const i=gf(t);let o=E$(za(t),n==="start",r);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(Hv)))),o}function np(t){return t.replace(/left|right|bottom|top/g,e=>g$[e])}function S$(t){return{top:0,right:0,bottom:0,left:0,...t}}function A$(t){return typeof t!="number"?S$(t):{top:t,right:t,bottom:t,left:t}}function rp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tS(t,e,n){let{reference:r,floating:i}=t;const o=Ni(e),c=o6(e),d=a6(c),f=za(e),m=o==="y",y=r.x+r.width/2-i.width/2,x=r.y+r.height/2-i.height/2,b=r[d]/2-i[d]/2;let w;switch(f){case"top":w={x:y,y:r.y-i.height};break;case"bottom":w={x:y,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:x};break;case"left":w={x:r.x-i.width,y:x};break;default:w={x:r.x,y:r.y}}switch(gf(e)){case"start":w[c]-=b*(n&&m?-1:1);break;case"end":w[c]+=b*(n&&m?-1:1);break}return w}const R$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:x}=tS(m,r,f),b=r,w={},S=0;for(let C=0;C<d.length;C++){const{name:N,fn:M}=d[C],{x:I,y:R,data:k,reset:F}=await M({x:y,y:x,initialPlacement:r,placement:b,strategy:i,middlewareData:w,rects:m,platform:c,elements:{reference:t,floating:e}});y=I??y,x=R??x,w={...w,[N]:{...w[N],...k}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(m=F.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:y,y:x}=tS(m,b,f)),C=-1)}return{x:y,y:x,placement:b,strategy:i,middlewareData:w}};async function Bp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:c,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:b=!1,padding:w=0}=Uc(e,t),S=A$(w),N=d[b?x==="floating"?"reference":"floating":x],M=rp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:f})),I=x==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),k=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},F=rp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:I,offsetParent:R,strategy:f}):I);return{top:(M.top-F.top+S.top)/k.y,bottom:(F.bottom-M.bottom+S.bottom)/k.y,left:(M.left-F.left+S.left)/k.x,right:(F.right-M.right+S.right)/k.x}}const C$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:c,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...N}=Uc(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const M=za(i),I=Ni(d),R=za(d)===d,k=await(f.isRTL==null?void 0:f.isRTL(m.floating)),F=b||(R||!C?[np(d)]:b$(d)),W=S!=="none";!b&&W&&F.push(...T$(d,C,S,k));const V=[d,...F],j=await Bp(e,N),O=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&O.push(j[M]),x){const we=x$(i,c,k);O.push(j[we[0]],j[we[1]])}if(U=[...U,{placement:i,overflows:O}],!O.every(we=>we<=0)){var B,z;const we=(((B=o.flip)==null?void 0:B.index)||0)+1,pe=V[we];if(pe&&(!(x==="alignment"?I!==Ni(pe):!1)||U.every(re=>Ni(re.placement)===I?re.overflows[0]>0:!0)))return{data:{index:we,overflows:U},reset:{placement:pe}};let K=(z=U.filter(Z=>Z.overflows[0]<=0).sort((Z,re)=>Z.overflows[1]-re.overflows[1])[0])==null?void 0:z.placement;if(!K)switch(w){case"bestFit":{var L;const Z=(L=U.filter(re=>{if(W){const ve=Ni(re.placement);return ve===I||ve==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ve=>ve>0).reduce((ve,H)=>ve+H,0)]).sort((re,ve)=>re[1]-ve[1])[0])==null?void 0:L[0];Z&&(K=Z);break}case"initialPlacement":K=d;break}if(i!==K)return{reset:{placement:K}}}return{}}}},N$=new Set(["left","top"]);async function I$(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=za(n),d=gf(n),f=Ni(n)==="y",m=N$.has(c)?-1:1,y=o&&f?-1:1,x=Uc(e,t);let{mainAxis:b,crossAxis:w,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),f?{x:w*y,y:b*m}:{x:b*m,y:w*y}}const D$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:c,middlewareData:d}=e,f=await I$(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:c}}}}},j$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:M,y:I}=N;return{x:M,y:I}}},...f}=Uc(t,e),m={x:n,y:r},y=await Bp(e,f),x=Ni(za(i)),b=i6(x);let w=m[b],S=m[x];if(o){const N=b==="y"?"top":"left",M=b==="y"?"bottom":"right",I=w+y[N],R=w-y[M];w=Z4(I,w,R)}if(c){const N=x==="y"?"top":"left",M=x==="y"?"bottom":"right",I=S+y[N],R=S-y[M];S=Z4(I,S,R)}const C=d.fn({...e,[b]:w,[x]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[b]:o,[x]:c}}}}}},M$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:c,elements:d}=e,{apply:f=()=>{},...m}=Uc(t,e),y=await Bp(e,m),x=za(i),b=gf(i),w=Ni(i)==="y",{width:S,height:C}=o.floating;let N,M;x==="top"||x==="bottom"?(N=x,M=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(M=x,N=b==="end"?"top":"bottom");const I=C-y.top-y.bottom,R=S-y.left-y.right,k=$o(C-y[N],I),F=$o(S-y[M],R),W=!e.middlewareData.shift;let V=k,j=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(V=I),W&&!b){const U=Ln(y.left,0),B=Ln(y.right,0),z=Ln(y.top,0),L=Ln(y.bottom,0);w?j=S-2*(U!==0||B!==0?U+B:Ln(y.left,y.right)):V=C-2*(z!==0||L!==0?z+L:Ln(y.top,y.bottom))}await f({...e,availableWidth:j,availableHeight:V});const O=await c.getDimensions(d.floating);return S!==O.width||C!==O.height?{reset:{rects:!0}}:{}}}};function l6(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zs(t),o=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=Hd(n)!==o||Hd(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function W1(t){return Qn(t)?t:t.contextElement}function oc(t){const e=W1(t);if(!Zs(e))return Ys(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=l6(e);let c=(o?Hd(n.width):n.width)/r,d=(o?Hd(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const P$=Ys(0);function c6(t){const e=_r(t);return!Y1()||!e.visualViewport?P$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_r(t)?!1:e}function qo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=W1(t);let c=Ys(1);e&&(r?Qn(r)&&(c=oc(r)):c=oc(t));const d=k$(o,n,r)?c6(o):Ys(0);let f=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,y=i.width/c.x,x=i.height/c.y;if(o){const b=_r(o),w=r&&Qn(r)?_r(r):r;let S=b,C=zv(S);for(;C&&r&&w!==S;){const N=oc(C),M=C.getBoundingClientRect(),I=fs(C),R=M.left+(C.clientLeft+parseFloat(I.paddingLeft))*N.x,k=M.top+(C.clientTop+parseFloat(I.paddingTop))*N.y;f*=N.x,m*=N.y,y*=N.x,x*=N.y,f+=R,m+=k,S=_r(C),C=zv(S)}}return rp({width:y,height:x,x:f,y:m})}function Q1(t,e){const n=Fp(t).scrollLeft;return e?e.left+n:qo(ti(t)).left+n}function u6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Q1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function O$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",c=ti(r),d=e?Up(e.floating):!1;if(r===c||d&&o)return n;let f={scrollLeft:0,scrollTop:0},m=Ys(1);const y=Ys(0),x=Zs(r);if((x||!x&&!o)&&((Lc(r)!=="body"||pf(c))&&(f=Fp(r)),Zs(r))){const w=qo(r);m=oc(r),y.x=w.x+r.clientLeft,y.y=w.y+r.clientTop}const b=c&&!x&&!o?u6(c,f,!0):Ys(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+y.x+b.x,y:n.y*m.y-f.scrollTop*m.y+y.y+b.y}}function V$(t){return Array.from(t.getClientRects())}function L$(t){const e=ti(t),n=Fp(t),r=t.ownerDocument.body,i=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Q1(t);const d=-n.scrollTop;return fs(r).direction==="rtl"&&(c+=Ln(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:c,y:d}}function U$(t,e){const n=_r(t),r=ti(t),i=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,f=0;if(i){o=i.width,c=i.height;const m=Y1();(!m||m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:o,height:c,x:d,y:f}}const F$=new Set(["absolute","fixed"]);function B$(t,e){const n=qo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Zs(t)?oc(t):Ys(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,f=i*o.x,m=r*o.y;return{width:c,height:d,x:f,y:m}}function nS(t,e,n){let r;if(e==="viewport")r=U$(t,n);else if(e==="document")r=L$(ti(t));else if(Qn(e))r=B$(e,n);else{const i=c6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rp(r)}function d6(t,e){const n=Ba(t);return n===e||!Qn(n)||bc(n)?!1:fs(n).position==="fixed"||d6(n,e)}function z$(t,e){const n=e.get(t);if(n)return n;let r=zd(t,[],!1).filter(d=>Qn(d)&&Lc(d)!=="body"),i=null;const o=fs(t).position==="fixed";let c=o?Ba(t):t;for(;Qn(c)&&!bc(c);){const d=fs(c),f=K1(c);!f&&d.position==="fixed"&&(i=null),(o?!f&&!i:!f&&d.position==="static"&&!!i&&F$.has(i.position)||pf(c)&&!f&&d6(t,c))?r=r.filter(y=>y!==c):i=d,c=Ba(c)}return e.set(t,r),r}function H$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?Up(e)?[]:z$(e,this._c):[].concat(n),r],d=c[0],f=c.reduce((m,y)=>{const x=nS(e,y,i);return m.top=Ln(x.top,m.top),m.right=$o(x.right,m.right),m.bottom=$o(x.bottom,m.bottom),m.left=Ln(x.left,m.left),m},nS(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $$(t){const{width:e,height:n}=l6(t);return{width:e,height:n}}function q$(t,e,n){const r=Zs(e),i=ti(e),o=n==="fixed",c=qo(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const f=Ys(0);function m(){f.x=Q1(i)}if(r||!r&&!o)if((Lc(e)!=="body"||pf(i))&&(d=Fp(e)),r){const w=qo(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else i&&m();o&&!r&&i&&m();const y=i&&!r&&!o?u6(i,d):Ys(0),x=c.left+d.scrollLeft-f.x-y.x,b=c.top+d.scrollTop-f.y-y.y;return{x,y:b,width:c.width,height:c.height}}function C0(t){return fs(t).position==="static"}function rS(t,e){if(!Zs(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function f6(t,e){const n=_r(t);if(Up(t))return n;if(!Zs(t)){let i=Ba(t);for(;i&&!bc(i);){if(Qn(i)&&!C0(i))return i;i=Ba(i)}return n}let r=rS(t,e);for(;r&&l$(r)&&C0(r);)r=rS(r,e);return r&&bc(r)&&C0(r)&&!K1(r)?n:r||h$(t)||n}const G$=async function(t){const e=this.getOffsetParent||f6,n=this.getDimensions,r=await n(t.floating);return{reference:q$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function K$(t){return fs(t).direction==="rtl"}const Y$={convertOffsetParentRelativeRectToViewportRelativeRect:O$,getDocumentElement:ti,getClippingRect:H$,getOffsetParent:f6,getElementRects:G$,getClientRects:V$,getDimensions:$$,getScale:oc,isElement:Qn,isRTL:K$};function h6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function W$(t,e){let n=null,r;const i=ti(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const m=t.getBoundingClientRect(),{left:y,top:x,width:b,height:w}=m;if(d||e(),!b||!w)return;const S=Jh(x),C=Jh(i.clientWidth-(y+b)),N=Jh(i.clientHeight-(x+w)),M=Jh(y),R={rootMargin:-S+"px "+-C+"px "+-N+"px "+-M+"px",threshold:Ln(0,$o(1,f))||1};let k=!0;function F(W){const V=W[0].intersectionRatio;if(V!==f){if(!k)return c();V?c(!1,V):r=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!h6(m,t.getBoundingClientRect())&&c(),k=!1}try{n=new IntersectionObserver(F,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,R)}n.observe(t)}return c(!0),o}function Q$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=W1(t),y=i||o?[...m?zd(m):[],...zd(e)]:[];y.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),o&&M.addEventListener("resize",n)});const x=m&&d?W$(m,n):null;let b=-1,w=null;c&&(w=new ResizeObserver(M=>{let[I]=M;I&&I.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(e)})),n()}),m&&!f&&w.observe(m),w.observe(e));let S,C=f?qo(t):null;f&&N();function N(){const M=qo(t);C&&!h6(C,M)&&n(),C=M,S=requestAnimationFrame(N)}return n(),()=>{var M;y.forEach(I=>{i&&I.removeEventListener("scroll",n),o&&I.removeEventListener("resize",n)}),x==null||x(),(M=w)==null||M.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const N0=Bp,X$=D$,Z$=j$,J$=C$,eq=M$,tq=(t,e,n)=>{const r=new Map,i={platform:Y$,...n},o={...i.platform,_c:r};return R$(t,e,{...i,platform:o})};var nq=typeof document<"u",rq=function(){},xm=nq?E.useLayoutEffect:rq;function sp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!sp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function m6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sS(t,e){const n=m6(t);return Math.round(e*n)/n}function I0(t){const e=E.useRef(t);return xm(()=>{e.current=t}),e}function sq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[y,x]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=E.useState(r);sp(b,r)||w(r);const[S,C]=E.useState(null),[N,M]=E.useState(null),I=E.useCallback(re=>{re!==W.current&&(W.current=re,C(re))},[]),R=E.useCallback(re=>{re!==V.current&&(V.current=re,M(re))},[]),k=o||S,F=c||N,W=E.useRef(null),V=E.useRef(null),j=E.useRef(y),O=f!=null,U=I0(f),B=I0(i),z=I0(m),L=E.useCallback(()=>{if(!W.current||!V.current)return;const re={placement:e,strategy:n,middleware:b};B.current&&(re.platform=B.current),tq(W.current,V.current,re).then(ve=>{const H={...ve,isPositioned:z.current!==!1};we.current&&!sp(j.current,H)&&(j.current=H,Gr.flushSync(()=>{x(H)}))})},[b,e,n,B,z]);xm(()=>{m===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,x(re=>({...re,isPositioned:!1})))},[m]);const we=E.useRef(!1);xm(()=>(we.current=!0,()=>{we.current=!1}),[]),xm(()=>{if(k&&(W.current=k),F&&(V.current=F),k&&F){if(U.current)return U.current(k,F,L);L()}},[k,F,L,U,O]);const pe=E.useMemo(()=>({reference:W,floating:V,setReference:I,setFloating:R}),[I,R]),K=E.useMemo(()=>({reference:k,floating:F}),[k,F]),Z=E.useMemo(()=>{const re={position:n,left:0,top:0};if(!K.floating)return re;const ve=sS(K.floating,y.x),H=sS(K.floating,y.y);return d?{...re,transform:"translate("+ve+"px, "+H+"px)",...m6(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ve,top:H}},[n,d,K.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:L,refs:pe,elements:K,floatingStyles:Z}),[y,L,pe,K,Z])}const p6=(t,e)=>({...X$(t),options:[t,e]}),iq=(t,e)=>({...Z$(t),options:[t,e]}),aq=(t,e)=>({...J$(t),options:[t,e]}),oq=(t,e)=>({...eq(t),options:[t,e]}),g6={...M0},lq=g6.useInsertionEffect,cq=lq||(t=>t());function y6(t){const e=E.useRef(()=>{});return cq(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var $v=typeof document<"u"?E.useLayoutEffect:E.useEffect;let iS=!1,uq=0;const aS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uq++;function dq(){const[t,e]=E.useState(()=>iS?aS():void 0);return $v(()=>{t==null&&e(aS())},[]),E.useEffect(()=>{iS=!0},[]),t}const fq=g6.useId,hq=fq||dq;function mq(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const pq=E.createContext(null),gq=E.createContext(null),yq=()=>{var t;return((t=E.useContext(pq))==null?void 0:t.id)||null},vq=()=>E.useContext(gq),xq="data-floating-ui-focusable";function bq(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=hq(),o=E.useRef({}),[c]=E.useState(()=>mq()),d=yq()!=null,[f,m]=E.useState(r.reference),y=y6((w,S,C)=>{o.current.openEvent=w?S:void 0,c.emit("openchange",{open:w,event:S,reason:C,nested:d}),n==null||n(w,S,C)}),x=E.useMemo(()=>({setPositionReference:m}),[]),b=E.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return E.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:b,events:c,floatingId:i,refs:x}),[e,y,b,c,i,x])}function _q(t){t===void 0&&(t={});const{nodeId:e}=t,n=bq({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,c]=E.useState(null),[d,f]=E.useState(null),y=(i==null?void 0:i.domReference)||o,x=E.useRef(null),b=vq();$v(()=>{y&&(x.current=y)},[y]);const w=sq({...t,elements:{...i,...d&&{reference:d}}}),S=E.useCallback(R=>{const k=Qn(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;f(k),w.refs.setReference(k)},[w.refs]),C=E.useCallback(R=>{(Qn(R)||R===null)&&(x.current=R,c(R)),(Qn(w.refs.reference.current)||w.refs.reference.current===null||R!==null&&!Qn(R))&&w.refs.setReference(R)},[w.refs]),N=E.useMemo(()=>({...w.refs,setReference:C,setPositionReference:S,domReference:x}),[w.refs,C,S]),M=E.useMemo(()=>({...w.elements,domReference:y}),[w.elements,y]),I=E.useMemo(()=>({...w,...r,refs:N,elements:M,nodeId:e}),[w,N,M,e,r]);return $v(()=>{r.dataRef.current.floatingContext=I;const R=b==null?void 0:b.nodesRef.current.find(k=>k.id===e);R&&(R.context=I)}),E.useMemo(()=>({...w,context:I,refs:N,elements:M}),[w,N,M,I])}const oS="active",lS="selected";function D0(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[oS]:c,[lS]:d,...f}=t;o=f}return{...n==="floating"&&{tabIndex:-1,[xq]:""},...o,...e.map(c=>{const d=c?c[n]:null;return typeof d=="function"?t?d(t):null:d}).concat(t).reduce((c,d)=>(d&&Object.entries(d).forEach(f=>{let[m,y]=f;if(!(i&&[oS,lS].includes(m)))if(m.indexOf("on")===0){if(r.has(m)||r.set(m,[]),typeof y=="function"){var x;(x=r.get(m))==null||x.push(y),c[m]=function(){for(var b,w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return(b=r.get(m))==null?void 0:b.map(N=>N(...S)).find(N=>N!==void 0)}}}else c[m]=y}),c),{})}}function wq(t){t===void 0&&(t=[]);const e=t.map(d=>d==null?void 0:d.reference),n=t.map(d=>d==null?void 0:d.floating),r=t.map(d=>d==null?void 0:d.item),i=E.useCallback(d=>D0(d,t,"reference"),e),o=E.useCallback(d=>D0(d,t,"floating"),n),c=E.useCallback(d=>D0(d,t,"item"),r);return E.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:c}),[i,o,c])}function cS(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Eq=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:c=0,minItemsVisible:d=4,referenceOverflowThreshold:f=0,scrollRef:m,...y}=Uc(t,e),{rects:x,elements:{floating:b}}=e,w=n.current[c],S=(m==null?void 0:m.current)||b,C=b.clientTop||S.clientTop,N=b.clientTop!==0,M=S.clientTop!==0,I=b===S;if(!w)return{};const R={...e,...await p6(-w.offsetTop-b.clientTop-x.reference.height/2-w.offsetHeight/2-o).fn(e)},k=await N0(cS(R,S.scrollHeight+C+b.clientTop),y),F=await N0(R,{...y,elementContext:"reference"}),W=Ln(0,k.top),V=R.y+W,U=(S.scrollHeight>S.clientHeight?B=>B:Hd)(Ln(0,S.scrollHeight+(N&&I||M?C*2:0)-W-Ln(0,k.bottom)));if(S.style.maxHeight=U+"px",S.scrollTop=W,i){const B=S.offsetHeight<w.offsetHeight*$o(d,n.current.length)-1||F.top>=-f||F.bottom>=-f;Gr.flushSync(()=>i(B))}return r&&(r.current=await N0(cS({...R,y:V},S.offsetHeight+C+b.clientTop),y)),{y:V}}});function Tq(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:o,scrollRef:c,onChange:d}=e,f=y6(d),m=E.useRef(!1),y=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{if(!i)return;function w(C){if(C.ctrlKey||!S||o.current==null)return;const N=C.deltaY,M=o.current.top>=-.5,I=o.current.bottom>=-.5,R=S.scrollHeight-S.clientHeight,k=N<0?-1:1,F=N<0?"max":"min";S.scrollHeight<=S.clientHeight||(!M&&N>0||!I&&N<0?(C.preventDefault(),Gr.flushSync(()=>{f(W=>W+Math[F](N,R*k))})):/firefox/i.test(p$())&&(S.scrollTop+=N))}const S=(c==null?void 0:c.current)||r.floating;if(n&&S)return S.addEventListener("wheel",w),requestAnimationFrame(()=>{y.current=S.scrollTop,o.current!=null&&(x.current={...o.current})}),()=>{y.current=null,x.current=null,S.removeEventListener("wheel",w)}},[i,n,r.floating,o,c,f]);const b=E.useMemo(()=>({onKeyDown(){m.current=!0},onWheel(){m.current=!1},onPointerMove(){m.current=!1},onScroll(){const w=(c==null?void 0:c.current)||r.floating;if(!(!o.current||!w||!m.current)){if(y.current!==null){const S=w.scrollTop-y.current;(o.current.bottom<-.5&&S<-1||o.current.top<-.5&&S>1)&&Gr.flushSync(()=>f(C=>C+S))}requestAnimationFrame(()=>{y.current=w.scrollTop})}}}),[r.floating,f,o,c]);return E.useMemo(()=>i?{floating:b}:{},[i,b])}let Fc=E.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Fc.displayName="FloatingContext";let X1=E.createContext(null);X1.displayName="PlacementContext";function Sq(t){return E.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Aq(){return E.useContext(Fc).setReference}function Rq(){return E.useContext(Fc).getReferenceProps}function Cq(){let{getFloatingProps:t,slot:e}=E.useContext(Fc);return E.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function Nq(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=E.useContext(X1),n=E.useMemo(()=>t,[JSON.stringify(t,(i,o)=>{var c;return(c=o==null?void 0:o.outerHTML)!=null?c:o})]);xn(()=>{e==null||e(n??null)},[e,n]);let r=E.useContext(Fc);return E.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let uS=4;function Iq({children:t,enabled:e=!0}){let[n,r]=E.useState(null),[i,o]=E.useState(0),c=E.useRef(null),[d,f]=E.useState(null);Dq(d);let m=e&&n!==null&&d!==null,{to:y="bottom",gap:x=0,offset:b=0,padding:w=0,inner:S}=jq(n,d),[C,N="center"]=y.split(" ");xn(()=>{m&&o(0)},[m]);let{refs:M,floatingStyles:I,context:R}=_q({open:m,placement:C==="selection"?N==="center"?"bottom":`bottom-${N}`:N==="center"?`${C}`:`${C}-${N}`,strategy:"absolute",transform:!1,middleware:[p6({mainAxis:C==="selection"?0:x,crossAxis:b}),iq({padding:w}),C!=="selection"&&aq({padding:w}),C==="selection"&&S?Eq({...S,padding:w,overflowRef:c,offset:i,minItemsVisible:uS,referenceOverflowThreshold:w,onFallbackChange(B){var z,L;if(!B)return;let we=R.elements.floating;if(!we)return;let pe=parseFloat(getComputedStyle(we).scrollPaddingBottom)||0,K=Math.min(uS,we.childElementCount),Z=0,re=0;for(let ve of(L=(z=R.elements.floating)==null?void 0:z.childNodes)!=null?L:[])if(Hi(ve)){let H=ve.offsetTop,le=H+ve.clientHeight+pe,he=we.scrollTop,fe=he+we.clientHeight;if(H>=he&&le<=fe)K--;else{re=Math.max(0,Math.min(le,fe)-Math.max(H,he)),Z=ve.clientHeight;break}}K>=1&&o(ve=>{let H=Z*K-re+pe;return ve>=H?ve:H})}}):null,oq({padding:w,apply({availableWidth:B,availableHeight:z,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${B}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:Q$}),[k=C,F=N]=R.placement.split("-");C==="selection"&&(k="selection");let W=E.useMemo(()=>({anchor:[k,F].filter(Boolean).join(" ")}),[k,F]),V=Tq(R,{overflowRef:c,onChange:o}),{getReferenceProps:j,getFloatingProps:O}=wq([V]),U=St(B=>{f(B),M.setFloating(B)});return E.createElement(X1.Provider,{value:r},E.createElement(Fc.Provider,{value:{setFloating:U,setReference:M.setReference,styles:I,getReferenceProps:j,getFloatingProps:O,slot:W}},t))}function Dq(t){xn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function jq(t,e){var n,r,i;let o=j0((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),c=j0((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),d=j0((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:c,padding:d}}function j0(t,e,n=void 0){let r=mf(),i=St((f,m)=>{if(f==null)return[n,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!m)return[n,null];let y=dS(f,m);return[y,x=>{let b=v6(f);{let w=b.map(S=>window.getComputedStyle(m).getPropertyValue(S));r.requestAnimationFrame(function S(){r.nextFrame(S);let C=!1;for(let[M,I]of b.entries()){let R=window.getComputedStyle(m).getPropertyValue(I);if(w[M]!==R){w[M]=R,C=!0;break}}if(!C)return;let N=dS(f,m);y!==N&&(x(N),y=N)})}return r.dispose}]}return[n,null]}),o=E.useMemo(()=>i(t,e)[0],[t,e]),[c=o,d]=E.useState();return xn(()=>{let[f,m]=i(t,e);if(d(f),!!m)return m(d)},[t,e]),c}function v6(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...v6(i)]:[r]}return[]}function dS(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function Mq(t,e){let[n,r]=E.useState(e);return!t&&n!==e&&r(e),t?n:e}let Z1=E.createContext(null);Z1.displayName="OpenClosedContext";var $d=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))($d||{});function Pq(){return E.useContext(Z1)}function kq({value:t,children:e}){return Oe.createElement(Z1.Provider,{value:t},e)}function Oq(t){throw new Error("Unexpected object: "+t)}var Pt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Pt||{});function em(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return r}case 5:return null;default:Oq(t)}}var x6=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(x6||{});function b6(t){let e=St(t),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,jN(()=>{n.current&&e()})}),[e])}function Vq(){let t=typeof document>"u";return"useSyncExternalStore"in M0?(e=>e.useSyncExternalStore)(M0)(()=>()=>{},()=>!1,()=>!t):!1}function Lq(){let t=Vq(),[e,n]=E.useState(Ks.isHandoffComplete);return e&&Ks.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{e!==!0&&n(!0)},[e]),E.useEffect(()=>Ks.handoff(),[]),t?!1:e}let Uq=E.createContext(!1);function Fq(){return E.useContext(Uq)}function Bq(t){let e=Fq(),n=E.useContext(w6),[r,i]=E.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Ks.isServer)return null;let c=t==null?void 0:t.getElementById("headlessui-portal-root");if(c)return c;if(t===null)return null;let d=t.createElement("div");return d.setAttribute("id","headlessui-portal-root"),t.body.appendChild(d)});return E.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),E.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let _6=E.Fragment,zq=gs(function(t,e){let{ownerDocument:n=null,...r}=t,i=E.useRef(null),o=ei(eH(w=>{i.current=w}),e),c=Bv(i),d=n??c,f=Bq(d),[m]=E.useState(()=>{var w;return Ks.isServer?null:(w=d==null?void 0:d.createElement("div"))!=null?w:null}),y=E.useContext(Gq),x=Lq();xn(()=>{!f||!m||f.contains(m)||(m.setAttribute("data-headlessui-portal",""),f.appendChild(m))},[f,m]),xn(()=>{if(m&&y)return y.register(m)},[y,m]),b6(()=>{var w;!f||!m||(H1(m)&&f.contains(m)&&f.removeChild(m),f.childNodes.length<=0&&((w=f.parentElement)==null||w.removeChild(f)))});let b=ps();return x?!f||!m?null:Gr.createPortal(b({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:_6,name:"Portal"}),m):null});function Hq(t,e){let n=ei(e),{enabled:r=!0,ownerDocument:i,...o}=t,c=ps();return r?Oe.createElement(zq,{...o,ownerDocument:i,ref:n}):c({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:_6,name:"Portal"})}let $q=E.Fragment,w6=E.createContext(null);function qq(t,e){let{target:n,...r}=t,i={ref:ei(e)},o=ps();return Oe.createElement(w6.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:$q,name:"Popover.Group"}))}let Gq=E.createContext(null),Kq=gs(Hq),Yq=gs(qq),Wq=Object.assign(Kq,{Group:Yq});function Qq(t,e){let n=E.useRef({left:0,top:0});if(xn(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let fS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function hS(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Hi(i))return r;let o=!1;for(let d of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),o=!0;let c=o?(n=i.innerText)!=null?n:"":r;return fS.test(c)&&(c=c.replace(fS,"")),c}function Xq(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let c=o.getAttribute("aria-label");return typeof c=="string"?c.trim():hS(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return hS(t).trim()}function Zq(t){let e=E.useRef(""),n=E.useRef("");return St(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let o=Xq(r).trim().toLowerCase();return e.current=i,n.current=o,o})}var Jq=Object.defineProperty,eG=(t,e,n)=>e in t?Jq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mS=(t,e,n)=>(eG(t,typeof e!="symbol"?e+"":e,n),n),vn=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vn||{}),Us=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Us||{}),bm=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(bm||{}),E6=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOptions=5]="RegisterOptions",t[t.UnregisterOptions=6]="UnregisterOptions",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t[t.SortOptions=9]="SortOptions",t))(E6||{});function pS(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=t6(e(t.options.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let tG={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,pendingFocus:{focus:Pt.Nothing},listboxState:1,__demoMode:!1}},0(t,e){if(t.dataRef.current.disabled||t.listboxState===0)return t;let n=t.activeOptionIndex,{isSelected:r}=t.dataRef.current,i=t.options.findIndex(o=>r(o.dataRef.current.value));return i!==-1&&(n=i),{...t,pendingFocus:e.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(t,e){var n,r,i,o,c;if(t.dataRef.current.disabled||t.listboxState===1)return t;let d={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Pt.Nothing)return{...d,activeOptionIndex:null};if(e.focus===Pt.Specific)return{...d,activeOptionIndex:t.options.findIndex(y=>y.id===e.id)};if(e.focus===Pt.Previous){let y=t.activeOptionIndex;if(y!==null){let x=t.options[y].dataRef.current.domRef,b=em(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=t.options[b].dataRef.current.domRef;if(((r=x.current)==null?void 0:r.previousElementSibling)===w.current||((i=w.current)==null?void 0:i.previousElementSibling)===null)return{...d,activeOptionIndex:b}}}}else if(e.focus===Pt.Next){let y=t.activeOptionIndex;if(y!==null){let x=t.options[y].dataRef.current.domRef,b=em(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=t.options[b].dataRef.current.domRef;if(((o=x.current)==null?void 0:o.nextElementSibling)===w.current||((c=w.current)==null?void 0:c.nextElementSibling)===null)return{...d,activeOptionIndex:b}}}}let f=pS(t),m=em(e,{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});return{...d,...f,activeOptionIndex:m}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(c=>{var d;return!c.dataRef.current.disabled&&((d=c.dataRef.current.textValue)==null?void 0:d.startsWith(r))}),o=i?t.options.indexOf(i):-1;return o===-1||o===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n=t.options.concat(e.options),r=t.activeOptionIndex;if(t.pendingFocus.focus!==Pt.Nothing&&(r=em(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),t.activeOptionIndex===null){let{isSelected:i}=t.dataRef.current;if(i){let o=n.findIndex(c=>i==null?void 0:i(c.dataRef.current.value));o!==-1&&(r=o)}}return{...t,options:n,activeOptionIndex:r,pendingFocus:{focus:Pt.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.options,r=[],i=new Set(e.options);for(let[o,c]of n.entries())if(i.has(c.id)&&(r.push(o),i.delete(c.id),i.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...t,options:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},9:t=>t.pendingShouldSort?{...t,...pS(t),pendingShouldSort:!1}:t};class J1 extends YN{constructor(e){super(e),mS(this,"actions",{onChange:n=>{let{onChange:r,compare:i,mode:o,value:c}=this.state.dataRef.current;return Xs(o,{0:()=>r==null?void 0:r(n),1:()=>{let d=c.slice(),f=d.findIndex(m=>i(m,n));return f===-1?d.push(n):d.splice(f,1),r==null?void 0:r(d)}})},registerOption:S0(()=>{let n=[],r=new Set;return[(i,o)=>{r.has(o)||(r.add(o),n.push({id:i,dataRef:o}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:S0(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:S0(()=>{let n=null;return[(r,i)=>{n={type:2,...r,trigger:i}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:Pt.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(i=>i.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),mS(this,"selectors",{activeDescendantId(n){var r;let i=n.activeOptionIndex,o=n.options;return i===null||(r=o[i])==null?void 0:r.id},isActive(n,r){var i;let o=n.activeOptionIndex,c=n.options;return o!==null?((i=c[o])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=q1.get(null);this.disposables.add(r.on(QN.Push,i=>{!r.selectors.isTop(i,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:e,__demoMode:n=!1}){return new J1({id:e,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:Pt.Nothing},__demoMode:n})}reduce(e,n){return Xs(n.type,tG,e,n)}}const T6=E.createContext(null);function eb(t){let e=E.useContext(T6);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,S6),n}return e}function S6({id:t,__demoMode:e=!1}){let n=E.useMemo(()=>J1.new({id:t,__demoMode:e}),[]);return b6(()=>n.dispose()),n}let zp=E.createContext(null);zp.displayName="ListboxDataContext";function yf(t){let e=E.useContext(zp);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yf),n}return e}let nG=E.Fragment;function rG(t,e){let n=E.useId(),r=B1(),{value:i,defaultValue:o,form:c,name:d,onChange:f,by:m,invalid:y=!1,disabled:x=r||!1,horizontal:b=!1,multiple:w=!1,__demoMode:S=!1,...C}=t;const N=b?"horizontal":"vertical";let M=ei(e),I=Uz(o),[R=w?[]:void 0,k]=Lz(i,f,I),F=S6({id:n,__demoMode:S}),W=E.useRef({static:!1,hold:!1}),V=E.useRef(new Map),j=dH(m),O=E.useCallback(he=>Xs(U.mode,{[Us.Multi]:()=>R.some(fe=>j(fe,he)),[Us.Single]:()=>j(R,he)}),[R]),U=E.useMemo(()=>({value:R,disabled:x,invalid:y,mode:w?Us.Multi:Us.Single,orientation:N,onChange:k,compare:j,isSelected:O,optionsPropsRef:W,listRef:V}),[R,x,y,w,N,k,j,O,W,V]);xn(()=>{F.state.dataRef.current=U},[U]);let B=qr(F,he=>he.listboxState),z=q1.get(null),L=qr(z,E.useCallback(he=>z.selectors.isTop(he,n),[z,n])),[we,pe]=qr(F,he=>[he.buttonElement,he.optionsElement]);LH(L,[we,pe],(he,fe)=>{F.send({type:E6.CloseListbox}),e6(fe,G1.Loose)||(he.preventDefault(),we==null||we.focus())});let K=E.useMemo(()=>({open:B===vn.Open,disabled:x,invalid:y,value:R}),[B,x,y,R]),[Z,re]=iH({inherit:!0}),ve={ref:M},H=E.useCallback(()=>{if(I!==void 0)return k==null?void 0:k(I)},[k,I]),le=ps();return Oe.createElement(re,{value:Z,props:{htmlFor:we==null?void 0:we.id},slot:{open:B===vn.Open,disabled:x}},Oe.createElement(Iq,null,Oe.createElement(T6.Provider,{value:F},Oe.createElement(zp.Provider,{value:U},Oe.createElement(kq,{value:Xs(B,{[vn.Open]:$d.Open,[vn.Closed]:$d.Closed})},d!=null&&R!=null&&Oe.createElement(qz,{disabled:x,data:{[d]:R},form:c,onReset:H}),le({ourProps:ve,theirProps:C,slot:K,defaultTag:nG,name:"Listbox"}))))))}let sG="button";function iG(t,e){let n=E.useId(),r=UN(),i=yf("Listbox.Button"),o=eb("Listbox.Button"),{id:c=r||`headlessui-listbox-button-${n}`,disabled:d=i.disabled||!1,autoFocus:f=!1,...m}=t,y=ei(e,Aq(),o.actions.setButtonElement),x=Rq(),[b,w,S]=qr(o,re=>[re.listboxState,re.buttonElement,re.optionsElement]),C=b===vn.Open;BH(C,{trigger:w,action:E.useCallback(re=>{if(w!=null&&w.contains(re.target))return Zh.Ignore;let ve=re.target.closest('[role="option"]:not([data-disabled])');return Hi(ve)?Zh.Select(ve):S!=null&&S.contains(re.target)?Zh.Ignore:Zh.Close},[w,S]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let N=St(re=>{switch(re.key){case gn.Enter:Fz(re.currentTarget);break;case gn.Space:case gn.ArrowDown:re.preventDefault(),o.actions.openListbox({focus:i.value?Pt.Nothing:Pt.First});break;case gn.ArrowUp:re.preventDefault(),o.actions.openListbox({focus:i.value?Pt.Nothing:Pt.Last});break}}),M=St(re=>{switch(re.key){case gn.Space:re.preventDefault();break}}),I=St(re=>{var ve;if(re.button===x6.Left){if(Zz(re.currentTarget))return re.preventDefault();o.state.listboxState===vn.Open?(Gr.flushSync(()=>o.actions.closeListbox()),(ve=o.state.buttonElement)==null||ve.focus({preventScroll:!0})):(re.preventDefault(),o.actions.openListbox({focus:Pt.Nothing}))}}),R=E.useRef(null),k=St(re=>{R.current=re.pointerType,re.pointerType==="mouse"&&I(re)}),F=St(re=>{R.current!=="mouse"&&I(re)}),W=St(re=>re.preventDefault()),V=qN([c]),j=tH(),{isFocusVisible:O,focusProps:U}=Sz({autoFocus:f}),{isHovered:B,hoverProps:z}=Tz({isDisabled:d}),{pressed:L,pressProps:we}=Dz({disabled:d}),pe=E.useMemo(()=>({open:b===vn.Open,active:L||b===vn.Open,disabled:d,invalid:i.invalid,value:i.value,hover:B,focus:O,autofocus:f}),[b,i.value,d,B,O,L,i.invalid,f]),K=qr(o,re=>re.listboxState===vn.Open),Z=PN(x(),{ref:y,id:c,type:zH(t,w),"aria-haspopup":"listbox","aria-controls":S==null?void 0:S.id,"aria-expanded":K,"aria-labelledby":V,"aria-describedby":j,disabled:d||void 0,autoFocus:f,onKeyDown:N,onKeyUp:M,onKeyPress:W,onPointerDown:k,onClick:F},U,z,we);return ps()({ourProps:Z,theirProps:m,slot:pe,defaultTag:sG,name:"Listbox.Button"})}let A6=E.createContext(!1),aG="div",oG=Vv.RenderStrategy|Vv.Static;function lG(t,e){let n=E.useId(),{id:r=`headlessui-listbox-options-${n}`,anchor:i,portal:o=!1,modal:c=!0,transition:d=!1,...f}=t,m=Sq(i),[y,x]=E.useState(null);m&&(o=!0);let b=yf("Listbox.Options"),w=eb("Listbox.Options"),[S,C,N,M]=qr(w,Ee=>[Ee.listboxState,Ee.buttonElement,Ee.optionsElement,Ee.__demoMode]),I=Bv(C),R=Bv(N),k=Pq(),[F,W]=n$(d,y,k!==null?(k&$d.Open)===$d.Open:S===vn.Open);AH(F,C,w.actions.closeListbox);let V=M?!1:c&&S===vn.Open;QH(V,R);let j=M?!1:c&&S===vn.Open;SH(j,{allowed:E.useCallback(()=>[C,N],[C,N])});let O=S!==vn.Open,U=Qq(O,C)?!1:F,B=F&&S===vn.Closed,z=Mq(B,b.value),L=St(Ee=>b.compare(z,Ee)),we=qr(w,Ee=>{var Me;if(m==null||!((Me=m==null?void 0:m.to)!=null&&Me.includes("selection")))return null;let jt=Ee.options.findIndex(Kt=>L(Kt.dataRef.current.value));return jt===-1&&(jt=0),jt}),pe=(()=>{if(m==null)return;if(we===null)return{...m,inner:void 0};let Ee=Array.from(b.listRef.current.values());return{...m,inner:{listRef:{current:Ee},index:we}}})(),[K,Z]=Nq(pe),re=Cq(),ve=ei(e,m?K:null,w.actions.setOptionsElement,x),H=mf();E.useEffect(()=>{var Ee;let Me=N;Me&&S===vn.Open&&Me!==((Ee=hf(Me))==null?void 0:Ee.activeElement)&&(Me==null||Me.focus({preventScroll:!0}))},[S,N]);let le=St(Ee=>{var Me,jt;switch(H.dispose(),Ee.key){case gn.Space:if(w.state.searchQuery!=="")return Ee.preventDefault(),Ee.stopPropagation(),w.actions.search(Ee.key);case gn.Enter:if(Ee.preventDefault(),Ee.stopPropagation(),w.state.activeOptionIndex!==null){let{dataRef:Kt}=w.state.options[w.state.activeOptionIndex];w.actions.onChange(Kt.current.value)}b.mode===Us.Single&&(Gr.flushSync(()=>w.actions.closeListbox()),(Me=w.state.buttonElement)==null||Me.focus({preventScroll:!0}));break;case Xs(b.orientation,{vertical:gn.ArrowDown,horizontal:gn.ArrowRight}):return Ee.preventDefault(),Ee.stopPropagation(),w.actions.goToOption({focus:Pt.Next});case Xs(b.orientation,{vertical:gn.ArrowUp,horizontal:gn.ArrowLeft}):return Ee.preventDefault(),Ee.stopPropagation(),w.actions.goToOption({focus:Pt.Previous});case gn.Home:case gn.PageUp:return Ee.preventDefault(),Ee.stopPropagation(),w.actions.goToOption({focus:Pt.First});case gn.End:case gn.PageDown:return Ee.preventDefault(),Ee.stopPropagation(),w.actions.goToOption({focus:Pt.Last});case gn.Escape:Ee.preventDefault(),Ee.stopPropagation(),Gr.flushSync(()=>w.actions.closeListbox()),(jt=w.state.buttonElement)==null||jt.focus({preventScroll:!0});return;case gn.Tab:Ee.preventDefault(),Ee.stopPropagation(),Gr.flushSync(()=>w.actions.closeListbox()),PH(w.state.buttonElement,Ee.shiftKey?Fv.Previous:Fv.Next);break;default:Ee.key.length===1&&(w.actions.search(Ee.key),H.setTimeout(()=>w.actions.clearSearch(),350));break}}),he=qr(w,Ee=>{var Me;return(Me=Ee.buttonElement)==null?void 0:Me.id}),fe=E.useMemo(()=>({open:S===vn.Open}),[S]),Ie=PN(m?re():{},{id:r,ref:ve,"aria-activedescendant":qr(w,w.selectors.activeDescendantId),"aria-multiselectable":b.mode===Us.Multi?!0:void 0,"aria-labelledby":he,"aria-orientation":b.orientation,onKeyDown:le,role:"listbox",tabIndex:S===vn.Open?0:void 0,style:{...f.style,...Z,"--button-width":hH(C,!0).width},...t$(W)}),He=ps(),Ce=E.useMemo(()=>b.mode===Us.Multi?b:{...b,isSelected:L},[b,L]);return Oe.createElement(Wq,{enabled:o?t.static||F:!1,ownerDocument:I},Oe.createElement(zp.Provider,{value:Ce},He({ourProps:Ie,theirProps:f,slot:fe,defaultTag:aG,features:oG,visible:U,name:"Listbox.Options"})))}let cG="div";function uG(t,e){let n=E.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:o,...c}=t,d=E.useContext(A6)===!0,f=yf("Listbox.Option"),m=eb("Listbox.Option"),y=qr(m,U=>m.selectors.isActive(U,r)),x=f.isSelected(o),b=E.useRef(null),w=Zq(b),S=Vc({disabled:i,value:o,domRef:b,get textValue(){return w()}}),C=ei(e,b,U=>{U?f.listRef.current.set(r,U):f.listRef.current.delete(r)}),N=qr(m,U=>m.selectors.shouldScrollIntoView(U,r));xn(()=>{if(N)return ms().requestAnimationFrame(()=>{var U,B;(B=(U=b.current)==null?void 0:U.scrollIntoView)==null||B.call(U,{block:"nearest"})})},[N,b]),xn(()=>{if(!d)return m.actions.registerOption(r,S),()=>m.actions.unregisterOption(r)},[S,r,d]);let M=St(U=>{var B;if(i)return U.preventDefault();m.actions.onChange(o),f.mode===Us.Single&&(Gr.flushSync(()=>m.actions.closeListbox()),(B=m.state.buttonElement)==null||B.focus({preventScroll:!0}))}),I=St(()=>{if(i)return m.actions.goToOption({focus:Pt.Nothing});m.actions.goToOption({focus:Pt.Specific,id:r})}),R=XH(),k=St(U=>R.update(U)),F=St(U=>{R.wasMoved(U)&&(i||y&&m.state.activationTrigger===bm.Pointer||m.actions.goToOption({focus:Pt.Specific,id:r},bm.Pointer))}),W=St(U=>{R.wasMoved(U)&&(i||y&&m.state.activationTrigger===bm.Pointer&&m.actions.goToOption({focus:Pt.Nothing}))}),V=E.useMemo(()=>({active:y,focus:y,selected:x,disabled:i,selectedOption:x&&d}),[y,x,i,d]),j=d?{}:{id:r,ref:C,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":x,disabled:void 0,onClick:M,onFocus:I,onPointerEnter:k,onMouseEnter:k,onPointerMove:F,onMouseMove:F,onPointerLeave:W,onMouseLeave:W},O=ps();return!x&&d?null:O({ourProps:j,theirProps:c,slot:V,defaultTag:cG,name:"Listbox.Option"})}let dG=E.Fragment;function fG(t,e){let{options:n,placeholder:r,...i}=t,o={ref:ei(e)},c=yf("ListboxSelectedOption"),d=E.useMemo(()=>({}),[]),f=c.value===void 0||c.value===null||c.mode===Us.Multi&&Array.isArray(c.value)&&c.value.length===0,m=ps();return Oe.createElement(A6.Provider,{value:!0},m({ourProps:o,theirProps:{...i,children:Oe.createElement(Oe.Fragment,null,r&&f?r:n)},slot:d,defaultTag:dG,name:"ListboxSelectedOption"}))}let hG=gs(rG),mG=gs(iG),pG=cH,gG=gs(lG),yG=gs(uG),vG=gs(fG),wt=Object.assign(hG,{Button:mG,Label:pG,Options:gG,Option:yG,SelectedOption:vG});const Fl=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Emergency Contact",description:"Emergency contact information"},{id:3,name:"Medical Information",description:"Your medical history and conditions"},{id:4,name:"Lifestyle",description:"Your habits and preferences"}],gS=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],yS=[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],xG=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],bG=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],_G=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease"],wG=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye"],EG=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements"],TG=["Mobility Impairment","Visual Impairment","Hearing Impairment","Speech Impairment","Cognitive Disability","Intellectual Disability","Learning Disability","Neurological Disability","Psychiatric Disability","Developmental Disability","Wheelchair User","Prosthetic User","Amputee","Multiple Sclerosis","Cerebral Palsy","Spinal Cord Injury","Neurological Disorder","Chronic Pain","Missing Limb"],qv=`
  mt-2 block w-full rounded-xl 
  bg-white dark:bg-gray-800 
  border-2 border-gray-200 dark:border-gray-700
  shadow-sm 
  focus:border-blue-500 focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900
  px-4 py-3
  text-sm font-medium
  transition-all duration-200
  placeholder-gray-400 dark:placeholder-gray-500
`.trim(),ja=Oe.memo(({label:t,type:e="text",value:n,onChange:r,placeholder:i,className:o=""})=>h.jsxs("div",{className:o,children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-1",children:t}),h.jsx("input",{type:e,value:n,onChange:r,placeholder:i,className:qv})]})),SG=t=>`
  px-4 py-3 rounded-xl border-2 cursor-pointer transition-all duration-200
  text-sm font-medium text-center
  ${t?"bg-blue-500 border-blue-500 text-white shadow-lg transform scale-105":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-gray-700"}
`.trim(),ec=Oe.memo(({label:t,options:e,selectedItems:n,onToggle:r,className:i=""})=>{const o=E.useCallback(c=>{r(c)},[r]);return h.jsxs("div",{className:i,children:[h.jsx("label",{className:"block text-lg font-bold text-gray-900 dark:text-white mb-4",children:t}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Select all that apply. Click to toggle selection."}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:e.map(c=>h.jsx("button",{type:"button",onClick:()=>o(c),className:SG(n.includes(c)),children:c},c))}),n.length>0&&h.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[h.jsxs("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:["Selected (",n.length,"):"]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((c,d)=>h.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",children:[c,h.jsx("button",{type:"button",onClick:()=>o(c),className:"ml-1 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:""})]},d))})]})]})}),AG=Oe.memo(({basicData:t,onBasicChange:e,onNestedChange:n})=>{var b,w,S,C,N,M;const r=E.useCallback(I=>e("fullName",I.target.value),[e]),i=E.useCallback(I=>e("dob",I.target.value),[e]),o=E.useCallback(I=>e("gender",I),[e]),c=E.useCallback(I=>e("bloodGroup",I),[e]),d=E.useCallback(I=>n("basic","height","value",I.target.value),[n]),f=E.useCallback(I=>n("basic","height","unit",I.target.value),[n]),m=E.useCallback(I=>n("basic","weight","value",I.target.value),[n]),y=E.useCallback(I=>n("basic","weight","unit",I.target.value),[n]),x=E.useCallback(I=>e("contactNumber",I.target.value),[e]);return h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[h.jsx(ja,{label:"Full Name",value:(t==null?void 0:t.fullName)||"",onChange:r,placeholder:"Enter your full name",className:"sm:col-span-2"}),h.jsx(ja,{label:"Date of Birth",type:"date",value:(t==null?void 0:t.dob)||"",onChange:i}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Gender"}),h.jsx(wt,{value:(t==null?void 0:t.gender)||"",onChange:o,children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:"w-full rounded-xl border-2 bg-white dark:bg-gray-800 px-4 py-3 text-left shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-sm font-medium transition-all duration-200 border-gray-200 dark:border-gray-700",children:h.jsx("span",{className:t!=null&&t.gender?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500",children:((b=gS.find(I=>I.value===(t==null?void 0:t.gender)))==null?void 0:b.label)||"Select Gender"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 shadow-xl",children:gS.slice(1).map(I=>h.jsx(wt.Option,{value:I.value,className:({active:R,selected:k})=>`cursor-pointer select-none px-4 py-3 text-sm font-medium ${R?"bg-blue-500 text-white":"text-gray-900 dark:text-white"} ${k?"bg-blue-100 dark:bg-blue-900":""}`,children:I.label},I.value))})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Blood Group"}),h.jsx(wt,{value:(t==null?void 0:t.bloodGroup)||"",onChange:c,children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:"w-full rounded-xl border-2 bg-white dark:bg-gray-800 px-4 py-3 text-left shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-sm font-medium transition-all duration-200 border-gray-200 dark:border-gray-700",children:h.jsx("span",{className:t!=null&&t.bloodGroup?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500",children:((w=yS.find(I=>I.value===(t==null?void 0:t.bloodGroup)))==null?void 0:w.label)||"Select Blood Group"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 shadow-xl",children:yS.slice(1).map(I=>h.jsx(wt.Option,{value:I.value,className:({active:R,selected:k})=>`cursor-pointer select-none px-4 py-3 text-sm font-medium ${R?"bg-blue-500 text-white":"text-gray-900 dark:text-white"} ${k?"bg-blue-100 dark:bg-blue-900":""}`,children:I.label},I.value))})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Height"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",value:((S=t==null?void 0:t.height)==null?void 0:S.value)||"",onChange:d,placeholder:"170",className:`${qv} flex-1`}),h.jsxs("select",{value:((C=t==null?void 0:t.height)==null?void 0:C.unit)||"cm",onChange:f,className:"rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-3 text-sm font-medium w-20",children:[h.jsx("option",{value:"cm",children:"cm"}),h.jsx("option",{value:"ft",children:"ft"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Weight"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",value:((N=t==null?void 0:t.weight)==null?void 0:N.value)||"",onChange:m,placeholder:"70",className:`${qv} flex-1`}),h.jsxs("select",{value:((M=t==null?void 0:t.weight)==null?void 0:M.unit)||"kg",onChange:y,className:"rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-3 text-sm font-medium w-20",children:[h.jsx("option",{value:"kg",children:"kg"}),h.jsx("option",{value:"lbs",children:"lbs"})]})]})]}),h.jsx(ja,{label:"Contact Number",value:(t==null?void 0:t.contactNumber)||"",onChange:x,placeholder:"Enter your phone number",className:"sm:col-span-2"})]})})}),RG=Oe.memo(({basicData:t,onNestedChange:e})=>{var o,c,d;const n=E.useCallback(f=>e("basic","emergencyContact","name",f.target.value),[e]),r=E.useCallback(f=>e("basic","emergencyContact","number",f.target.value),[e]),i=E.useCallback(f=>e("basic","emergencyContact","relation",f.target.value),[e]);return h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(ja,{label:"Name",value:((o=t==null?void 0:t.emergencyContact)==null?void 0:o.name)||"",onChange:n,placeholder:"Emergency contact name"}),h.jsx(ja,{label:"Phone Number",value:((c=t==null?void 0:t.emergencyContact)==null?void 0:c.number)||"",onChange:r,placeholder:"Emergency contact phone"}),h.jsx(ja,{label:"Relation",value:((d=t==null?void 0:t.emergencyContact)==null?void 0:d.relation)||"",onChange:i,placeholder:"Relationship (e.g., Mother, Father, Spouse)",className:"md:col-span-2"})]})})}),CG=Oe.memo(({medicalData:t,onMultiSelectToggle:e,onNestedChange:n,setProfileData:r})=>{var b,w,S,C;const i=E.useCallback(N=>e("medical","chronicConditions",N),[e]),o=E.useCallback(N=>e("medical","allergies",N),[e]),c=E.useCallback(N=>e("medical","currentMedications",N),[e]),d=E.useCallback(N=>e("medical","disabilities",N),[e]),f=E.useCallback(N=>n("medical","vision","wearsGlasses",N.target.checked),[n]),m=E.useCallback(N=>n("medical","vision","leftEye",N.target.value),[n]),y=E.useCallback(N=>n("medical","vision","rightEye",N.target.value),[n]),x=E.useCallback(N=>{r(M=>({...M,medical:{...M.medical,hearingAids:N.target.checked}}))},[r]);return h.jsxs("div",{className:"space-y-8",children:[h.jsx(ec,{label:" Chronic Conditions",options:_G,selectedItems:(t==null?void 0:t.chronicConditions)||[],onToggle:i}),h.jsx(ec,{label:" Allergies",options:wG,selectedItems:(t==null?void 0:t.allergies)||[],onToggle:o}),h.jsx(ec,{label:" Current Medications",options:EG,selectedItems:(t==null?void 0:t.currentMedications)||[],onToggle:c}),h.jsx(ec,{label:" Disabilities",options:TG,selectedItems:(t==null?void 0:t.disabilities)||[],onToggle:d}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(Bd,{className:"text-blue-500"}),"Vision"]}),h.jsxs("label",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",checked:((b=t==null?void 0:t.vision)==null?void 0:b.wearsGlasses)||!1,onChange:f,className:"w-5 h-5 text-blue-500"}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:"Wears Glasses"})]}),((w=t==null?void 0:t.vision)==null?void 0:w.wearsGlasses)&&h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[h.jsx(ja,{label:"Left Eye",value:((S=t==null?void 0:t.vision)==null?void 0:S.leftEye)||"",onChange:m,placeholder:"e.g., -2.5"}),h.jsx(ja,{label:"Right Eye",value:((C=t==null?void 0:t.vision)==null?void 0:C.rightEye)||"",onChange:y,placeholder:"e.g., -3.0"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(L1,{className:"text-blue-500"}),"Hearing"]}),h.jsxs("label",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",checked:(t==null?void 0:t.hearingAids)||!1,onChange:x,className:"w-5 h-5 text-blue-500"}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:"Uses Hearing Aids"})]})]})]})]})}),NG=Oe.memo(({lifestyleData:t,onMultiSelectToggle:e})=>{const n=E.useCallback(i=>e("lifestyle","habits",i),[e]),r=E.useCallback(i=>e("lifestyle","preferences",i),[e]);return h.jsxs("div",{className:"space-y-8",children:[h.jsx(ec,{label:" Your Habits",options:xG,selectedItems:(t==null?void 0:t.habits)||[],onToggle:n}),h.jsx(ec,{label:" Dietary Preferences",options:bG,selectedItems:(t==null?void 0:t.preferences)||[],onToggle:r})]})});function IG(){const{user:t}=Bn(),e=Wr(),[n,r]=E.useState(1),[i,o]=E.useState(!0),[c,d]=E.useState(!1),[f,m]=E.useState(""),[y,x]=E.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],disabilities:[],vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]}});E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const k=await Fd(t.uid);k.success&&x(F=>({...F,...k.data}))}catch(k){console.error("Error fetching profile:",k)}finally{o(!1)}})()},[t]);const b=E.useCallback((R,k)=>{x(F=>({...F,basic:{...F.basic,[R]:k}}))},[]),w=E.useCallback((R,k,F,W)=>{x(V=>({...V,[R]:{...V[R],[k]:{...V[R][k],[F]:W}}}))},[]),S=E.useCallback((R,k,F)=>{x(W=>{const V=W[R][k]||[],j=V.includes(F)?V.filter(O=>O!==F):[...V,F];return{...W,[R]:{...W[R],[k]:j}}})},[]),C=E.useCallback(()=>{n<Fl.length&&r(R=>R+1)},[n]),N=E.useCallback(()=>{n>1&&r(R=>R-1)},[n]),M=E.useCallback(async()=>{if(t!=null&&t.uid){d(!0);try{(await UB(t.uid,y)).success&&(m("Profile updated successfully!"),setTimeout(()=>{m(""),e("../view-profile")},2e3))}catch(R){console.error("Error saving profile:",R)}finally{d(!1)}}},[t==null?void 0:t.uid,y,e]),I=E.useMemo(()=>{const{basic:R,medical:k,lifestyle:F}=y;switch(n){case 1:return h.jsx(AG,{basicData:R,onBasicChange:b,onNestedChange:w});case 2:return h.jsx(RG,{basicData:R,onNestedChange:w});case 3:return h.jsx(CG,{medicalData:k,onMultiSelectToggle:S,onNestedChange:w,setProfileData:x});case 4:return h.jsx(NG,{lifestyleData:F,onMultiSelectToggle:S});default:return null}},[n,y,b,w,S]);return i?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),h.jsx("div",{className:"space-y-4",children:[...Array(4)].map((R,k)=>h.jsx("div",{className:"h-64 bg-gray-300 rounded-xl"},k))})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"mb-12",children:h.jsx("div",{className:"flex items-center justify-between",children:Fl.map((R,k)=>h.jsxs("div",{className:"flex items-center flex-1",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`${n>=R.id?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-400 shadow-md"} rounded-full border-4 ${n>=R.id?"border-blue-200":"border-gray-200 dark:border-gray-700"} flex items-center justify-center h-16 w-16 font-bold text-lg transition-all duration-300`,children:n>R.id?h.jsx("span",{className:"text-2xl",children:""}):h.jsx("span",{children:R.id})}),h.jsxs("div",{className:"mt-4 text-center",children:[h.jsx("h3",{className:`text-sm font-bold ${n>=R.id?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:R.name}),h.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:R.description})]})]}),k!==Fl.length-1&&h.jsx("div",{className:`flex-1 h-1 mx-4 rounded-full ${n>R.id?"bg-blue-500":"bg-gray-200 dark:bg-gray-700"} transition-all duration-300`})]},R.id))})}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700 rounded-3xl p-8 md:p-12",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Edit ",Fl[n-1].name]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:Fl[n-1].description})]}),h.jsx(lr,{to:"../view-profile",className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all",children:"Cancel"})]})}),f&&h.jsx("div",{className:"mb-6 bg-green-100 dark:bg-green-900 border border-green-400 text-green-700 dark:text-green-300 px-4 py-3 rounded-xl",children:f}),I,h.jsxs("div",{className:"flex justify-between pt-8",children:[n>1?h.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-semibold py-3 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-200",children:[h.jsx(m3,{}),"Previous"]}):h.jsx("div",{}),n<Fl.length?h.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-8 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:["Next",h.jsx(p3,{})]}):h.jsxs("button",{onClick:M,disabled:c,className:"flex items-center gap-3 bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-xl hover:scale-105 transition-all shadow-lg disabled:opacity-50 disabled:transform-none",children:[h.jsx(nv,{}),c?"Saving...":"Save Profile"]})]})]})]})})}const tm=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Medical Context",description:"Your medical history and conditions"},{id:3,name:"Lifestyle",description:"Your habits and preferences"}],vS=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],xS=[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],DG=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],jG=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],MG=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease"],PG=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye"],kG=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements"],nm=t=>`
	mt-2 block w-full rounded-xl glass border soft-divider px-4 py-3 text-sm font-medium text-text placeholder-secondary
	focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all duration-200
	${t?"border-red-500/60 bg-red-50/50 dark:bg-red-900/20 focus:ring-red-400/30":""}
`.trim(),bS=t=>`
	px-4 py-3 rounded-xl cursor-pointer transition-all duration-200 text-sm font-medium text-center
	${t?"glass-cta text-white shadow-lg scale-[1.02]":"glass border soft-divider text-text hover-glow-primary"}
`.trim(),Yu=t=>`
	mt-1 block w-full rounded-xl glass border soft-divider sm:text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all
	${t?"border-red-500/60 bg-red-50/50 dark:bg-red-900/20":""}
`.trim();function OG(){const t=Wr(),{user:e}=Bn(),[n,r]=E.useState(1),[i,o]=E.useState(!1),[c,d]=E.useState({}),[f,m]=E.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]},onboardingCompleted:!1});E.useEffect(()=>{e&&e.onboarding===!0&&t("/user")},[e,t]);const y=I=>{const{name:R,value:k}=I.target;if(R.includes(".")){const[F,W]=R.split(".");m(V=>({...V,basic:{...V.basic,[F]:{...V.basic[F],[W]:k}}}))}else m(F=>({...F,basic:{...F.basic,[R]:k}}))},x=(I,R,k)=>{m(F=>({...F,[I]:{...F[I],[R]:k}}))},b=(I,R)=>{m(k=>({...k,lifestyle:{...k.lifestyle,[I]:R}}))},w=()=>{const I={},{basic:R}=f;return R.fullName||(I.fullName="Full name is required"),R.dob||(I.dob="Date of birth is required"),R.gender||(I.gender="Gender is required"),R.bloodGroup||(I.bloodGroup="Blood group is required"),R.height.value||(I.height="Height is required"),R.weight.value||(I.weight="Weight is required"),d(I),Object.keys(I).length===0},S=()=>(d({}),!0),C=()=>(d({}),!0),N=async()=>{if(!(n===1&&!w())){n===2&&S(),n===3&&C();try{o(!0);const I=n===1?{basic:f.basic,onboardingCompleted:!0}:n===2?{medical:f.medical}:n===3?{lifestyle:f.lifestyle}:{};if(e!=null&&e.uid&&Object.keys(I).length>0){const R=await LB(e.uid,I);if(!R.success)throw new Error(R.error||"Failed to save profile")}if(n===3){t("/user");return}r(R=>R+1)}catch(I){console.error("Error saving data:",I),d({submit:I.message})}finally{o(!1)}}},M=()=>{var I,R;switch(n){case 1:return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Full Name *"}),h.jsx("input",{type:"text",name:"fullName",value:f.basic.fullName,onChange:y,placeholder:"Enter your full name",className:nm(c.fullName)}),c.fullName&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.fullName})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Date of Birth *"}),h.jsx("input",{type:"date",name:"dob",value:f.basic.dob,onChange:y,className:nm(c.dob)}),c.dob&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.dob})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Gender *"}),h.jsx(wt,{value:f.basic.gender,onChange:k=>y({target:{name:"gender",value:k}}),children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:Yu(c.gender),children:h.jsx("span",{className:f.basic.gender?"text-text":"text-secondary",children:((I=vS.find(k=>k.value===f.basic.gender))==null?void 0:I.label)||"Select Gender"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl",children:vS.slice(1).map(k=>h.jsx(wt.Option,{value:k.value,className:({active:F,selected:W})=>`cursor-pointer select-none px-4 py-3 text-sm ${F?"bg-white/10":""} ${W?"text-primary font-semibold":"text-text"}`,children:k.label},k.value))})]})}),c.gender&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.gender})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Blood Group *"}),h.jsx(wt,{value:f.basic.bloodGroup,onChange:k=>y({target:{name:"bloodGroup",value:k}}),children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:Yu(c.bloodGroup),children:h.jsx("span",{className:f.basic.bloodGroup?"text-text":"text-secondary",children:((R=xS.find(k=>k.value===f.basic.bloodGroup))==null?void 0:R.label)||"Select Blood Group"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl",children:xS.slice(1).map(k=>h.jsx(wt.Option,{value:k.value,className:({active:F,selected:W})=>`cursor-pointer select-none px-4 py-3 text-sm ${F?"bg-white/10":""} ${W?"text-primary font-semibold":"text-text"}`,children:k.label},k.value))})]})}),c.bloodGroup&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.bloodGroup})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Height *"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",name:"height.value",value:f.basic.height.value,onChange:y,placeholder:"165",className:`${nm(c.height)} flex-1`}),h.jsxs("select",{name:"height.unit",value:f.basic.height.unit,onChange:y,className:"rounded-xl glass border soft-divider px-4 py-3 text-sm font-medium w-20",children:[h.jsx("option",{value:"cm",children:"cm"}),h.jsx("option",{value:"ft",children:"ft"})]})]}),c.height&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.height})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Weight *"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",name:"weight.value",value:f.basic.weight.value,onChange:y,placeholder:"70",className:`${nm(c.weight)} flex-1`}),h.jsxs("select",{name:"weight.unit",value:f.basic.weight.unit,onChange:y,className:"rounded-xl glass border soft-divider px-4 py-3 text-sm font-medium w-20",children:[h.jsx("option",{value:"kg",children:"kg"}),h.jsx("option",{value:"lbs",children:"lbs"})]})]}),c.weight&&h.jsx("p",{className:"mt-2 text-sm text-red-500",children:c.weight})]})]}),c.submit&&h.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40",children:h.jsx("p",{className:"text-sm text-red-500",children:c.submit})}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsx("button",{type:"button",onClick:N,disabled:i,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:i?"Saving...":"Next Step "})})]});case 2:return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:" Chronic Conditions"}),h.jsx(wt,{value:f.medical.chronicConditions,onChange:k=>x("medical","chronicConditions",k),multiple:!0,children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:Yu(!1),children:h.jsx("span",{className:f.medical.chronicConditions.length?"text-text":"text-secondary",children:f.medical.chronicConditions.length?f.medical.chronicConditions.join(", "):"Select chronic conditions"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl",children:MG.map(k=>h.jsx(wt.Option,{value:k,className:({active:F,selected:W})=>`cursor-pointer select-none px-4 py-3 text-sm ${F?"bg-white/10":""} ${W?"text-primary font-semibold":"text-text"}`,children:k},k))})]})}),f.medical.chronicConditions.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:f.medical.chronicConditions.map((k,F)=>h.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:k},F))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:" Allergies"}),h.jsx(wt,{value:f.medical.allergies,onChange:k=>x("medical","allergies",k),multiple:!0,children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:Yu(!1),children:h.jsx("span",{className:f.medical.allergies.length?"text-text":"text-secondary",children:f.medical.allergies.length?f.medical.allergies.join(", "):"Select allergies"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl",children:PG.map(k=>h.jsx(wt.Option,{value:k,className:({active:F,selected:W})=>`cursor-pointer select-none px-4 py-3 text-sm ${F?"bg-white/10":""} ${W?"text-primary font-semibold":"text-text"}`,children:k},k))})]})}),f.medical.allergies.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:f.medical.allergies.map((k,F)=>h.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:k},F))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:" Current Medications"}),h.jsx(wt,{value:f.medical.currentMedications,onChange:k=>x("medical","currentMedications",k),multiple:!0,children:h.jsxs("div",{className:"relative",children:[h.jsx(wt.Button,{className:Yu(!1),children:h.jsx("span",{className:f.medical.currentMedications.length?"text-text":"text-secondary",children:f.medical.currentMedications.length?f.medical.currentMedications.join(", "):"Select medications"})}),h.jsx(wt.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl",children:kG.map(k=>h.jsx(wt.Option,{value:k,className:({active:F,selected:W})=>`cursor-pointer select-none px-4 py-3 text-sm ${F?"bg-white/10":""} ${W?"text-primary font-semibold":"text-text"}`,children:k},k))})]})}),f.medical.currentMedications.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:f.medical.currentMedications.map((k,F)=>h.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:k},F))})]}),c.submit&&h.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:c.submit}),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsx("button",{type:"button",onClick:()=>r(k=>k-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:" Back"}),h.jsx("button",{type:"button",onClick:N,disabled:i,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:i?"Saving...":"Next Step "})]})]});case 3:return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:" Your Habits"}),h.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select all that apply"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:DG.map(k=>{const F=f.lifestyle.habits.includes(k);return h.jsx("button",{type:"button",onClick:()=>{const W=f.lifestyle.habits;b("habits",F?W.filter(V=>V!==k):[...W,k])},className:bS(F),children:k},k)})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:" Dietary Preferences"}),h.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select your dietary preferences and restrictions"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:jG.map(k=>{const F=f.lifestyle.preferences.includes(k);return h.jsx("button",{type:"button",onClick:()=>{const W=f.lifestyle.preferences;b("preferences",F?W.filter(V=>V!==k):[...W,k])},className:bS(F),children:k},k)})})]}),c.submit&&h.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:c.submit}),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsx("button",{type:"button",onClick:()=>r(k=>k-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:" Back"}),h.jsx("button",{type:"button",onClick:N,disabled:i,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:i?"Saving...":"Finish "})]})]});default:return null}};return h.jsx("div",{className:"min-h-screen bg-background aurora-bg px-3 sm:px-6 py-6 sm:py-8",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsx("div",{className:"mb-8 sm:mb-10",children:h.jsx("div",{className:"glass rounded-2xl p-4 sm:p-6 border soft-divider",children:h.jsx("div",{className:"flex items-center justify-between gap-2",children:tm.map((I,R)=>h.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[h.jsxs("div",{className:"flex flex-col items-center w-full",children:[h.jsx("div",{className:`rounded-full h-12 w-12 sm:h-14 sm:w-14 flex items-center justify-center font-bold text-base sm:text-lg shadow-lg ${n>=I.id?"bg-gradient-to-r from-primary to-accent text-white":"glass border soft-divider text-secondary"}`,children:n>I.id?h.jsx("span",{className:"text-xl",children:""}):h.jsx("span",{children:I.id})}),h.jsxs("div",{className:"mt-2 text-center min-w-0",children:[h.jsx("h3",{className:`text-[11px] sm:text-sm font-bold truncate ${n>=I.id?"text-text":"text-secondary"}`,children:I.name}),h.jsx("p",{className:"hidden sm:block text-xs text-secondary mt-1",children:I.description})]})]}),R!==tm.length-1&&h.jsx("div",{className:`flex-1 h-1 mx-2 sm:mx-4 rounded-full ${n>I.id?"bg-primary/60":"bg-white/20 dark:bg-black/20"}`})]},I.id))})})}),h.jsxs("div",{className:"glass-elevated rounded-3xl p-5 sm:p-8 border soft-divider",children:[h.jsxs("div",{className:"mb-6 sm:mb-8",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text mb-2",children:tm[n-1].name}),h.jsx("p",{className:"text-secondary",children:tm[n-1].description})]}),M()]})]})})}function VG(){var x,b,w,S,C,N,M,I;const{user:t}=Bn(),[e,n]=E.useState(null),[r,i]=E.useState(!0);if(E.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const k=await Fd(t.uid);k.success&&n(k.data)}catch(k){console.error("Error fetching profile:",k)}finally{i(!1)}})()},[t]),r)return h.jsx("div",{className:"min-h-screen bg-background p-6",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,k)=>h.jsx("div",{className:"h-64 bg-gray-300 rounded-xl"},k))})]})})});if(!e)return h.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-text mb-4",children:"Profile Not Found"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Unable to load profile data"}),h.jsx(lr,{to:"/user",className:"bg-primary text-white px-6 py-3 rounded-xl hover:bg-accent transition-all",children:"Go Back to Dashboard"})]})});const{basic:o,medical:c,lifestyle:d}=e,f=({title:R,icon:k,children:F,className:W=""})=>h.jsxs("div",{className:`relative bg-surface border-2 border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-lg transition-all duration-300 hover:shadow-xl hover:border-accent group ${W}`,children:[h.jsx("div",{className:"absolute inset-0 bg-surface opacity-100 group-hover:opacity-90 transition-opacity duration-300 rounded-xl pointer-events-none z-0"}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(k,{className:"text-accent text-xl"}),h.jsx("h3",{className:"text-lg font-bold text-text",children:R})]}),F]})]}),m=({label:R,value:k,icon:F})=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-accent-10 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[F&&h.jsx(F,{className:"text-accent text-sm"}),h.jsx("span",{className:"text-sm font-medium text-text",children:R})]}),h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:k||"Not specified"})]}),y=({items:R,colorClass:k="bg-accent-20 text-accent"})=>h.jsx("div",{className:"flex flex-wrap gap-2",children:R&&R.length>0?R.map((F,W)=>h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k} border border-accent-30`,children:F},W)):h.jsx("span",{className:"text-sm text-gray-500 italic",children:"None specified"})});return h.jsx("div",{className:"min-h-screen bg-background p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto pb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-text mb-2",children:"Complete Profile"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"View all your profile information"})]}),h.jsxs(lr,{to:"../edit-profile",className:"flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-xl hover:bg-accent hover:scale-105 transition-all shadow-lg",children:[h.jsx(Nm,{}),"Edit Profile"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[h.jsx(f,{title:"Basic Information",icon:ud,className:"lg:col-span-1",children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(m,{label:"Full Name",value:o==null?void 0:o.fullName,icon:ud}),h.jsx(m,{label:"Gender",value:o==null?void 0:o.gender}),h.jsx(m,{label:"Date of Birth",value:o!=null&&o.dob?new Date(o.dob).toLocaleDateString():null,icon:jP}),h.jsx(m,{label:"Contact Number",value:o==null?void 0:o.contactNumber,icon:o0})]})}),h.jsx(f,{title:"Physical Details",icon:ep,className:"lg:col-span-1",children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(m,{label:"Height",value:o!=null&&o.height?`${o.height.value} ${o.height.unit}`:null,icon:ep}),h.jsx(m,{label:"Weight",value:o!=null&&o.weight?`${o.weight.value} ${o.weight.unit}`:null,icon:Vx}),h.jsx(m,{label:"Blood Group",value:o==null?void 0:o.bloodGroup,icon:Ox})]})}),h.jsx(f,{title:"Emergency Contact",icon:o0,className:"lg:col-span-1",children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(m,{label:"Name",value:(x=o==null?void 0:o.emergencyContact)==null?void 0:x.name,icon:ud}),h.jsx(m,{label:"Phone",value:(b=o==null?void 0:o.emergencyContact)==null?void 0:b.number,icon:o0}),h.jsx(m,{label:"Relation",value:(w=o==null?void 0:o.emergencyContact)==null?void 0:w.relation})]})}),h.jsx(f,{title:"Chronic Conditions",icon:w3,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:c==null?void 0:c.chronicConditions,colorClass:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})}),h.jsx(f,{title:"Allergies",icon:xN,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:c==null?void 0:c.allergies,colorClass:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"})}),h.jsx(f,{title:"Current Medications",icon:vN,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:c==null?void 0:c.currentMedications,colorClass:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"})}),h.jsx(f,{title:"Disabilities",icon:N3,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:c==null?void 0:c.disabilities,colorClass:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"})}),h.jsx(f,{title:"Vision & Hearing",icon:Bd,className:"lg:col-span-1",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border border-gray-200 dark:border-gray-600",children:[h.jsxs("span",{className:"text-sm font-medium text-text flex items-center gap-2",children:[h.jsx(Bd,{className:"text-accent"}),"Wears Glasses"]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(S=c==null?void 0:c.vision)!=null&&S.wearsGlasses?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(C=c==null?void 0:c.vision)!=null&&C.wearsGlasses?"Yes":"No"})]}),((N=c==null?void 0:c.vision)==null?void 0:N.wearsGlasses)&&h.jsxs(h.Fragment,{children:[h.jsx(m,{label:"Left Eye",value:(M=c==null?void 0:c.vision)==null?void 0:M.leftEye}),h.jsx(m,{label:"Right Eye",value:(I=c==null?void 0:c.vision)==null?void 0:I.rightEye})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border border-gray-200 dark:border-gray-600",children:[h.jsxs("span",{className:"text-sm font-medium text-text flex items-center gap-2",children:[h.jsx(L1,{className:"text-accent"}),"Uses Hearing Aids"]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c!=null&&c.hearingAids?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c!=null&&c.hearingAids?"Yes":"No"})]})]})}),h.jsx(f,{title:"Lifestyle Habits",icon:S3,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:d==null?void 0:d.habits,colorClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})}),h.jsx(f,{title:"Dietary Preferences",icon:C3,className:"lg:col-span-2 xl:col-span-1",children:h.jsx(y,{items:d==null?void 0:d.preferences,colorClass:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"})})]})]})})}const LG=()=>{const t=Js();return E.useLayoutEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,Promise.resolve().then(()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0})},[t.pathname]),null},UG=()=>{const t=Js(),[e,n]=E.useState(1),r=E.useRef(t.pathname);return E.useEffect(()=>{const i=r.current,o=t.pathname;n(o.length>i.length?1:-1),r.current=o},[t]),h.jsxs("div",{className:"relative min-h-screen w-full bg-background text-text",children:[h.jsx(LG,{}),h.jsxs(e8,{location:t,children:[h.jsx(xr,{path:"/",element:h.jsx(VB,{})}),h.jsx(xr,{path:"/signup",element:h.jsx(YB,{})}),h.jsx(xr,{path:"/login",element:h.jsx(WB,{})}),h.jsxs(xr,{path:"/user",element:h.jsx(P4,{children:h.jsx(QB,{})}),children:[h.jsx(xr,{index:!0,element:h.jsx(KB,{})}),h.jsx(xr,{path:"onboarding",element:h.jsx(OG,{})}),h.jsx(xr,{path:"medical-history",element:h.jsx($B,{})}),h.jsx(xr,{path:"edit-profile",element:h.jsx(IG,{})}),h.jsx(xr,{path:"view-profile",element:h.jsx(VG,{})})]}),h.jsxs(xr,{path:"/doctor",element:h.jsx(P4,{children:h.jsx(XB,{})}),children:[h.jsx(xr,{index:!0,element:h.jsx(ez,{})}),h.jsx(xr,{path:"shared-profile/:shareId",element:h.jsx(tz,{})})]})]},t.pathname)]})},FG=E.createContext();function BG({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(!0),o=E.useCallback(async()=>{if(!Ls.currentUser){console.log("No user ID found");return}console.log("Refreshing user profile"),i(!0);try{const c=await Fd(Ls.currentUser.uid);n({uid:Ls.currentUser.uid,...c})}catch(c){console.error("Error refreshing user profile:",c)}finally{i(!1)}},[]);return E.useEffect(()=>{const c=Ls.onAuthStateChanged(async d=>{if(i(!0),d){const f=await Fd(d.uid);n({uid:d.uid,...f})}else n(null);i(!1)});return()=>c()},[]),h.jsx(FG.Provider,{value:{userProfileState:e,refreshUserProfile:o,loading:r},children:t})}oI.createRoot(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(T8,{children:h.jsx(MB,{children:h.jsx(BG,{children:h.jsx(UG,{})})})})}));
