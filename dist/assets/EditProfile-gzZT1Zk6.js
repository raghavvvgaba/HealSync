import{f as F,r as u,j as e,R as v,L,ae as T,E as $,ap as H}from"./vendor-B8hWb8lf.js";import{u as R,g as z,l as V}from"./index-CTefgPQJ.js";import{I as g}from"./ui-jvWLxt96.js";import"./vendor-libs-BUKHmL5v.js";import"./firebase-DrKyEM-o.js";const h=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Emergency Contact",description:"Emergency contact information"},{id:3,name:"Medical Information",description:"Your medical history and conditions"},{id:4,name:"Lifestyle",description:"Your habits and preferences"}],M=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],U=["A+","A-","B+","B-","O+","O-","AB+","AB-"],W=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],Y=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],K=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease"],J=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye"],_=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements"],q=["Mobility Impairment","Visual Impairment","Hearing Impairment","Speech Impairment","Cognitive Disability","Intellectual Disability","Learning Disability","Neurological Disability","Psychiatric Disability","Developmental Disability","Wheelchair User","Prosthetic User","Amputee","Multiple Sclerosis","Cerebral Palsy","Spinal Cord Injury","Neurological Disorder","Chronic Pain","Missing Limb"],S="w-full rounded-xl glass border soft-divider px-4 py-3 text-sm font-medium text-text placeholder-secondary focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all",P="w-full rounded-xl glass border soft-divider px-4 py-3 text-left text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40",E=(s,o)=>`cursor-pointer select-none px-4 py-3 text-sm rounded-lg mx-1 my-0.5 ${s?"bg-white/10":""} ${o?"text-primary font-semibold":"text-text"}`,Q=s=>`px-4 py-2 rounded-xl text-xs sm:text-sm font-medium transition-all border soft-divider ${s?"glass-cta text-white shadow-lg scale-[1.02]":"glass text-text hover-glow-primary"}`,p=v.memo(({label:s,type:o="text",value:i,onChange:n,placeholder:r,className:d=""})=>e.jsxs("div",{className:d,children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:s}),e.jsx("input",{type:o,value:i,onChange:n,placeholder:r,className:S})]})),b=v.memo(({label:s,options:o,selectedItems:i,onToggle:n,helper:r})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-bold text-text",children:s}),i.length>0&&e.jsxs("span",{className:"text-[11px] glass px-2 py-0.5 rounded-full border soft-divider text-secondary",children:[i.length," selected"]})]}),r&&e.jsx("p",{className:"text-xs text-secondary mt-1",children:r})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2.5",children:o.map(d=>{const l=i.includes(d);return e.jsx("button",{type:"button",onClick:()=>n(d),className:Q(l),children:d},d)})})]})),X=v.memo(({basicData:s,onBasicChange:o,onNestedChange:i})=>{var d;const n=(l,a)=>o(l,a.target?a.target.value:a),r=(l,a)=>c=>i("basic",l,a,c.target.value);return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsx(p,{label:"Full Name",value:s.fullName,onChange:l=>n("fullName",l),placeholder:"Enter your full name",className:"sm:col-span-2"}),e.jsx(p,{label:"Date of Birth",type:"date",value:s.dob,onChange:l=>n("dob",l)}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Gender"}),e.jsx(g,{value:s.gender,onChange:l=>n("gender",l),children:e.jsxs("div",{className:"relative",children:[e.jsx(g.Button,{className:P,children:e.jsx("span",{className:s.gender?"text-text":"text-secondary",children:((d=M.find(l=>l.value===s.gender))==null?void 0:d.label)||"Select Gender"})}),e.jsx(g.Options,{className:"absolute z-20 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl p-1",children:M.slice(1).map(l=>e.jsx(g.Option,{value:l.value,className:({active:a,selected:c})=>E(a,c),children:l.label},l.value))})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Blood Group"}),e.jsx(g,{value:s.bloodGroup,onChange:l=>n("bloodGroup",l),children:e.jsxs("div",{className:"relative",children:[e.jsx(g.Button,{className:P,children:e.jsx("span",{className:s.bloodGroup?"text-text":"text-secondary",children:s.bloodGroup||"Select Blood Group"})}),e.jsx(g.Options,{className:"absolute z-20 mt-2 max-h-60 w-full overflow-auto rounded-xl glass-elevated border soft-divider shadow-xl p-1",children:U.map(l=>e.jsx(g.Option,{value:l,className:({active:a,selected:c})=>E(a,c),children:l},l))})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Height"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:s.height.value,onChange:r("height","value"),placeholder:"170",className:`${S} flex-1`}),e.jsxs("select",{value:s.height.unit,onChange:r("height","unit"),className:"glass border soft-divider rounded-xl px-3 py-3 text-sm font-medium w-20",children:[e.jsx("option",{value:"cm",children:"cm"}),e.jsx("option",{value:"ft",children:"ft"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-secondary mb-1",children:"Weight"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:s.weight.value,onChange:r("weight","value"),placeholder:"70",className:`${S} flex-1`}),e.jsxs("select",{value:s.weight.unit,onChange:r("weight","unit"),className:"glass border soft-divider rounded-xl px-3 py-3 text-sm font-medium w-20",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"lbs",children:"lbs"})]})]})]}),e.jsx(p,{label:"Contact Number",value:s.contactNumber,onChange:l=>n("contactNumber",l),placeholder:"Enter your phone number",className:"sm:col-span-2"})]})})}),Z=v.memo(({basicData:s,onNestedChange:o})=>{const i=n=>r=>o("basic","emergencyContact",n,r.target.value);return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(p,{label:"Name",value:s.emergencyContact.name,onChange:i("name"),placeholder:"Contact name"}),e.jsx(p,{label:"Phone",value:s.emergencyContact.number,onChange:i("number"),placeholder:"Contact number"}),e.jsx(p,{label:"Relation",value:s.emergencyContact.relation,onChange:i("relation"),placeholder:"Relationship (e.g., Mother)",className:"md:col-span-2"})]})})}),ee=v.memo(({medicalData:s,onMultiSelectToggle:o,onNestedChange:i,setProfileData:n})=>{const r=(a,c)=>o("medical",a,c),d=a=>c=>i("medical","vision",a,a==="wearsGlasses"?c.target.checked:c.target.value),l=a=>n(c=>({...c,medical:{...c.medical,hearingAids:a.target.checked}}));return e.jsxs("div",{className:"space-y-10",children:[e.jsx(b,{label:"🩺 Chronic Conditions",options:K,selectedItems:s.chronicConditions,onToggle:a=>r("chronicConditions",a)}),e.jsx(b,{label:"⚠️ Allergies",options:J,selectedItems:s.allergies,onToggle:a=>r("allergies",a)}),e.jsx(b,{label:"💊 Current Medications",options:_,selectedItems:s.currentMedications,onToggle:a=>r("currentMedications",a)}),e.jsx(b,{label:"♿ Disabilities",options:q,selectedItems:s.disabilities,onToggle:a=>r("disabilities",a)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-text tracking-wide",children:"Vision"}),e.jsxs("label",{className:"flex items-center gap-3 text-sm text-text",children:[e.jsx("input",{type:"checkbox",checked:s.vision.wearsGlasses,onChange:d("wearsGlasses"),className:"w-4 h-4 rounded border soft-divider focus:ring-primary/40"})," Wears Glasses"]}),s.vision.wearsGlasses&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(p,{label:"Left Eye",value:s.vision.leftEye,onChange:d("leftEye"),placeholder:"-2.5"}),e.jsx(p,{label:"Right Eye",value:s.vision.rightEye,onChange:d("rightEye"),placeholder:"-3.0"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-text tracking-wide",children:"Hearing"}),e.jsxs("label",{className:"flex items-center gap-3 text-sm text-text",children:[e.jsx("input",{type:"checkbox",checked:s.hearingAids,onChange:l,className:"w-4 h-4 rounded border soft-divider focus:ring-primary/40"})," Uses Hearing Aids"]})]})]})]})}),se=v.memo(({lifestyleData:s,onMultiSelectToggle:o})=>e.jsxs("div",{className:"space-y-10",children:[e.jsx(b,{label:"🏃‍♂️ Your Habits",options:W,selectedItems:s.habits,onToggle:i=>o("lifestyle","habits",i)}),e.jsx(b,{label:"🍽️ Dietary Preferences",options:Y,selectedItems:s.preferences,onToggle:i=>o("lifestyle","preferences",i)})]}));function re(){const{user:s}=R(),o=F(),[i,n]=u.useState(1),[r,d]=u.useState(!0),[l,a]=u.useState(!1),[c,k]=u.useState(""),[w,y]=u.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],disabilities:[],vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]}});u.useEffect(()=>{(async()=>{if(s!=null&&s.uid)try{const t=await z(s.uid);t.success&&y(m=>({...m,...t.data}))}finally{d(!1)}})()},[s==null?void 0:s.uid]);const A=u.useCallback((t,m)=>{y(x=>({...x,basic:{...x.basic,[t]:m}}))},[]),N=u.useCallback((t,m,x,j)=>{y(f=>({...f,[t]:{...f[t],[m]:{...f[t][m],[x]:j}}}))},[]),C=u.useCallback((t,m,x)=>{y(j=>{const f=j[t][m]||[];return{...j,[t]:{...j[t],[m]:f.includes(x)?f.filter(D=>D!==x):[...f,x]}}})},[]),G=()=>i<h.length&&n(t=>t+1),I=()=>i>1&&n(t=>t-1),B=async()=>{if(s!=null&&s.uid){a(!0);try{(await V(s.uid,w)).success&&(k("Profile updated"),setTimeout(()=>{k(""),o("../view-profile")},1500))}finally{a(!1)}}},O=u.useMemo(()=>{const{basic:t,medical:m,lifestyle:x}=w;switch(i){case 1:return e.jsx(X,{basicData:t,onBasicChange:A,onNestedChange:N});case 2:return e.jsx(Z,{basicData:t,onNestedChange:N});case 3:return e.jsx(ee,{medicalData:m,onMultiSelectToggle:C,onNestedChange:N,setProfileData:y});case 4:return e.jsx(se,{lifestyleData:x,onMultiSelectToggle:C});default:return null}},[i,w,A,N,C]);return r?e.jsx("div",{className:"min-h-screen aurora-bg px-4 sm:px-8 py-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto animate-pulse space-y-8",children:[e.jsx("div",{className:"h-10 w-60 glass rounded-xl"}),e.jsx("div",{className:"glass rounded-3xl p-6 border soft-divider space-y-4",children:Array.from({length:4}).map((t,m)=>e.jsx("div",{className:"h-14 glass rounded-xl border soft-divider"},m))})]})}):e.jsx("div",{className:"min-h-screen aurora-bg px-3 sm:px-6 py-8 sm:py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[e.jsx("div",{className:"hidden sm:block glass rounded-2xl p-5 sm:p-6 border soft-divider",children:e.jsx("div",{className:"flex items-center justify-between gap-2",children:h.map((t,m)=>e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsxs("button",{type:"button",onClick:()=>n(t.id),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),n(t.id))},"aria-current":i===t.id?"step":void 0,"aria-label":`Go to step ${t.id}: ${t.name}`,className:"group flex flex-col items-center w-full focus:outline-none",children:[e.jsx("div",{className:`h-12 w-12 sm:h-14 sm:w-14 rounded-full flex items-center justify-center font-bold shadow-lg transition-all cursor-pointer ring-offset-2 ring-primary/40 focus-visible:ring-2 ${i>=t.id?"bg-gradient-to-r from-primary to-accent text-white":"glass text-secondary border soft-divider group-hover:text-text"}`,children:i>t.id?"✓":t.id}),e.jsx("div",{className:"mt-2 text-center px-1 min-w-0",children:e.jsx("p",{className:`text-[10px] sm:text-xs font-semibold uppercase tracking-wide truncate transition-colors ${i===t.id?"text-text":"group-hover:text-text text-secondary"}`,children:t.name})})]}),m!==h.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-1 sm:mx-3 rounded-full transition-colors ${i>t.id?"bg-primary/60":"bg-white/15 dark:bg-black/20 group-hover:bg-primary/40"}`})]},t.id))})}),e.jsxs("div",{className:"sm:hidden glass rounded-2xl p-4 border soft-divider",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-white/15","aria-hidden":"true"}),e.jsx("div",{className:"absolute top-1/2 left-0 h-px bg-primary/60 transition-all duration-300",style:{width:`${(i-1)/(h.length-1)*100}%`},"aria-hidden":"true"}),e.jsx("div",{className:"flex justify-between items-center",children:h.map(t=>e.jsx("button",{type:"button",onClick:()=>n(t.id),"aria-label":`Go to step ${t.id}: ${t.name}`,className:`relative z-10 h-11 w-11 rounded-full flex items-center justify-center text-sm font-semibold transition-all ring-offset-2 ring-primary/40 focus:outline-none focus-visible:ring-2 ${i>=t.id?"bg-gradient-to-r from-primary to-accent text-white shadow-lg":"glass text-secondary border soft-divider active:scale-95"}`,children:i>t.id?"✓":t.id},t.id))})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-[11px] font-semibold tracking-wide text-text uppercase",children:h[i-1].name}),e.jsx("p",{className:"text-[10px] mt-1 text-secondary line-clamp-2",children:h[i-1].description})]})]}),e.jsxs("div",{className:"glass-elevated rounded-3xl p-6 sm:p-10 border soft-divider",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-text mb-2",children:["Edit ",h[i-1].name]}),e.jsx("p",{className:"text-secondary text-sm",children:h[i-1].description})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(L,{to:"../view-profile",className:"glass rounded-xl border soft-divider px-5 py-3 text-sm font-semibold text-text hover-glow-primary",children:"Cancel"})})]}),c&&e.jsx("div",{className:"mb-6 glass border soft-divider rounded-xl p-4 text-green-400 text-sm font-semibold",children:c}),O,e.jsxs("div",{className:"flex justify-between pt-10",children:[i>1?e.jsxs("button",{onClick:I,className:"glass rounded-xl border soft-divider px-6 py-3 text-sm font-semibold flex items-center gap-2 hover-glow-primary",children:[e.jsx(T,{className:"text-primary"})," Previous"]}):e.jsx("div",{}),i<h.length?e.jsxs("button",{onClick:G,className:"glass-cta rounded-xl px-8 py-3 text-sm font-semibold flex items-center gap-2",children:["Next ",e.jsx($,{})]}):e.jsxs("button",{onClick:B,disabled:l,className:"glass-cta rounded-xl px-8 py-3 text-sm font-semibold flex items-center gap-2 disabled:opacity-50",children:[e.jsx(H,{})," ",l?"Saving...":"Save Profile"]})]})]})]})})}export{re as default};
