import{f as k,r as o,j as e,x as f,X as F,$ as E,Y as S,g as D,Z as L,F as _,_ as C,y as U,L as A}from"./vendor-B8hWb8lf.js";import{u as R,d as H}from"./index-CTefgPQJ.js";import{d as I,b as P}from"./firebase-DrKyEM-o.js";import{N as y}from"./Navbar-gTPHZHyK.js";import{m as s}from"./framer-CjQtnr63.js";import"./vendor-libs-BUKHmL5v.js";function T(){const l=k(),{login:g,user:d,userRole:i,loading:n}=R();o.useEffect(()=>{!n&&d&&i&&l(i==="doctor"?"/doctor":"/user")},[d,i,n,l]);const[t,m]=o.useState({email:"",password:"",role:"user"}),[x,j]=o.useState(!1),[u,c]=o.useState("");if(n)return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-primary",children:"Loading..."})})})]});const h=a=>{m({...t,[a.target.name]:a.target.value}),c("")},p=a=>{m(r=>({...r,role:a}))},w=async a=>{a.preventDefault();try{const{user:r}=await g(t.email,t.password);console.log("Login successful:",r);const v=I(H,"users",r.uid),b=await P(v);if(b.exists()){const N=b.data().role;l(N==="doctor"?"/doctor":"/user")}else c("User profile not found. Please contact support.")}catch(r){c("Invalid email or password."),console.error("Login failed:",r.message)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex",children:[e.jsxs(s.div,{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary/20 rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-secondary/20 rounded-full blur-xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-accent/20 rounded-full blur-lg"})]}),e.jsx("div",{className:"relative z-10 mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-primary to-secondary rounded-3xl flex items-center justify-center shadow-2xl transform rotate-6",children:e.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center",children:e.jsx(f,{className:"text-6xl text-primary"})})}),e.jsx(s.div,{className:"absolute -top-4 -right-4 w-16 h-16 bg-accent rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[-5,5,-5]},transition:{duration:3,repeat:1/0},children:e.jsx(F,{className:"text-2xl text-white"})}),e.jsx(s.div,{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-secondary rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[5,-5,5]},transition:{duration:3,repeat:1/0,delay:1},children:e.jsx(E,{className:"text-2xl text-white"})})]})}),e.jsxs("div",{className:"space-y-6 text-center max-w-md",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Welcome to HealSync"}),e.jsx("p",{className:"text-lg text-text/80 mb-8",children:"Your comprehensive healthcare management platform"})]})]}),e.jsx(s.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"lg:hidden text-center mb-8",children:[e.jsx(s.div,{className:"w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:e.jsx(f,{className:"text-3xl text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"HealSync"}),e.jsx("p",{className:"text-text/70",children:"Welcome back to your account"})]}),e.jsxs(s.form,{onSubmit:w,className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border border-accent-40 p-8 rounded-3xl shadow-2xl dark:shadow-white/5 space-y-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-3xl lg:text-3xl font-bold text-primary",children:"Welcome Back"}),e.jsx("p",{className:"text-text/70 mt-2",children:"Choose your account type and login"})]}),e.jsxs("div",{className:"flex gap-3 p-2 bg-gray-100/80 dark:bg-white/5 rounded-2xl backdrop-blur-sm",children:[e.jsxs("button",{type:"button",onClick:()=>p("user"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${t.role==="user"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[e.jsx(S,{className:"text-sm"}),e.jsx("span",{className:"text-sm",children:"User"})]}),e.jsxs("button",{type:"button",onClick:()=>p("doctor"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${t.role==="doctor"?"bg-white dark:bg-white/10 text-primary dark:text-primary shadow-lg dark:shadow-[0_4px_8px_0_rgba(255,255,255,0.10)] transform scale-105 backdrop-blur-sm":"text-text/70 hover:text-primary hover:bg-white/50 dark:hover:bg-white/5"}`,children:[e.jsx(D,{className:"text-sm"}),e.jsx("span",{className:"text-sm",children:"Doctor"})]})]}),u&&e.jsx(s.div,{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-3 rounded-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:u}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-text/80",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(L,{className:"text-text drop-shadow-none"})}),e.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0,value:t.email,onChange:h,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-text/80",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(_,{className:"text-text drop-shadow-none"})}),e.jsx("input",{name:"password",type:x?"text":"password",placeholder:"Enter your password",required:!0,value:t.password,onChange:h,className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 dark:bg-white/5 border border-gray-200/60 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] focus:border dark:focus:border-[var(--color-primary)] transition-all backdrop-blur-sm"}),e.jsx("button",{type:"button",onClick:()=>j(a=>!a),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-primary transition-colors",children:x?e.jsx(C,{}):e.jsx(U,{})})]})]}),e.jsxs(s.button,{type:"submit",className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Log In as ",t.role==="doctor"?"Doctor":"User"]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("p",{className:"text-text/70",children:["Don't have an account?"," ",e.jsx(A,{to:"/signup",className:"text-primary font-semibold hover:underline transition-all",children:"Create Account"})]})})]})]})})]})]})}export{T as default};
