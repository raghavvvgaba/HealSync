import{f as T,r as b,j as e}from"./vendor-B8hWb8lf.js";import{u as R,m as q,d as z}from"./index-CTefgPQJ.js";import{d as W,u as U}from"./firebase-DrKyEM-o.js";import{I as n}from"./ui-jvWLxt96.js";import"./vendor-libs-BUKHmL5v.js";const N=[{id:1,name:"Basic Information",description:"Personal and contact details"},{id:2,name:"Medical Context",description:"Your medical history and conditions"},{id:3,name:"Lifestyle",description:"Your habits and preferences"}],B=[{value:"",label:"Select Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-binary"},{value:"prefer-not-to-say",label:"Prefer not to say"}],D=[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],V=["Regular Exercise","Smoking","Drinking Alcohol","Meditation","Yoga","Running/Jogging","Swimming","Cycling","Weight Training","Walking","Late Night Sleep","Early Morning Routine","Screen Time (High)","Reading","Gaming"],Y=["Vegetarian","Vegan","Non-Vegetarian","Gluten-Free","Low Sugar","No Dairy","Organic Food","Home Cooked Meals","Fast Food","Spicy Food","Low Sodium","High Protein Diet"],_=["High Blood Pressure","Diabetes Type 1","Diabetes Type 2","Asthma","Heart Disease","Cancer","Stroke","Arthritis","Depression","Anxiety","COPD","Kidney Disease","Liver Disease","Thyroid Disorder","Migraine","Epilepsy","Fibromyalgia","Chronic Fatigue Syndrome","Osteoporosis","Bipolar Disorder","Schizophrenia","Multiple Sclerosis","Parkinson's Disease","Alzheimer's Disease","IBS","Crohn's Disease","Ulcerative Colitis","Celiac Disease","Other"],J=["Penicillin","Sulfa Drugs","NSAIDs","Aspirin","Latex","Peanuts","Tree Nuts","Milk","Eggs","Wheat","Soy","Fish","Shellfish","Pollen","Dust Mites","Pet Dander","Mold","Bee Stings","Contrast Dye","Other"],K=["Lisinopril","Atorvastatin","Levothyroxine","Metformin","Amlodipine","Metoprolol","Omeprazole","Simvastatin","Losartan","Albuterol","Gabapentin","Hydrochlorothiazide","Sertraline","Acetaminophen","Ibuprofen","Fluoxetine","Amoxicillin","Prednisone","Escitalopram","Tramadol","Furosemide","Antihypertensives","Antidiabetics","Statins","Anticoagulants","Beta Blockers","Antidepressants","Antibiotics","Pain Relievers","Anti-inflammatories","Antihistamines","Inhalers","Thyroid Medications","Vitamins & Supplements","Other"],h=d=>`
	mt-2 block w-full rounded-xl px-3 py-3 text-sm font-medium placeholder-secondary
	bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10 text-text
	focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/50 shadow-sm
	transition-all duration-150
	${d?"border-red-500 focus:ring-red-400 focus:border-red-500":""}
`.replace(/\s+/g," ").trim(),P=d=>`
	px-3 py-2.5 rounded-lg cursor-pointer transition-all duration-150 text-xs sm:text-sm font-medium text-center
	${d?"bg-primary text-white shadow-md":"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10 text-text hover:border-primary/50"}
`.replace(/\s+/g," ").trim(),f=d=>`
	mt-2 block w-full rounded-xl px-3 py-3 text-sm text-left
	bg-white dark:bg-neutral-900 border border-primary/30 dark:border-primary/30
	focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/60 shadow-[0_0_0_1px_var(--color-primary)]
	transition-all duration-150 text-text
	${d?"border-red-500 focus:ring-red-400 focus:border-red-500 shadow-none":""}
`.replace(/\s+/g," ").trim(),G=`
	mt-2 rounded-xl px-3 py-3 text-sm font-medium
	bg-white dark:bg-neutral-900 border border-gray-200 dark:border-white/10
	focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/50 shadow-sm
	transition-all duration-150
	h-[46px] leading-none min-w-[70px] text-text
`.replace(/\s+/g," ").trim(),y=`absolute z-30 mt-2 max-h-60 w-full overflow-auto rounded-xl
 bg-white dark:bg-neutral-900 border border-primary/40 dark:border-primary/40 shadow-xl ring-1 ring-primary/10 dark:ring-primary/20`,j=(d,m)=>`cursor-pointer select-none px-4 py-2.5 text-sm transition-all duration-150 rounded-lg
	${m?"bg-primary text-white font-semibold shadow-md":d?"bg-primary/10 dark:bg-primary/20 text-text":"text-text"}`;function te(){const d=T(),{user:m,userProfile:C,refreshUserProfile:F,loading:E}=R(),[c,w]=b.useState(1),[g,S]=b.useState(!1),[a,v]=b.useState({}),[t,p]=b.useState({basic:{fullName:"",dob:"",gender:"",bloodGroup:"",height:{value:"",unit:"cm"},weight:{value:"",unit:"kg"},contactNumber:"",emergencyContact:{name:"",number:"",relation:""}},medical:{chronicConditions:[],allergies:[],currentMedications:[],customChronicCondition:"",customAllergy:"",customMedication:"",vision:{leftEye:"",rightEye:"",wearsGlasses:!1},hearingAids:!1},lifestyle:{habits:[],preferences:[]},onboardingCompleted:!1});if(b.useEffect(()=>{C&&C.onboardingCompleted===!0&&d("/user")},[C,d]),E)return e.jsx("div",{className:"min-h-screen bg-background aurora-bg flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-primary text-lg",children:"Loading..."})})});const u=l=>{const{name:i,value:s}=l.target;if(i.includes(".")){const[r,o]=i.split(".");p(x=>({...x,basic:{...x.basic,[r]:{...x.basic[r],[o]:s}}}))}else p(r=>({...r,basic:{...r.basic,[i]:s}}))},k=(l,i,s)=>{p(r=>({...r,[l]:{...r[l],[i]:s}}))},O=(l,i,s)=>{p(r=>({...r,[l]:{...r[l],[i]:s}}))},M=(l,i)=>{p(s=>({...s,lifestyle:{...s.lifestyle,[l]:i}}))},L=()=>{const l={},{basic:i}=t;return i.fullName||(l.fullName="Full name is required"),i.dob||(l.dob="Date of birth is required"),i.gender||(l.gender="Gender is required"),i.bloodGroup||(l.bloodGroup="Blood group is required"),i.height.value||(l.height="Height is required"),i.weight.value||(l.weight="Weight is required"),v(l),Object.keys(l).length===0},I=()=>{const l={},{medical:i}=t;return i.chronicConditions.includes("Other")&&!i.customChronicCondition.trim()&&(l.customChronicCondition="Please specify your chronic condition"),i.allergies.includes("Other")&&!i.customAllergy.trim()&&(l.customAllergy="Please specify your allergy"),i.currentMedications.includes("Other")&&!i.customMedication.trim()&&(l.customMedication="Please specify your medication"),v(l),Object.keys(l).length===0},H=()=>(v({}),!0),A=async()=>{if(!(c===1&&!L())&&!(c===2&&!I())){c===3&&H();try{S(!0);const l=c===1?{basic:t.basic}:c===2?{medical:{...t.medical,chronicConditions:t.medical.customChronicCondition?[...t.medical.chronicConditions.filter(i=>i!=="Other"),t.medical.customChronicCondition]:t.medical.chronicConditions.filter(i=>i!=="Other"),allergies:t.medical.customAllergy?[...t.medical.allergies.filter(i=>i!=="Other"),t.medical.customAllergy]:t.medical.allergies.filter(i=>i!=="Other"),currentMedications:t.medical.customMedication?[...t.medical.currentMedications.filter(i=>i!=="Other"),t.medical.customMedication]:t.medical.currentMedications.filter(i=>i!=="Other")}}:c===3?{lifestyle:t.lifestyle}:{};if(m!=null&&m.uid&&Object.keys(l).length>0){const i=await q(m.uid,l);if(!i.success)throw new Error(i.error||"Failed to save profile")}if(c===1&&(m!=null&&m.uid)){const i=W(z,"users",m.uid);await U(i,{onboardingCompleted:!0})}if(c===3){await F(),d("/user");return}w(i=>i+1)}catch(l){console.error("Error saving data:",l),v({submit:l.message})}finally{S(!1)}}},$=()=>{var l,i;switch(c){case 1:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",name:"fullName",value:t.basic.fullName,onChange:u,placeholder:"Enter your full name",className:h(a.fullName)}),a.fullName&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.fullName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Date of Birth *"}),e.jsx("input",{type:"date",name:"dob",value:t.basic.dob,onChange:u,className:h(a.dob)}),a.dob&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.dob})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Gender *"}),e.jsx(n,{value:t.basic.gender,onChange:s=>u({target:{name:"gender",value:s}}),children:e.jsxs("div",{className:"relative",children:[e.jsx(n.Button,{className:f(a.gender),children:e.jsx("span",{className:t.basic.gender?"text-text":"text-secondary",children:((l=B.find(s=>s.value===t.basic.gender))==null?void 0:l.label)||"Select Gender"})}),e.jsx(n.Options,{className:y,children:B.slice(1).map(s=>e.jsx(n.Option,{value:s.value,className:({active:r,selected:o})=>j(r,o),children:s.label},s.value))})]})}),a.gender&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.gender})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Blood Group *"}),e.jsx(n,{value:t.basic.bloodGroup,onChange:s=>u({target:{name:"bloodGroup",value:s}}),children:e.jsxs("div",{className:"relative",children:[e.jsx(n.Button,{className:f(a.bloodGroup),children:e.jsx("span",{className:t.basic.bloodGroup?"text-text":"text-secondary",children:((i=D.find(s=>s.value===t.basic.bloodGroup))==null?void 0:i.label)||"Select Blood Group"})}),e.jsx(n.Options,{className:y,children:D.slice(1).map(s=>e.jsx(n.Option,{value:s.value,className:({active:r,selected:o})=>j(r,o),children:s.label},s.value))})]})}),a.bloodGroup&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.bloodGroup})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Height *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",name:"height.value",value:t.basic.height.value,onChange:u,placeholder:"165",className:`${h(a.height)} flex-1`}),e.jsxs("select",{name:"height.unit",value:t.basic.height.unit,onChange:u,className:G,children:[e.jsx("option",{value:"cm",children:"cm"}),e.jsx("option",{value:"ft",children:"ft"})]})]}),a.height&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.height})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text mb-1",children:"Weight *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",name:"weight.value",value:t.basic.weight.value,onChange:u,placeholder:"70",className:`${h(a.weight)} flex-1`}),e.jsxs("select",{name:"weight.unit",value:t.basic.weight.unit,onChange:u,className:G,children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"lbs",children:"lbs"})]})]}),a.weight&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.weight})]})]}),a.submit&&e.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40",children:e.jsx("p",{className:"text-sm text-red-500",children:a.submit})}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"button",onClick:A,disabled:g,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:g?"Saving...":"Next Step →"})})]});case 2:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🩺 Chronic Conditions"}),e.jsx(n,{value:t.medical.chronicConditions,onChange:s=>k("medical","chronicConditions",s),multiple:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx(n.Button,{className:f(!1),children:e.jsx("span",{className:t.medical.chronicConditions.length?"text-text":"text-secondary",children:t.medical.chronicConditions.length?t.medical.chronicConditions.join(", "):"Select chronic conditions"})}),e.jsx(n.Options,{className:y,children:_.map(s=>e.jsx(n.Option,{value:s,className:({active:r,selected:o})=>j(r,o),children:s},s))})]})}),t.medical.chronicConditions.includes("Other")&&e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"text",placeholder:"Please specify your condition",value:t.medical.customChronicCondition,onChange:s=>O("medical","customChronicCondition",s.target.value),className:h(a.customChronicCondition)}),a.customChronicCondition&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.customChronicCondition})]}),t.medical.chronicConditions.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.medical.chronicConditions.map((s,r)=>e.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:s==="Other"&&t.medical.customChronicCondition?t.medical.customChronicCondition:s},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"⚠️ Allergies"}),e.jsx(n,{value:t.medical.allergies,onChange:s=>k("medical","allergies",s),multiple:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx(n.Button,{className:f(!1),children:e.jsx("span",{className:t.medical.allergies.length?"text-text":"text-secondary",children:t.medical.allergies.length?t.medical.allergies.join(", "):"Select allergies"})}),e.jsx(n.Options,{className:y,children:J.map(s=>e.jsx(n.Option,{value:s,className:({active:r,selected:o})=>j(r,o),children:s},s))})]})}),t.medical.allergies.includes("Other")&&e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"text",placeholder:"Please specify your allergy",value:t.medical.customAllergy,onChange:s=>O("medical","customAllergy",s.target.value),className:h(a.customAllergy)}),a.customAllergy&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.customAllergy})]}),t.medical.allergies.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.medical.allergies.map((s,r)=>e.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:s==="Other"&&t.medical.customAllergy?t.medical.customAllergy:s},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"💊 Current Medications"}),e.jsx(n,{value:t.medical.currentMedications,onChange:s=>k("medical","currentMedications",s),multiple:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx(n.Button,{className:f(!1),children:e.jsx("span",{className:t.medical.currentMedications.length?"text-text":"text-secondary",children:t.medical.currentMedications.length?t.medical.currentMedications.join(", "):"Select medications"})}),e.jsx(n.Options,{className:y,children:K.map(s=>e.jsx(n.Option,{value:s,className:({active:r,selected:o})=>j(r,o),children:s},s))})]})}),t.medical.currentMedications.includes("Other")&&e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"text",placeholder:"Please specify your medication",value:t.medical.customMedication,onChange:s=>O("medical","customMedication",s.target.value),className:h(a.customMedication)}),a.customMedication&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a.customMedication})]}),t.medical.currentMedications.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.medical.currentMedications.map((s,r)=>e.jsx("span",{className:"px-3 py-1.5 rounded-lg text-xs glass border soft-divider",children:s==="Other"&&t.medical.customMedication?t.medical.customMedication:s},r))})]}),a.submit&&e.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:a.submit}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>w(s=>s-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:"← Back"}),e.jsx("button",{type:"button",onClick:A,disabled:g,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:g?"Saving...":"Next Step →"})]})]});case 3:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🏃‍♂️ Your Habits"}),e.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select all that apply"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:V.map(s=>{const r=t.lifestyle.habits.includes(s);return e.jsx("button",{type:"button",onClick:()=>{const o=t.lifestyle.habits;M("habits",r?o.filter(x=>x!==s):[...o,s])},className:P(r),children:s},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-bold text-text mb-3",children:"🍽️ Dietary Preferences"}),e.jsx("p",{className:"text-sm text-secondary mb-4",children:"Select your dietary preferences and restrictions"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:Y.map(s=>{const r=t.lifestyle.preferences.includes(s);return e.jsx("button",{type:"button",onClick:()=>{const o=t.lifestyle.preferences;M("preferences",r?o.filter(x=>x!==s):[...o,s])},className:P(r),children:s},s)})})]}),a.submit&&e.jsx("div",{className:"glass rounded-xl p-4 border border-red-500/40 text-sm text-red-500",children:a.submit}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>w(s=>s-1),className:"glass rounded-xl px-5 py-3 text-text border soft-divider",children:"← Back"}),e.jsx("button",{type:"button",onClick:A,disabled:g,className:"glass-cta px-6 py-3 rounded-xl disabled:opacity-50",children:g?"Saving...":"Finish →"})]})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-background aurora-bg px-3 sm:px-6 py-6 sm:py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"mb-8 sm:mb-10",children:e.jsx("div",{className:"glass rounded-2xl p-4 sm:p-6 border soft-divider",children:e.jsx("div",{className:"flex items-center justify-between gap-2",children:N.map((l,i)=>e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("div",{className:`rounded-full h-12 w-12 sm:h-14 sm:w-14 flex items-center justify-center font-bold text-base sm:text-lg shadow-lg ${c>=l.id?"bg-gradient-to-r from-primary to-accent text-white":"glass border soft-divider text-secondary"}`,children:c>l.id?e.jsx("span",{className:"text-xl",children:"✓"}):e.jsx("span",{children:l.id})}),e.jsxs("div",{className:"mt-2 text-center min-w-0",children:[e.jsx("h3",{className:`text-[11px] sm:text-sm font-bold truncate ${c>=l.id?"text-text":"text-secondary"}`,children:l.name}),e.jsx("p",{className:"hidden sm:block text-xs text-secondary mt-1",children:l.description})]})]}),i!==N.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 sm:mx-4 rounded-full ${c>l.id?"bg-primary/60":"bg-white/20 dark:bg-black/20"}`})]},l.id))})})}),e.jsxs("div",{className:"glass-elevated rounded-3xl p-5 sm:p-8 border soft-divider",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text mb-2",children:N[c-1].name}),e.jsx("p",{className:"text-secondary",children:N[c-1].description})]}),$()]})]})})}export{te as default};
